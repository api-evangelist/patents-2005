---

title: Repair of network communication files
abstract: Embodiments of the present disclosure provide method and devices for repairing computer files that impair network communications. In this regard, one embodiment of such a method, among others, can be broadly summarized by the following steps: extracting information corresponding to settings for network communications from a local resource file, wherein the local resource file is embedded within an application executed by a computer for repairing the files impairing network communication on the computer; and replacing information within a registry of the computer with at least a portion of the extracted information, wherein the replaced information includes settings pertaining to facilitation of network communications on the computer. Other methods and devices are also provided.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07730359&OS=07730359&RS=07730359
owner: AT&T Intellectual Property I, L.P.
number: 07730359
owner_city: Reno
owner_country: US
publication_date: 20050922
---
The present disclosure is generally related to computer operating systems and more particularly is related to configuring computer operating systems to enable network communications.

Current versions of the Microsoft Windows operating systems starting with Windows 95 utilize a centralized hierarchical database to store system settings hardware configurations and user preferences. This database is called the Windows Registry or more commonly known as the registry.

For example the registry stores configuration information for hardware or software that is installed within the Windows operating system which allows the Window operating system to retrieve the information at later dates such as at start up. At start up the Windows operating system reads the configuration information in the registry to determine which drivers need to be loaded which settings to be applied and which resources need to be allocated.

In addition to operating system settings the registry also stores user preferences and application settings. For example when a user changes his or her desktop background these details are stored in the registry. Application settings such as what directory to which a user prefers to download files may be stored in the registry as well. Thus the registry contains information that the operating system continually references during operation of a computer.

Viruses spyware and other malware can cause corruption and damage to the registry. For example one common problem involves the Windows Socket also know as Winsock. A Winsock is an application programming interface API which communicates with other machines via the TCP IP protocol. Winsock settings maintained in the Windows registry are often corrupted by the installation of other programs within the Windows operating system. After Winsock settings in the registry are corrupted applications that need the Winsock API to operate such as web browsers fail to function properly. Further measures by users to reconfigure Winsock settings in the registry often lead to additional problems and malfunctions. Thus a heretofore unaddressed need exists in the industry to address the aforementioned deficiencies and inadequacies.

Embodiments of the present disclosure provide methods and devices for repairing computer files that impair network communications. In this regard one embodiment of such a method among others can be broadly summarized by the following steps extracting information corresponding to settings for network communications from a local resource file wherein the local resource file is embedded within an application executed by a computer for repairing the files impairing network communication on the computer and replacing information within a registry of the computer with at least a portion of the extracted information wherein the replaced information includes settings pertaining to facilitation of network communications on the computer.

Embodiments also include a computer readable medium having a computer program for performing the above steps. Other methods features devices and advantages of the present disclosure will be or become apparent to one with skill in the art upon examination of the following drawings and detailed description. It is intended that all such additional systems methods features and advantages be included within this description and be within the scope of the present disclosure.

The processor is a hardware device for executing software particularly that stored in memory . The processor can be any custom made or commercially available processor a central processing unit CPU an auxiliary processor among several processors associated with the computer a semiconductor based microprocessor in the form of a microchip or chip set a macroprocessor or generally any device for executing software instructions.

The memory can include any one or combination of volatile memory elements e.g. random access memory RAM such as DRAM SRAM SDRAM etc. and nonvolatile memory elements e.g. ROM hard drive tape CDROM etc. . Moreover the memory may incorporate electronic magnetic optical and or other types of storage media. Note that the memory can have a distributed architecture where various components are situated remote from one another but can be accessed by the processor .

The software in memory may include one or more separate programs each of which comprises an ordered listing of executable instructions for implementing logical functions. In the example of the software in the memory includes a network communication repair NCR system in accordance with an embodiment of the present disclosure and a suitable operating system O S . The NCR system is a source program executable program object code script or any other entity comprising a set of instructions to be performed. The software in the memory may further include a basic input output system BIOS omitted for simplicity . The BIOS is a set of essential software routines that initialize and test hardware at startup start the O S and support the transfer of data among the hardware devices. The BIOS is stored in ROM so that the BIOS can be executed when the computer is activated. Thus it will be appreciated that a variety of software may be installed into the computer system examples of which may include a web browser not shown file sharing applications not shown media players not shown etc.

A nonexhaustive list of examples of suitable commercially available operating systems is as follows a a Windows operating system available from Microsoft Corporation b a Netware operating system available from Novell Inc. c a Macintosh operating system available from Apple Computer Inc. d a UNIX operating system which is available for purchase from many vendors such as the Hewlett Packard Company Sun Microsystems Inc. and AT T Corporation e a LINUX operating system which is freeware that is readily available on the Internet f a run time Vxworks operating system from WindRiver Systems Inc. or g an appliance based operating system such as that implemented in handheld computers or personal data assistants PDAs e.g. PalmOS available from Palm Computing Inc. and Windows CE available from Microsoft Corporation . The operating system controls the execution of other computer programs such as the NCR system and provides scheduling input output control file and data management memory management and communication control and related services.

Processor memory and one or more input and or output I O devices or peripherals are communicatively coupled via a local interface . The local interface can be for example but not limited to one or more buses or other wired or wireless connections as is known in the art.

The I O devices may include input devices for example but not limited to a keyboard mouse scanner microphone etc. Furthermore the I O devices may also include output devices for example but not limited to a printer display etc. Finally the I O devices may further include devices that communicate both inputs and outputs for instance but not limited to a modulator demodulator modem for accessing another device system or network a radio frequency RF or other transceiver a telephonic interface a bridge a router etc. For example reference numeral represents a network interface for communicating various information with a communication network not shown such as but not limited to the Internet. Further reference numeral denotes a monitor display which visually displays various information to the user.

With reference now to a block diagram depicts an example of the storage of important information within the general purpose computer that may be implemented in one embodiment of the present disclosure. General purpose computer contains local files which include such files as application files data files device drivers operating system files or other types of files. Local files may also include specific categories of files such as user files and system files . User files may be those application and data files that customize or configure general purpose computer in a personal manner for a specific user. System files may include operating system and application files available for use to any user of the general purpose computer .

General purpose computer also contains a computer registry . The registry is a central hierarchical database in computer operating systems such as Windows 9X and Windows NT operating systems where Windows 9X refers to Windows 95 Windows 98 and succeeding operating systems. The registry stores information necessary to configure a computer system for one or more users applications and hardware devices. The registry contains information that the operating system continually reference for operation such as profiles for each user the applications installed on the computer the types of documents that each application may create information about folders and icons the type of hardware on the computer system and the configuration of the input output boards. Entries in registry may be categorized as system related entries and user related entries shown as system registry and user registry . If registry information is corrupted serious problems can result that may require reinstallation of the operating system .

According to an exemplary embodiment the structure of the registry is a hierarchical structure similar to a directory file tree. The registry is organized with hives keys subkeys and values. Hives are the top most portions of a hierarchical data tree with each hive containing a certain category of information. For example one hive may contain the configuration that applies to the particular user logged on while another hive may contain information about the hardware installed in the computer . Some possible hives are identified below for the Windows operating system 

HKEY CURRENT USER HKCU This Hive contains the preferences and configuration for the particular user who is currently logged in. If a different user is logged onto the same machine then the information in this Hive changes corresponding to that particular user s configuration.

HKEY LOCAL MACHINE HKLM This Hive contains the configuration for the actual computer. The information in this Hive remains the same regardless of the user currently logged on.

HKEY CLASSES ROOT HKCR This Hive contains the information that pertains to the core user interface such as file associations and shortcuts.

HKEY USERS HKU This Hive contains the user information for all the users that have ever logged onto this computer.

HKEY CURRENT CONFIG HKCC This Hive contains the information about current hardware configuration. This Hive is linked to the HKLM Hive.

HKEY DYN DATA HKDD This Hive contains information about hardware Plug and Play. This Hive is linked to the HKLM Hive.

Keys are an organizational unit in the registry that can either contain values or further subkeys. Values contain the actual data that is being stored in a key or a subkey. There are quite a few different types of values that can be stored in the registry but the most common ones are binary strings and DWORD 32 bit values. Registry information in some embodiments also includes Winsock settings associated with registry values maintained in Winsock and Winsock 2 registry keys or other related keys.

Example registry keys can be seen below. These registry keys are associated with Winsock APIs utilized by the general purpose computer .

For example during the installation of a DSL digital subscriber line service Winsock registry keys are often corrupted. As a result a web browser on the general purpose computer is unable to connect with a network such as an Internet since the web browser makes use of the Winsock API to facilitate the connection.

Currently help desk agents e.g. tier 3 agents for a DSL service verbally instruct customers through a number of steps that include modifying the user s registry information on the general purpose computer and uninstalling network protocols from the computer . However if a customer fails to follow instructions carefully it is possible to render the customer s computer inoperable. Thus in accordance with the present disclosure embodiments are provided for automatically repairing Winsock registry keys or other settings related to network communication operability at the push of a button of an interface of a network communication repair application or system .

With reference now to a flow chart depicts one embodiment of a process for repairing corrupted entries of a registry on a client computer that impair network communications such as those involving the Winsock API. The process begins by determining a version of the operating system being utilized by a general purpose computer step . Then registry information within the registry is copied and saved in a back up file or files by implementing a call to the Winsock API in one embodiment. Next new registry information is extracted from a resource file containing registry information for different versions of the operating system . The extracted information corresponds to the version of the operating system that was determined in step .

Also as part of the process the network connection for the general purpose computer is reset to release a lease for an IP address under DHCP Dynamic Host Configuration Protocol or to disable network communications. Subsequently current registry information pertaining to the Winsock API are deleted from the registry of the general purpose computer and the extracted registry information is added to the registry in its place. Afterwards a clean up routine is performed to remove any files that were produced during the repair process such as files created to hold information extracted from the resource file. Then the computer is rebooted so that the new registry settings may take effect. Also if need be the back up file s are maintained on the general purpose computer so that they may be later restored to previous registry settings if desired.

Next illustrate screenshot diagrams of a graphical user interface for one embodiment of a NCR application or system . In a first graphical user interface GUI is shown where the first GUI is identified as a Winsock Repair Tool named WinsockFix v2.2. As shown the first GUI includes three buttons . A first button includes the label FIX IT and upon activation of this button a repair process is initiated to fix or repair registry settings that are preventing or impairing proper utilization of a Winsock API. A second button includes the label BKUP Registry and upon activation of this button current registry settings are copied and saved in a backup file on a general purpose computer . A third button includes the label About and upon activation of this button additional information is displayed regarding the NCR application .

An embodiment of a second GUI that displays in response to activation of the third button is shown in . In this example the second GUI identifies a name of the application a brief description of the application and a copyright notice . Further the second GUI in one embodiment is initially displayed adjacent to or overlaying across the first GUI on the computer desktop with the second GUI receiving current desktop focus. Correspondingly to close the second GUI and return focus to the first GUI a button labeled OK may be activated from the second GUI .

Referring back to when the first GUI is displayed the NCR application determines a version of the operating system that is operating on the general purpose computer . As shown in the first GUI a status message indicates to a user the detected operating system which may be done utilizing a Windows API such as but not limited to GetVersionEx.

In if the first button is activated then a third GUI display is displayed in one embodiment as shown in . In accordance with the present disclosure the third GUI may be initially displayed adjacent to or overlaying across the first GUI on the computer desktop with the third GUI initially receiving desktop focus.

With regard to a user is prompted to confirm that he or she would like to continue with operation of the NCR application via the third GUI . Accordingly by selecting the OK button a user confirms his or her desire to continue with operation of the NCR application so that registry settings related to the Winsock API may be repaired. In response the third GUI is closed and removed from the desktop and focus is returned to the first GUI . Alternatively if the user selects the CANCEL button the interface to the NCR application is closed and the operation of the application is canceled.

Accordingly upon selection of the OK button to confirm a desire to repair registry settings the status message on the GUI is update to reflect the current step being performed by the NCR application . For example in the first GUI displays a status message stating Repairing Winsock . . . to indicate that the registry settings related to the Winsock API are in the process of being repaired. After the repair process is completed then a fourth GUI is displayed to prompt the user to reboot the general purpose computer so that the new settings can take effect as shown in . In accordance with the present disclosure the fourth GUI in one embodiment is initially displayed adjacent to or overlaying across the first GUI on the computer desktop with the fourth GUI initially receiving focus on the computer desktop.

Referring to by selecting the OK button the NCR application initiates a routine to restart the general purpose computer so that the new settings are recognized by the operating system of the general purpose computer . Alternatively if the user selects the CANCEL button then the restart routine is not initiated and focus returns to the first GUI on the computer desktop.

Referring back to if a user selects the BKUP Registry button then a fifth GUI is displayed to the user as shown in . The fifth GUI in one embodiment is initially displayed adjacent to or overlaying over the first GUI on the computer desktop with the fifth GUI initially receiving current desktop focus.

In response to selection of the BKUP Registry button the NCR application makes copies of registry information before operation of the NCR application is completed. Accordingly the registry information is copied and saved in a back up registry file that is stored locally on a hard drive of the general purpose computer . Therefore at a later time the information stored on the back up file s may be accessed and imported back to the registry . Accordingly after the BKUP Registry button is selected and a back up routine is performed the fifth GUI is displayed informing the user of completion of the back up routine and location of files that contain saved information from the back up routine as shown in . To close the fifth GUI and return focus to the first GUI a button labeled OK may be activated from the fifth GUI .

Note in some embodiments the registry is backed up in its entirety during a back up routine. Further in some embodiments the back up routine or operation is performed as a background process that is transparent to the user. Also of note in some embodiments a NCR application is configured to allow the operating system to process requests from other running applications while the NCR application is also operating.

In some embodiments registry information that is replaced in the registry are pre compiled with different registry keys that are known to be valid e.g. from documentation about the operating system from experience in troubleshooting registry problems etc. . In one embodiment an executable file of the NCR application is embedded with a resource file that contains registry information for different versions of the operating system . After the NCR application determines the particular version of the operating system operating on the general purpose computer the NCR application extracts the registry information from the embedded resource file for the particular operating system version e.g. Windows XP . Then the NCR application resets the network connection e.g. TCP IP of the general purpose computer e.g. via utilization of Window command line tool ipconfig.exe among others .

In some embodiments additional information besides registry information is also replaced in the general purpose computer to repair network communication problems. For example additional information may include but is not limited to host file information.

In computing a host file is stored on a computer s file system and is used to look up an Internet Protocol address of a device connected to a computer network. The host file describes a many to one mapping of device names to IP addresses. Accordingly when accessing a device by name the operating system attempts to locate the name within the host file if it exists before accessing the Internet domain name system DNS . The host file can also be used in malicious ways by the authors of spyware and viruses where a device name such as a web site name is associated with an IP address of another web site. Therefore a corrupted host file may impair network communications for a general purpose computer .

With reference now to a flow chart depicts one embodiment of a process for repairing corrupt entries of a registry and host information on a general purpose computer . The process begins by determining a version of the operating system being utilized by a general purpose computer experiencing network communication problems such as those involving the Winsock API step . Then registry information within the registry and host information within the computer s file system is copied and saved in a back up file or files. New registry and host information is extracted from a resource file containing registry information for different versions of the operating system. The extracted information corresponds to the version of the operating system that was determined in step .

The process continues with the network connection for the general purpose computer being reset e.g. resetting TCP IP settings releasing lease of DCHP address etc. . Further current registry information pertaining to the Winsock API and host information are deleted from the general purpose computer and the extracted registry and host information are added to the registry and file directory of the general purpose computer to replace the deleted information. Afterwards a clean up routine is performed to remove any files that were produced during the repair process such as files created to hold information extracted from the resource file. Then the computer is rebooted so that the new registry and host settings may take effect. Also if need be the back up file s are maintained on the general purpose computer to restore the previous registry and host settings if desired.

In accordance with one embodiment for different versions of operating systems detected by the application different versions of registry information and other files associated with proper operation of the Winsock API. are extracted by the application with slight variations existing between the different versions in some embodiments. For example for Windows XP operating system the following keys may be replaced 

Advantageously embodiments of the present disclosure include new setting information for the Winsock API within an application used to repair the settings and does not rely on installation files e.g. .CAB files maintained on hard drives or removable installation disks to be used to restore registry settings and other files affecting network communications. Further embodiments of the present disclosure are not limited to the Windows operating system. For example other operating systems also have registry equivalents that are contemplated by the present disclosure.

There are many scenarios where different embodiments of a NCR application may be utilized. For instance in accordance with one embodiment a new user of a DSL service may be provided a group of files necessary for installing software to implement the DSL service on a general purpose computer . Accordingly the necessary files may be stored on a removable disk that the user sets in a disk drive of the general purpose computer so that the general purpose computer may access the contents of the disk. Alternatively the necessary files may also be downloaded from a network server onto a hard disk of the general purpose computer . Accordingly the network communication repair application may be included within the group of files for implementing the DSL service as an executable file. In this way if a user experiences problems with his or her DSL service the user may execute the NCR application so that the application may resolve any Winsock issues the general purpose computer is experiencing.

Embodiments of the NCR application of the present disclosure can be implemented in hardware software firmware or a combination thereof. In one embodiment the NCR application is implemented in software or firmware that is stored in a memory and that is executed by a suitable instruction execution system. If implemented in hardware as in an alternative embodiment the NCR application can be implemented with any or a combination of the following technologies which are all well known in the art a discrete logic circuit s having logic gates for implementing logic functions upon data signals an application specific integrated circuit ASIC having appropriate combinational logic gates a programmable gate array s PGA a field programmable gate array FPGA etc.

In one embodiment the NCR application which comprises an ordered listing of executable instructions for implementing logical functions can be embodied in any computer readable medium for use by or in connection with an instruction execution system apparatus or device such as a computer based system processor containing system or other system that can fetch the instructions from the instruction execution system apparatus or device and execute the instructions.

In the context of this document a computer readable medium can be any means that can contain store communicate or transport the program for use by or in connection with the instruction execution system apparatus or device. The computer readable medium can be for example but not limited to an electronic magnetic optical electromagnetic infrared or semiconductor system apparatus device or transport medium. More specific examples a nonexhaustive list of the computer readable medium would include the following an electrical connection electronic having one or more wires a portable computer diskette magnetic a random access memory RAM electronic a read only memory ROM electronic an erasable programmable read only memory EPROM or Flash memory electronic an optical fiber optical and a portable compact disc read only memory CDROM optical . In addition the scope of the present disclosure includes embodying the functionality of the preferred embodiments of the present disclosure in logic embodied in hardware or software configured mediums.

Any process descriptions or blocks in flow charts should be understood as representing modules segments or portions of code which include one or more executable instructions for implementing specific logical functions or steps in the process and alternate implementations are included within the scope of the present disclosure in which functions may be executed out of order from that shown or discussed including substantially concurrently or in reverse order depending on the functionality involved as would be understood by those reasonably skilled in the art of the present disclosure.

It should be emphasized that the above described embodiments of the present disclosure are merely possible examples of implementations merely set forth for a clear understanding of the principles of the disclosure. Many variations and modifications may be made to the above described embodiments without departing substantially from the spirit and principles of the present disclosure. All such modifications and variations are intended to be included herein within the scope of this disclosure.

