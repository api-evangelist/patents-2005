---

title: Using content analysis to detect spam web pages
abstract: Evaluating content includes receiving content, analyzing the content for web spam using a content-based identification technique, and classifying the content according to the analysis. An index of analyzed contents may be created. A system for evaluating content includes a storage device configured to store data and a processor configured to analyze content for web spam using content-based identification techniques.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07962510&OS=07962510&RS=07962510
owner: Microsoft Corporation
number: 07962510
owner_city: Redmond
owner_country: US
publication_date: 20050211
---
The present invention relates generally to the field of software and more particularly to evaluating content for web spam.

Unsolicited content often referred to as spam is problematic in that large amounts of undesirable data are sent to and received by users over various electronic media including the World Wide Web web . Spam can be delivered using e mail or other electronic content delivery mechanisms including messaging the Internet the web or other electronic communication media. In the context of search engines crawlers bots and other content discovery mechanisms undesirable content on the web web spam is a growing problem and a mechanism for its detection is needed. Search engines therefore have an incentive to weed out spam web pages so as to improve the search experience of their customers.

For example when a search is performed all web pages that fit a given search may be listed in a results page. Included with the search results pages may be web pages with content that is of no value to a user and that was generated to specifically increase the visibility of a particular web site. Further search engines rank pages using various parameters of the pages. Search engines use a conventional technique to increase the rank of a page by determining the inbound links. Search engines typically rank a page higher when that page has more inbound links than a web page with fewer inbound links. Some web sites however attempt to artificially boost their rankings in a search engine by creating spurious web pages that link to their home page thereby generating significant amounts of unusable or uninteresting data for users. A further problem associated with web spam is that it can slow or prevent accurate search engine performance.

Search engines have taken pivotal roles in web surfers lives Most users have stopped maintaining lists of bookmarks and are instead relying on search engines such as Google Yahoo or MSN Search to locate the content they seek. Consequently commercial web sites are more dependant than ever on being placed prominently within the result pages returned by a search engine. In fact high placement in a search engine is one of the strongest contributors to a commercial web site s success.

For these reasons a new industry of search engine optimizers SEOs has sprung up. Search engine optimizers promise to help commercial web sites achieve a high ranking in the result pages to queries relevant to a site s business and thus experience higher traffic by web surfers.

In the best case search engine optimizers help web site designers generate content that is well structured topical and rich in relevant keywords or query terms. Unfortunately some search engine optimizers go well beyond producing relevant pages they try to boost the ratings of a web site by loading pages with a wide variety of popular query terms whether relevant or not. In fact some SEOs go one step further Instead of manually creating pages that include unrelated but popular query terms they machine generate many such pages each of which contains some monetizable keywords i.e. keywords that have a high advertising value such as the name of a pharmaceutical credit cards mortgages etc. . Many small endorsements from these machine generated pages result in a sizable page rank for the target page. In a further escalation SEOs have started to set up DNS servers that will resolve any host name within their domain and typically map it to a single IP address.

Most if not all of the SEO generated pages exist solely to mislead a search engine into directing traffic towards the optimized site in other words the SEO generated pages are intended only for the search engine and are completely useless to human visitors.

The following summary provides an overview of various aspects of the invention. It is not intended to provide an exhaustive description of all of the important aspects of the invention or to define the scope of the invention. Rather this summary is intended to serve as an introduction to the detailed description and figures that follow.

Aspects of the present invention include methods for evaluating content of a web page to detect web spam. Content may be evaluated for detection of web spam by crawling the web and identifying web pages associated with web spam or by evaluating content after a query is performed. Once the content is received it can be analyzed using content based identification techniques. A content based identification technique can include the use of various metrics to identify whether or determine the likelihood or relative probability that a web page is associated with web spam. Once evaluated the content can then be classified according to the content based identification analysis as either free of web spam or as containing or likely containing web spam. After the content is classified an index of the analyzed contents can be created for future use with user queries.

Additional features and advantages of the invention will be made apparent from the following detailed description of illustrative embodiments that proceeds with reference to the accompanying drawings.

The subject matter is described with specificity to meet statutory requirements. However the description itself is not intended to limit the scope of this patent. Rather the inventors have contemplated that the claimed subject matter might also be embodied in other ways to include different steps or combinations of steps similar to the ones described in this document in conjunction with other present or future technologies. Moreover although the term step may be used herein to connote different elements of methods employed the term should not be interpreted as implying any particular order among or between various steps herein disclosed unless and except when the order of individual steps is explicitly described.

Detection of web spam is an important goal in reducing and eliminating undesirable content. Depending upon a user s preferences some content may not be desirable and detection may be performed to determine whether web spam is present. Web spam may be identified by analyzing the content of the page and classifying the web page as spam. Various metrics can be used alone or in conjunction with one another to identify web pages as web spam. For example a web page can be classified as spam if it has a large number of very long or very short words a large number of words an unusually low number of common words and other attributes of the content that indicate that the page is likely designed to attract search engines rather than exist for its own merits. The outputs of the different metrics or filters can be fed into an intelligent filter also referred to herein as a classifier which uses weights to appropriately distinguish good pages from spam. Classifiers take an initial data set called the training set which is divided into positive and negative examples and look at all features of the positive and negative examples in combination and attempt to obtain a dividing line or more generally a hyperplane or hypersurface that separates the positive examples from the negative examples e.g. the spam from the non spam . Once the classifier is sufficiently trained it will be able to classify additional data points that were not in the training set by checking where they fall with respect to the dividing line.

In some examples web spam detection techniques can be performed during the creation of a search engine index rather than when a query is performed so as to not delay search results to a user. In other examples web spam detection can be performed differently.

Some classes of spam web pages can be detected by analyzing the content of the page and looking for unusual properties such as 1 the page contains unusually many words 2 the page contains unusually many words within a HTML tag 3 the ratio of HTML markup to visible text is low 4 the page contains an unusually large number of very long or very short words 5 the page contains repetitive content 6 the page contains unusually few common words stop words or 7 the page contains a larger than expected number of popular n grams sequences of n words for example. These metrics or filters can be input into a classifier for deciding whether or not a page is spam or determining the likelihood or probability that the page is spam by comparing the outputs of one or more of the metrics alone or in combination to one or more thresholds for example.

Content based techniques are described for identifying spam pages. Specifically metrics related to the content of an individual web page are used and these metrics are correlated with the probability that a page is spam. Although a single metric may be used as a predictor although each metric may have a number of false negatives and false positives when combined the metrics become more precise. Any of a number of different classification algorithms methods or techniques may be used. Thus using a classifier to combine the various metrics can result in greatly improved prediction accuracy. Various classification algorithms are well known to one of ordinary skill in the art and thus will not be described in detail. An example reference that describes the existing body of work in machine learning is Pattern Classification by Duda Hart and Stork Wiley Interscience 2edition October 2000.

Once web spam has been detected deletion filtering reduction of search engine rankings or other actions may be performed. Software or hardware applications e.g. computer programs software software systems and other computing systems can be used to implement techniques for evaluating content to detect web spam.

Content identified as web spam is flagged or otherwise identified at step . Once web spam has been detected and flagged a search index can be created for all pages crawled including the web pages identified as web spam at step . In some examples detected web spam may be excluded from a search engine index may be given a low search ranking or treated in a manner such that user queries are not affected or populated with web spam thus generating more relevant search results in response to a subsequent query at step . Some exemplary metrics that may be used to determine whether web spam is associated with a web page are described in greater detail herein.

Based on the analysis of step the search engine may identify web pages as web spam at step and may record or store the contents in an index for future queries at step . The query results then can be output to the user at step . Detected web spam may be excluded from a search engine index given a low search ranking or treated in a manner such that user queries are not affected or populated with web spam thus generating more relevant search results in step or at least omitting some irrelevant results. Some examples of metrics and computing environments that may be used to determine whether web spam is associated with a web page are described in greater detail herein.

In the horizontal axis shows a different content based identification metric every time. In every drawing the boxes depict the percentage of pages in the search engine corpus with the specified value regarding the identification metric. The percentages are measured by the left vertical axis. Additionally in every drawing the probability of spam is depicted by a line and measured by the right vertical axis. illustrates an exemplary distribution of word counts for detection of web spam. The distribution of word counts is but one of many exemplary metrics that can be used to evaluate whether a web page is web spam.

For example assume a is a popular English word and that it occurs many times within a very large corpus. With respect to the metric used in if a web page contained just one word and that word was a that web page would score 1 since 100 of the words on the web page were popular i.e. within the most 100 most popular words . With respect to the metric used in however if a web page contained just one word and that word was a that web page would score 1 500 since only 1 of the 500 most popular words were contained in that web page. It is noted that 500 is an example value only and any number of the most popular words e.g. 100 200 etc. may be used.

The estimate may be refined by examining the probability of a word occurring after a sequence of previous words has occurred. The probability of word woccurring after words w. . . wis denoted as P w w. . . w . Using this notation the probability that a document with k n 1 words w. . . woccurs in the collection can be estimated by multiplying the conditional probabilities of all successive n grams P w w. . . w P w w. . . w . . . P w w. . . w This estimate is called conditional likelihood. Because in certain cases the values of the above products can be too small to be handled by a computer the products can be alternatively represented as the sum of the negative logarithms of the individual probabilities. Additionally the two probabilistic metrics can be improved to be insensitive to the number of words in a document by dividing the sum of the logarithms by the number of n grams in the document. This results in the following two metrics for the independent likelihood and the conditional likelihood respectively of a document with words w. . . w 

Although not required the invention can be implemented via an application programming interface API for use by a developer or tester and or included within the network browsing software which will be described in the general context of computer executable instructions such as program modules being executed by one or more computers e.g. client workstations servers or other devices . Generally program modules include routines programs objects components data structures and the like that perform particular tasks or implement particular abstract data types. Typically the functionality of the program modules may be combined or distributed as desired in various embodiments. Moreover those skilled in the art will appreciate that the invention may be practiced with other computer system configurations. Other well known computing systems environments and or configurations that may be suitable for use with the invention include but are not limited to personal computers PCs automated teller machines server computers hand held or laptop devices multi processor systems microprocessor based systems programmable consumer electronics network PCs minicomputers mainframe computers and the like. An embodiment of the invention may also be practiced in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network or other data transmission medium. In a distributed computing environment program modules may be located in both local and remote computer storage media including memory storage devices.

With reference to an example system for implementing the invention includes a general purpose computing device in the form of a computer . Components of computer may include but are not limited to a processing unit a system memory and a system bus that couples various system components including the system memory to the processing unit . The system bus may be any of several types of bus structures including a memory bus or memory controller a peripheral bus and a local bus using any of a variety of bus architectures. By way of example and not limitation such architectures include Industry Standard Architecture ISA bus Micro Channel Architecture MCA bus Enhanced ISA EISA bus Video Electronics Standards Association VESA local bus and Peripheral Component Interconnect PCI bus also known as Mezzanine bus .

Computer typically includes a variety of computer readable media. Computer readable media can be any available media that can be accessed by computer and includes both volatile and nonvolatile removable and non removable media. By way of example and not limitation computer readable media may comprise computer storage media and communication media. Computer storage media includes both volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. Computer storage media includes but is not limited to random access memory RAM read only memory ROM Electrically Erasable Programmable Read Only Memory EEPROM flash memory or other memory technology compact disc read only memory CDROM digital versatile disks DVD or other optical disk storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by computer . Communication media typically embodies computer readable instructions data structures program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term modulated data signal means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example and not limitation communication media includes wired media such as a wired network or direct wired connection and wireless media such as acoustic radio frequency RF infrared and other wireless media. Combinations of any of the above should also be included within the scope of computer readable media.

The system memory includes computer storage media in the form of volatile and or nonvolatile memory such as ROM and RAM . A basic input output system BIOS containing the basic routines that help to transfer information between elements within computer such as during start up is typically stored in ROM . RAM typically contains data and or program modules that are immediately accessible to and or presently being operated on by processing unit . By way of example and not limitation illustrates operating system application programs other program modules and program data . RAM may contain other data and or program modules.

The computer may also include other removable non removable volatile nonvolatile computer storage media. By way of example only illustrates a hard disk drive that reads from or writes to non removable nonvolatile magnetic media a magnetic disk drive that reads from or writes to a removable nonvolatile magnetic disk and an optical disk drive that reads from or writes to a removable nonvolatile optical disk such as a CD ROM or other optical media. Other removable non removable volatile nonvolatile computer storage media that can be used in the example operating environment include but are not limited to magnetic tape cassettes flash memory cards digital versatile disks digital video tape solid state RAM solid state ROM and the like. The hard disk drive is typically connected to the system bus through a non removable memory interface such as interface and magnetic disk drive and optical disk drive are typically connected to the system bus by a removable memory interface such as interface .

The drives and their associated computer storage media discussed above and illustrated in provide storage of computer readable instructions data structures program modules and other data for the computer . In for example hard disk drive is illustrated as storing operating system application programs other program modules and program data . Note that these components can either be the same as or different from operating system application programs other program modules and program data . Operating system application programs other program modules and program data are given different numbers here to illustrate that at a minimum they are different copies. A user may enter commands and information into the computer through input devices such as a keyboard and pointing device commonly referred to as a mouse trackball or touch pad. Other input devices not shown may include a microphone joystick game pad satellite dish scanner or the like. These and other input devices are often connected to the processing unit through a user input interface that is coupled to the system bus but may be connected by other interface and bus structures such as a parallel port game port or a universal serial bus USB .

A monitor or other type of display device is also connected to the system bus via an interface such as a video interface . In addition to monitor computers may also include other peripheral output devices such as speakers and printer which may be connected through an output peripheral interface .

The computer may operate in a networked environment using logical connections to one or more remote computers such as a remote computer . The remote computer may be a personal computer a server a router a network PC a peer device or other common network node and typically includes many or all of the elements described above relative to the computer although only a memory storage device has been illustrated in . The logical connections depicted in include a local area network LAN and a wide area network WAN but may also include other networks. Such networking environments are commonplace in offices enterprise wide computer networks intranets and the Internet.

When used in a LAN networking environment the computer is connected to the LAN through a network interface or adapter . When used in a WAN networking environment the computer typically includes a modem or other means for establishing communications over the WAN such as the Internet. The modem which may be internal or external may be connected to the system bus via the user input interface or other appropriate mechanism. In a networked environment program modules depicted relative to the computer or portions thereof may be stored in the remote memory storage device. By way of example and not limitation illustrates remote application programs as residing on memory device . It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers may be used.

One of ordinary skill in the art can appreciate that a computer or other client devices can be deployed as part of a computer network. In this regard the present invention pertains to any computer system having any number of memory or storage units and any number of applications and processes occurring across any number of storage units or volumes. An embodiment of the present invention may apply to an environment with server computers and client computers deployed in a network environment having remote or local storage. The present invention may also apply to a standalone computing device having programming language functionality interpretation and execution capabilities.

The various systems methods and techniques described herein may be implemented with hardware or software or where appropriate with a combination of both. Thus the methods and apparatus of the present invention or certain aspects or portions thereof may take the form of program code i.e. instructions embodied in tangible media such as floppy diskettes CD ROMs hard drives or any other machine readable storage medium wherein when the program code is loaded into and executed by a machine such as a computer the machine becomes an apparatus for practicing the invention. In the case of program code execution on programmable computers the computer will generally include a processor a storage medium readable by the processor including volatile and non volatile memory and or storage elements at least one input device and at least one output device. One or more programs are preferably implemented in a high level procedural or object oriented programming language to communicate with a computer system. However the program s can be implemented in assembly or machine language if desired. In any case the language may be a compiled or interpreted language and combined with hardware implementations.

The methods and apparatus of the present invention may also be embodied in the form of program code that is transmitted over some transmission medium such as over electrical wiring or cabling through fiber optics or via any other form of transmission wherein when the program code is received and loaded into and executed by a machine such as an EPROM a gate array a programmable logic device PLD a client computer a video recorder or the like the machine becomes an apparatus for practicing the invention. When implemented on a general purpose processor the program code combines with the processor to provide a unique apparatus that operates to perform the functionality of the present invention.

While the present invention has been described in connection with the preferred embodiments of the various figures it is to be understood that other similar embodiments may be used or modifications and additions may be made to the described embodiments for performing the same functions of the present invention without deviating therefrom. Therefore the present invention should not be limited to any single embodiment but rather construed in breadth and scope in accordance with the appended claims.

