---

title: Method and apparatus for delivering content based on receivers characteristics
abstract: Media distribution systems may include methods and apparatus to perform memory management on a wireless devices configured to receive non-real time portions of media services. Such methods and apparatus may be based upon an allowable capacity of presentations storable in device memory, as well as on a required memory associated with each presentation in a media service. Such methods and apparatus allow a device to subscribe to a media service based upon sufficient available memory in the device to support the service.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07565506&OS=07565506&RS=07565506
owner: QUALCOMM Incorporated
number: 07565506
owner_city: San Diego
owner_country: US
publication_date: 20051108
---
The present Application for Patent claims priority to Provisional Application No. 60 715 439 entitled Method for Deriving Subscribed Memory Requirement For Clipcasting Service filed Sep. 8 2005 assigned to the assignee hereof and hereby expressly incorporated by reference herein.

 METHODS AND APPARATUS FOR DISTRIBUTING CONTENT TO SUPPORT MULTIPLE CUSTOMER SERVICE ENTITIES AND CONENT PACKAGERS Ser. No. 11 270 199 filed concurrently herewith assigned to the assignee hereof and expressly incorporated by reference herein APPARATUS AND METHODS OF OPEN AND CLOSED PACKAGE SUBSCRIPTION Ser. No. 11 270 372 filed concurrently herewith assigned to the assignee hereof and expressly incorporated by reference herein APPARATUS AND METHODS FOR PROVIDING AND PRESENTING CUSTOMIZED CHANNEL INFORMATION Ser. No. 11 270 166 filed concurrently herewith assigned to the assignee hereof and expressly incorporated by reference herein APPARATUS AND METHODS FOR DELIVERING AND PRESENTING AUXILIARY SERVICES FOR CUSTOMIZING A CHANNEL Ser. No. 11 270 370 filed concurrently herewith assigned to the assignee hereof and expressly incorporated by reference herein METHODS AND APPARATUS FOR DELIVERING REGIONAL PARAMETERS Ser. No. 11 270 210 filed concurrently herewith assigned to the assignee hereof and expressly incorporated by reference herein METHODS AND APPARATUS FOR FRAGMENTING SYSTEM INFORMATION MESSAGES IN WIRELESS NETWORKS Ser. No. 11 270 168 filed concurrently herewith assigned to the assignee hereof and expressly incorporated by reference herein FLEXIBLE SYSTEM FOR DISTRIBUTING CONTENT TO A DEVICE Ser. No. 11 270 165 filed concurrently herewith assigned to the assignee hereof and expressly incorporated by reference herein SYSTEM FOR DISTRIBUTING PACKAGES AND CHANNELS TO A DEVICE Ser. No. 11 270 167 filed concurrently herewith assigned to the assignee hereof and expressly incorporated by reference herein and

 METHODS AND APPARATUS FOR PROVIDING SYSTEM INFORMATION TO A WIRELESS DEVICE Ser. No. 11 735 044 filed concurrently herewith assigned to the assignee hereof and expressly incorporated by reference herein.

The disclosed aspects relate generally to the operation of media distribution systems and more particularly to methods and apparatus for managing memory requirements and presentation availability regarding the downloading of non real time media.

Media distribution systems comprise various service types including but not limited to real time non real time and IP Datacast IPDC service types and combinations thereof. A real time service normally delivers content within a specific second and is typically selected for immediate consumption delivering streaming video audio and text. For example a real time service may provide a live broadcast of a sporting event or a live performance. IP Datacast is a form of real time service that delivers an IP multicast data stream to a specific address within seconds and is primarily aimed at handset data applications including stock weather traffic and emergency services. A non real time service i.e. Clipcast media is normally scheduled over minutes and is typically stored for later presentation or viewing. For example non real time service may provide pre recorded content such as an advertisement information on a presentation etc. which is saved in memory on a media capable device and later recalled for viewing. Non real time media is not limited to non real time services. Non real time media may be a component of both real time and non real time services.

Additionally some services may provide some combination of real time and non real time services such as displaying player information during a live broadcast of a sporting event in which the player is participating.

Because non real time media is normally downloaded to a device for later viewing the implementation of non real time media delivery may benefit from memory management on the user device to minimize the loss of data due to insufficient memory at the time of media delivery.

Accordingly it would be advantageous to provide apparatus and methods to provide memory management on a user device in support of services comprising non real time media.

The described aspects comprise apparatus methods computer readable media and processors operable to provide memory management on a user device in support of services comprising non real time media.

Such apparatus and methods are operable to compute memory requirements for communicating non real time portions of media services to a networked device. The calculated memory requirements may then be forwarded to a device operable to allow a user to subscribe to the service based upon sufficient available memory in the device.

In one aspect a method of determining the total amount of memory required on a device to receive non real time media may comprise receiving inputs an indication of a number of presentations concurrently storable on the device and a memory requirement value of each presentation associated with the service. The method further includes calculating an amount of memory required on the device in order for a user to subscribe to the service based upon the received inputs and generating a record comprising the amount of memory required. In a related aspect at least one processor is configured to perform the above described actions. In another related aspect a computer program is resident in a computer readable medium that when executed directs a computer device to perform the actions noted above.

In another aspect a service provisioning server may comprise a means for receiving a value associated with an allowable number of presentations concurrently storable on the device a means for receiving a memory requirement value of each presentation associated with a schedule of presentations a means for calculating an amount of memory required on the device in order for a user to subscribe to the service based on the value associated with the number of allowable presentations and based on the memory requirement values and a means for generating a record comprising the amount of memory required.

In yet another aspect a service provisioning computer may comprise a service planner module wherein the service planning module further comprises a service memory requirement per service SMRS module. The SMRS module may be operable to receive a buffer value indicating an allowable number of presentations storable on the device and to receive a memory requirement value of each presentation associated with a media service. Further the computer is operable to calculate an amount of memory required on the device in order for a user to subscribe to the service and to generate a record comprising the amount of memory required.

In yet another aspect a method for subscribing a user for media communications may comprise receiving a memory requirement for communicating media to a device determining an available memory on the device and allowing the user to subscribe to a media service in order to receive the media based upon a predetermined relationship between the available memory and the required memory. In a related aspect at least one processor is configured to perform the above described actions. In another related aspect a computer program is resident in a computer readable medium that when executed directs a computer device to perform the actions noted above.

In still another aspect a method for subscribing a user to a media communication service may comprise a means for receiving a memory requirement for the service a means for determining available memory on the device and a means for allowing the user to subscribe to the service based upon a predetermined relation ship between the available memory and the required memory.

In another aspect a wireless communication device comprises a memory having a memory requirement value associated with an amount of memory to support a subscription to a given media service and having an available memory value. The device further comprises a subscription manager module operable to compare the available memory to the memory requirement and determine an ability to subscribe to the service.

The following detailed description describes one or more aspects of a Media Distribution System MDS comprising apparatus and methods to derive total memory requirements for downloading of non real time media to a wireless device and to derive the availability duration of a presentation on the device. Furthermore these derived calculations are forwarded to the device where application software resident in memory is operable to manage the subscription of services comprising non real time media based upon the forwarded information. In an alternative aspect the MDS may receive a request to subscribe to a service and an amount of available memory from the wireless device. Then the MDS may make a determination as to whether or not the subscription request can be fulfilled by comparing the available memory to the total memory requirements associated with the requested service.

The apparatus and methods are especially well suited for use in wireless environments but may be suited in any type of network environment including but not limited to communication networks public networks such as the Internet private networks such as virtual private networks VPN local area networks wide area networks long haul networks or any other type of data communication network.

The Content Provider operates to provide the content for distribution to users in the network through Content Server and content distribution server . The content comprises media such as video audio multimedia content clips scripts programs data and any other suitable content. Media may comprise real time content non real time content and or a combination of the two. Media either individually or in combination may form a presentation that may be viewed or otherwise output on a device.

The Content Server operates to provide the Content distribution server with presentations associated with a service . Service comprises a sequence of presentations offered under a single label or identifier. Each presentation may comprise real time content non real time content and mixed combinations of real and non real time content. Furthermore each service may provide real time presentations non real time presentations and both real time and non real time presentations. For example a real time presentation may be a live broadcast of a sporting event. Further for example a non real time presentation may be an advertisement. Additionally a combined presentation may include for example links to player information in combination with a live broadcast of a sporting event.

Database may comprise records that define a Media Presentation Guide MPG providing a broadcast schedule or a time at which device may present presentations to a user and a time at which device may retrieve non real time content. In one non limiting aspect the MPG may be transmitted to a device at the time of service activation although it may be broadcast or otherwise transmitted at any time. Although database is described as a data repository it should be noted that any interface could be used that provides the media presentation guide information to the other components of system .

Device server interfaces and are operable to interface the device with MDS server components. Interfaces and may be a physical connection and or a wireless connection using air interface techniques such as code division multiple access CDMA wideband code division multiple access WCDMA universal mobile telecommunications system UMTS advanced mobile phone service AMPS time division multiple access TDMA frequency division multiple access FDMA orthogonal frequency division multiple access OFDMA global system for mobile communications GSM single carrier 1X radio transmission technology RTT evolution data only EV DO technology general packet radio service GPRS enhanced data GSM environment EDGE high speed downlink data packet access HSPDA analog and digital satellite systems and any other technologies protocols that may be used in at least one of a wireless communications network and a data communications network. Interface provides service activation and subscription information from service provisioning server interface provides MPG and content delivery from the content distribution server and interface provides application download capability between the device and the application distribution server .

Additionally it should be noted that servers and which define a portion of media distribution system may be combined into a single server and or may each be a combinations of one or more servers. Further these servers may be located together and or remotely from one another. Additionally servers and may communicate via a physical connection and or via a wireless connection using the air interface techniques discussed above.

The service provisioning server may include a service planner module operable by a service manager for planning service . In one non limiting aspect the service planner module may provide the functions of scheduling presentations computing the SMRS and deriving a presentation availability duration PAD for each presentation associated with a service . In one aspect the service planner module generates the following information to be incorporated in the SLU .

Contact Window start time Tcws The Tcws is the first time at which the device can contact the distribution server to download a presentation . This value is provided for each scheduled presentation . For any presentation that cannot be scheduled the service planner module may set the corresponding Tcws to zero.

Contact Window duration The Contact Window duration is the time interval during which device may contact the MDS to download a presentation and begins at the contact window start time Tcws. The value of the contact window duration may be provided for each scheduled presentation . For any presentation that cannot be scheduled the service planner module may set the corresponding contact window duration to zero.

Subscribed Memory Requirement per service SMRS The SMRS value is the amount of memory required on the device for a given schedule of programs in order for the user to subscribe to the service . When calculating SMRS the service planner module may in one aspect only consider presentations that have been successfully scheduled. In one aspect the SMRS may be calculated by operation of a SMRS Module within the service planner module in accordance with the flowchart of .

Presentation Availability Duration PAD The PAD value is the time interval during which presentation is available for viewing on the device. This value may be provided for each presentation. For presentations that cannot be scheduled the service planner module may set the PAD to zero. In one aspect a PAD Module within service planner module may calculate PAD value in accordance with the flowchart of .

Service comprises at least one presentation and over the course of the scheduled service multiple presentations may be downloaded to device each presentation having its own PAD value .

Upon generation and acceptance of the SLU service manager may transmit a command to the service provisioning server to commit the SLU to MPG database . Upon receiving the command to commit the SLU into the database the service provisioning server may send a new SLU notification message along with SLU to Content Server that saves the SLU into MPG database . In addition at least one of the Content Server and the Content distribution server may transmit the SMRS value and the PAD value to device as part of MPG system information . Non limiting the MPG system information may be transmitted to the device at service activation time or broadcast or otherwise transmitted at any predetermined time.

Device may also include input mechanism for generating inputs into device and output mechanism for relaying information to the user of the wireless device. For example input mechanism may include a mechanism such as a key or keyboard a mouse a touch screen display and a voice recognition module while output mechanism may include but is not limited to a display an audio speaker and a haptic feedback mechanism.

Computer platform may be operable to transmit data across wireless network receive and execute software applications and to display data transmitted from application server content distribution server and or service provisioning server or any other computer device connected to wireless network . Computer platform may also include a memory which may comprise volatile and nonvolatile memory such as read only and or random access memory RAM and ROM EPROM EEPROM flash cards or any memory common to computer platforms. Further memory may include one or more flash memory cells or may be any secondary or tertiary storage device such as magnetic media optical media tape or soft or hard disk.

Further computer platform may include a processing engine which may be an application specific integrated circuit ASIC or other chipset processor logic circuit or other data processing device. Processing engine is operable to execute an application programming interface API layer that may interface with any resident programs such as subscription manager module stored in memory of device . In one non limiting aspect API is a runtime environment executing on the respective wireless device. One such runtime environment is Binary Runtime Environment for Wireless BREW software developed by Qualcomm Inc. of San Diego Calif. Other runtime environments may be utilized that for example operate to control the execution of applications on wireless computing devices.

Processing engine includes various processing subsystems embodied in hardware content software and combinations thereof that enable the functionality and the operability of device on wireless network . For example processing subsystems allow for initiating and maintaining communications and exchanging data with other networked devices.

In one aspect such as in a cellular telephone processing engine may include one or a combination of processing subsystems such as sound non volatile memory file system transmit receive searcher layer 1 layer 2 layer 3 main control remote procedure handset power management diagnostic digital signal processor vocoder messaging call manager Bluetooth system Bluetooth LPOS position determination position engine user interface sleep data services security authentication USIM SIM voice services graphics USB multimedia such as MPEG GPRS etc. For the disclosed aspects processing subsystems may include any subsystem components that interact with applications executing on computer platform . For example processing subsystems may include any subsystem components that receive data reads and data writes from API on behalf of a memory resident subscription manager module such as determining the amount of available memory .

Computer platform may further include core applications required to perform basic cellular functions and a communications module embodied in hardware content software and combinations thereof operable to enable communications among the various components of device and with wireless network .

Subscription manager module is operable to handle subscription requests by the user and provide the messages required to subscribe to service . Furthermore subscription manager module may be operable to analyze memory to determine whether the available memory is sufficient to allow the user to subscribe to service . This determination may be made based upon the SMRS value downloaded to the device as part of MPG system information .

Memory may also include a client User Interface UI operable in conjunction with input mechanism and output mechanism to allow a user to perform input and output operations on the wireless device . In regards to the subscription manager module the client UI enables the user to request a service as well as display any messages generated by the Subscription manager module regarding the availability or unavailability of memory in support of the service .

Referring to one aspect of step S of for determining a subscribed memory requirement per service SMRS includes receiving an indicator n of a number of presentations to concurrently save in a device memory step S . For example in one aspect operator may enter a buffer value of n into system to represent the number of presentations that are concurrently storable.

The method further includes determining whether the allowable number of concurrently saved presentations is equal to one step S . If n 1 then the value of SMRS is set to the value of the maximum required memory value associated with any of the N presentations in the schedule of programs step S .

For example referring to the SMRS is set to equal 2 megabytes MB . In this case the schedule of programs includes presentations P P and P. The memory requirements for each presentation are P 2 MB P 1 MB and P 1.5 MB. Since buffering flag equals 1 the method executes step S to determine the maximum of the required memory associated with each presentation. The maximum required memory of P P and P in this example is therefore the 2 MB required by P. Thus SMRS is set to 2 MB. In this example since the buffer flag value is set to 1 any presentation in device memory is deleted to make room for the next presentation.

Returning to steps S through S are executed to determine the value of SMRS in the case where the number of presentations concurrently storable in device memory is greater than 1. In this case when n 1 the method includes determining possible overlaps of storage in device memory of n presentations in a given schedule of presentations step S . For example in one aspect where a series of presentations are stored and deleted in series the first overlap of storage in device memory occurs at the time of receipt of the nth presentations. Then the next overlap occurs upon the receipt of the n 1 presentation as the first presentation is deleted at this time to room for the n 1 presentation. For example referring to where n 2 the first overlap of two presentations in device memory occurs at Tcws while the next overlap occurs at Tcws. In this case since the schedule of presentations only includes P P and P these are the only times of overlap. Similarly in another example where n 3 referring to the first and only overlap for the schedule of presentations P P and P occurs at Tcws.

Further referring back to the method further includes determining the sum of the required memory for each presentation at each point of overlap step S . For example referring to the sum of the required memory is 3 MB at Tcws and 2.5 MB at Tcws. Additionally referring to for example the sum of the required memory is 4.5 MB at Tcws.

Referring back to the method further includes setting the subscribed memory requirement per service SMRS to equal the maximum one of the summed required memories from each overlap step S . For example referring to the maximum of the sum of the required memories is 3 MB at Tcws. Additionally referring to for example the maximum is the only overlapping sum i.e. 4.5 MB at Tcws.

Thus where a given number of multiple presentations are storable on the device the method determines a maximum overlap between the various combinations of presentations storable on the device based on the availability durations of the presentations. The availability duration in combination with the allowable number of concurrently savable presentations affects how long a given presentation may be stored in device memory. The value of SMRS relates to a maximum of the sum of required memory amounts associated with each overlap of the given number of presentations.

In the examples of the presentations are received and deleted in series. In other aspects rather than being received in series the presentations may be receivable in any order. Further the receipt of some presentations may be missed and multiple versions of a single presentation may be received in series. In these cases for example the value of SMRS may be determined to be n times the maximum one of the required memory of each presentation in the schedule of presentations i.e. SMRS n max Psize where i 1 . . . N.

The flowchart of as described above is but one possible aspect of a method for determining the maximum memory requirement for a selected service comprising a predetermined number of presentations having at least a portion of non real time content and different values for buffer flag value .

At step S the method includes determining a first time at which the given presentation is viewable on the respective device. For example in one aspect a presentation may be viewable as soon as it is stored in device memory. In alternative aspects presentations may not be available for viewing until a predetermined time. For example content retailers may designate certain presentations for viewing only within predetermined windows of time. An example might be a weekly video show where a whole series of shows is intended to be viewed over the course of a given season of programming.

Further at step S the method includes determining a second time at which the presentation is no longer available for viewing. For example the end of availability of the presentation may be the time at which it is deleted from the device memory. In other alternatives the end of availability may be another predetermined time prior to the time of deletion. As an example such a predetermined time may be at the conclusion a viewing window a time corresponding to the timed length of the presentation after the latest starting time of the presentation etc.

Additionally at step S the method further includes setting the availability duration as the difference between the first time and the second time.

For example referring to where only one presentation at a time may be stored on the device presentation P has a value of Tcws Tv for PAD while the PAD value for P is Tcws Tv . In this case since only one presentation is storable at a time the resident presentation is deleted prior to or upon the initiation of downloading of the next presentation. Further for example referring to where two presentations may be stored concurrently in device memory and where a presentation is deleted upon the beginning of the next presentation viewing time Tv PAD for P is Tv Tv as P is deleted after Tvin anticipation of the downloading of P which would exceed the buffer value if P were not deleted. Further in the PAD for P is Tv Tv for similar reasons. It should be noted that in the case of the maximum presentation availability duration for P would be Tcws Tcws while the maximum presentation availability duration for P and P is undefined since a respective fourth and fifth presentation which would respectively cause the buffer value of 2 to be exceeded are not included in the example. Additionally for example referring to where three presentations may be stored concurrently in device memory and where a presentation is deleted upon the beginning of the next presentation viewing time Tv PAD for P is Tv Tv as P is deleted after Tv while the PAD for P is Tv Tv . For similar reasons as discussed above with regard to P in the PAD value for P in is undetermined.

At step S the method includes loading a module on the computer platform of the device to manage subscription services. For example in one aspect the Subscription manager module may be downloaded to memory from a network server i.e. the Application distribution server . The time at which Subscription manager module may be downloaded is non limiting and may be at powering up of device at service activation or any predetermined time etc. Under control of API the Subscription manager module is operable to manage all operations regarding subscriptions to service .

At step S the Subscription manager module may receive information about a subscribing to a service including the subscribed memory requirement. For example in one aspect device receives the MPG system information from at least one of the Content Server and the Content distribution server . Non limiting the delivery of the MPG system information may be at the time of service activation or at a predetermined or user selected time. As disclosed above the MPG system information comprises the SMRS for each service comprising non real time media and the PAD for each non real time presentation .

At step S the method includes receiving a subscription request. For example the subscription manager module is operable to receive via input mechanism and client UI a request to subscribe to a service comprising a presentation further comprising non real time content for which a SMRS value has been downloaded as part of the respective MPG system information .

Prior to forwarding the request to the network at step S the subscription manager module is operable at step S to determine either by itself or in conjunction with processing subsystems the amount of available memory .

If at step S the subscription manager module determines that there is sufficient available memory based upon the stored SMRS value the subscription manager module may forward the request to the service provisioning server . Optionally at step S the Subscription manager module may be operable to reserve sufficient available memory to guarantee the subsequent download of non real time presentation content.

On the other hand if the subscription manager module determines at step S that available memory is insufficient to support the service the subscription manager module may be operable via output mechanism to notify the user. In one aspect the subscription manager module may simply exit the process at step S. Alternatively the subscription manager module may at step S inform the user of how much memory must be freed and may at step S provide a mechanism such as a menu to list files and their memory allocations as well as a mechanism to delete files in order to subscribe to the requested service.

In another aspect the SMRS may be received upon a request by the user to subscribe to service . It should be noted however that the time calculating and or receiving the SMRS may occur at any time either as a result of an action taken by the user or automatically by the device based upon an event or based on a schedule or in anticipation of a scheduled download of a presentation .

The various illustrative logics logical blocks modules and circuits described in connection with the aspects disclosed herein may be implemented or performed with a general purpose processor a digital signal processor DSP an application specific integrated circuit ASIC a field programmable gate array FPGA or other programmable logic device discrete gate or transistor logic discrete hardware components or any combination thereof designed to perform the functions described herein. A general purpose processor may be a microprocessor but in the alternative the processor may be any conventional processor controller microcontroller or state machine. A processor may also be implemented as a combination of computing devices e.g. a combination of a DSP and a microprocessor a plurality of microprocessors one or more microprocessors in conjunction with a DSP core or any other such configuration.

Further the steps of a method or algorithm described in connection with the aspects disclosed herein may be embodied directly in hardware in a software module executed by a processor or in a combination of the two. A software module may reside in RAM memory flash memory ROM memory EPROM memory EEPROM memory registers a hard disk a removable disk a CD ROM or any other form of storage medium known in the art. An exemplary storage medium is coupled to the processor such that the processor can read information from and write information to the storage medium. In the alternative the storage medium may be integral to the processor. The processor and the storage medium may reside in an ASIC. The ASIC may reside in a user terminal. In the alternative the processor and the storage medium may reside as discrete components in a user terminal.

While the various disclosed aspects have been illustrated and described it will be clear that the subject matter of this document is not limited to these aspects only. For example although the System Manager has been described as physically removed from the service provisioning server they may be combined together or further separated in any fashion to perform the functions described above. Furthermore although the Application distribution server is shown independent of the other components of the MDS all components of the MDS may be networked together.

Therefore while the foregoing disclosure shows illustrative aspects it should be noted that various changes and modifications could be made herein without departing from the scope of the described aspects as defined by the appended claims. Furthermore although elements of the described aspects may be described or claimed in the singular the plural is contemplated unless limitation to the singular is explicitly stated.

