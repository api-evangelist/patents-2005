---

title: Method and apparatus for performing fast power control in a mobile communication system
abstract: A method and apparatus for controlling transmission power in a mobile communication system is disclosed. The method disclosed provides for a closed-loop power control method for variable rate transmissions. The power of transmissions is varied in accordance with the rate of the frames of data being transmitted. The transmission power between the rates can be a fixed or variable difference.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07986749&OS=07986749&RS=07986749
owner: QUALCOMM Incorporated
number: 07986749
owner_city: San Diego
owner_country: US
publication_date: 20051219
---
The present Application for Patent is a Continuation of patent application Ser. No. 09 597 940 entitled Method and Apparatus for Performing Fast Power Control in a Mobile Communication System filed Jun. 20 2000 now issued as U.S. Pat. No. 6 977 967 which is a Continuation of patent application Ser. No. 08 559 386 filed Nov. 15 1995 now U.S. Pat. No. 6 137 840 which is a Continuation In Part of U.S. application Ser. Nos. 08 414 633 filed Mar. 31 1995 now abandoned and 08 958 882 filed Oct. 27 1997 now issued as U.S. Pat. No. 6 035 209 and assigned to the assignee hereof and hereby expressly incorporated by reference herein.

The present invention relates to communication systems. More particularly the present invention relates to a novel and improved method and apparatus for controlling transmission power in a mobile communication system.

The use of code division multiple access CDMA modulation techniques is one of several techniques for facilitating communications in which a large number of system users are present. Other multiple access communication system techniques such as time division multiple access TDMA and frequency division multiple access FDMA are known in the art. However the spread spectrum modulation technique of CDMA has significant advantages over these modulation techniques for multiple access communication systems. The use of CDMA techniques in a multiple access communication system is disclosed in U.S. Pat. No. 4 901 307 entitled SPREAD SPECTRUM MULTIPLE ACCESS COMMUNICATION SYSTEM USING SATELLITE OR TERRESTRIAL REPEATERS assigned to the assignee of the present invention of which the disclosure thereof is incorporated by reference herein. The use of CDMA techniques in a multiple access communication system is further disclosed in U.S. Pat. No. 5 103 459 entitled SYSTEM AND METHOD FOR GENERATING SIGNAL WAVEFORMS IN A CDMA CELLULAR TELEPHONE SYSTEM assigned to the assignee of the present invention of which the disclosure thereof is incorporated by reference herein.

CDMA by its inherent nature of being a wideband signal offers a form of frequency diversity by spreading the signal energy over a wide bandwidth. Therefore frequency selective fading affects only a small part of the CDMA signal bandwidth. Space or path diversity is obtained by providing multiple signal paths through simultaneous links from a mobile user through two or more cell sites. Furthermore path diversity may be obtained by exploiting the multipath environment through spread spectrum processing by allowing a signal arriving with different propagation delays to be received and processed separately. Examples of path diversity are illustrated in U.S. Pat. No. 5 101 501 entitled METHOD AND SYSTEM FOR PROVIDING A SOFT HANDOFF IN COMMUNICATIONS IN A CDMA CELLULAR TELEPHONE SYSTEM and U.S. Pat. No. 5 109 390 entitled DIVERSITY RECEIVER IN A CDMA CELLULAR TELEPHONE SYSTEM both assigned to the assignee of the present invention and incorporated by reference herein.

A method for transmission of speech in digital communication systems that offers particular advantages in increasing capacity while maintaining high quality of perceived speech is by the use of variable rate speech encoding. The method and apparatus of a particularly useful variable rate speech encoder is described in detail in U.S. Pat. No. 5 414 796 entitled VARIABLE RATE VOCODER assigned to the assignee of the present invention and incorporated by reference herein.

The use of a variable rate speech encoder provides for data frames of maximum speech data capacity when said speech encoding is providing speech data at a maximum rate. When a variable rate speech coder is providing speech data at a less than maximum rate there is excess capacity in the transmission frames. A method for transmitting additional data in transmission frames of a fixed predetermined size wherein the source of the data for the data frames is providing the data at a variable rate is described in detail in copending U.S. patent application Ser. No. 08 171 146 which is a continuation application of U.S. patent application Ser. No. 07 822 164 filed Jan. 16 1992 now U.S. Pat. No. 5 504 773 entitled METHOD AND APPARATUS FOR THE FORMATTING OF DATA FOR TRANSMISSION assigned to the assignee of the present invention of which the disclosure thereof is incorporated by reference herein. In the above mentioned patent application a method and apparatus is disclosed for combining data of differing types from different sources in a data frame for transmission.

In frames containing less data than a predetermined capacity power consumption may be lessened by transmission gating a transmission amplifier such that only parts of the frame containing data are transmitted. Furthermore message collisions in a communication system may be reduced if the data is placed into frames in accordance with a predetermined pseudorandom process. A method and apparatus for gating the transmission and for positioning the data in the frames is disclosed in U.S. patent application Ser. No. 08 194 823 which is a continuation application of U.S. patent application Ser. No. 07 846 312 filed Mar. 5 1992 now U.S. Pat. No. 5 659 569 entitled DATA BURST RANDOMIZER assigned to the assignee of the present invention of which the disclosure thereof is incorporated by reference herein.

A useful method of power control of a mobile in a communication system is to monitor the power of the received signal from the mobile station at a base station. The base station in response to the monitored power level transmits power control bits to the mobile station at regular intervals. A method and apparatus for controlling transmission power in this fashion is disclosed in U.S. Pat. No. 5 056 109 entitled METHOD AND APPARATUS FOR CONTROLLING TRANSMISSION POWER IN A CDMA CELLULAR MOBILE TELEPHONE SYSTEM assigned to the assignee of the present invention of which the disclosure thereof is incorporated by reference herein.

In a communication system that provides data using a QPSK modulation format very useful information can be obtained by taking the cross product of the I and Q components of the QPSK signal. By knowing the relative phases of the two components one can determine roughly the velocity of the mobile station in relation to the base station. A description of a circuit for determining the cross product of the I and Q components in a QPSK modulation communication system is disclosed in U.S. patent application Ser. No. 08 343 800 which is a continuation application of U.S. patent application Ser. No. 07 981 034 filed Nov. 24 1992 now U.S. Pat. No. 5 506 865 entitled PILOT CARRIER DOT PRODUCT CIRCUIT assigned to the assignee of the present invention the disclosure of which is incorporated by reference herein.

In an alternative continuous transmission strategy if the data rate is less than the predetermined maximum then the data is repeated within the frame such that the data occupies the full capacity of the data frame. If such a strategy is employed power consumption and interference to other users may be reduced during periods of data transmission at less than the predetermined maximum by reducing the power at which the frame is transmitted. This reduced transmission power is compensated by the redundancy in the data stream and can offer benefits in range for a fixed maximum transmission power.

A problem that is encountered in controlling transmission power in the continuous transmission strategy is that the receiver does not know the transmission rate a priori and as a result does not know the power level that should be received. The present invention provides a method and apparatus for controlling transmission power in a continuous transmission communication system.

The present invention is a novel and improved method and apparatus for closed loop transmission power control in a communication system. It is an object of the present invention to provide timely power control that is necessary to provide robust communication link quality under fading conditions.

In a mobile communications environment the fading conditions of a propagation path change rapidly. This phenomenon is described in detail in the aforementioned U.S. Pat. No. 5 056 109. Communications stations must be able to respond to these sudden changes in the propagation path. The present invention provides a method and apparatus for responding to the rapid changes in the communications channel of a mobile communication system.

In a code division multiple access CDMA communication system the methods described herein have special significance because by reducing the transmission power to the minimum necessary for high quality communications the communication system provides less interference to the transmissions of other users and allows an increase in overall system capacity. In addition in a capacity limited system the power reduction of transmission to one user allows another user to transmit at a higher power level which may be necessary due to differences in the propagation path or because that user is transmitting at a higher data rate.

Further it should be noted that power control techniques are presented in the exemplary embodiment in a spread spectrum communication system however the methods presented are equally applicable for other communication systems. Also the exemplary embodiment used for the control of transmission power in transmissions from a base station to a remote or mobile station may be applied to the control of transmission power in transmissions from a remote or mobile station to a base station.

In the exemplary embodiment a base station transmits packets of data to a mobile station. The mobile station receives demodulates and decodes the received packet. If the mobile station determines that the received packet cannot be reliably decoded it sets the normally 0 quality response power control bit to 1 indicating the situation to the base station. In response the base station increases the transmission power of the signal to the mobile station.

In the exemplary embodiment of the present invention when the base station increases its transmission power it does so with a relatively large step in transmission power which is assumed to be more than adequate under most fading conditions. The base station then decreases the transmission power level at an exponentially decreasing rate as long as the quality response power control bits remain at 0 . In an alternative embodiment the base station responds to a request from the mobile station for additional signal power by increasing the signal power incrementally.

In an improved embodiment of this power control system the base station will determine whether the error reported by the mobile station was of a random nature in which case it will immediately begin ramping down the transmission power or whether the error was an error resulting from a genuine fading condition. The base station distinguishes errors of a random nature from those of a prolonged nature by examining the patterns of power control bits sent by the mobile station. If the pattern of power control request signals that the mobile station transmits back to the base station indicates that there is a new fading condition present in the propagation path then the base station will refrain from decreasing the transmission power.

In an improved embodiment the base station examines the pattern of incoming power control messages to determine characteristics of the fade. The estimation of the fading characteristics can be used to estimate the power control changes that need to be made. This could be achieved for example by making the power control in the base station predictive.

One of the identified sources of sudden changes in the propagation path of a mobile station is a change in velocity relative to the position of the base station. That is if the velocity towards the mobile station or away from the mobile station is changing. In the present invention the mobile station determines that the velocity relative to the base station is changing and if necessary sets the power control bits to request additional power from the base station to accommodate the change in velocity.

In a first exemplary embodiment the mobile station is equipped with a motion sensor which may operate off of information from the speedometer or tachometer in the case of an automobile based mobile station. The mobile station then generates the power control signal in accordance with the signal from the motion sensor.

In a second exemplary embodiment the mobile station may sense a shift in the received signal from the base station in order to sense motion. In the exemplary embodiment the mobile station determines the changes in relative velocity by measuring the Doppler shift in the received pilot signal.

The present invention also provides a method and apparatus for controlling transmissions power levels of variable rate transmissions. This method broadcasts the variable rate frames of data at different power levels depending on the rate of the transmission. A plurality of implementations are disclosed for adjusting the transmission power levels in a variable rate communication system.

Referring to the present invention is illustrated in an exemplary implementation in a mobile communication system for controlling the power of transmissions between base station and mobile station . Information may be provided to and from a public switched telephone network PSTN to system controller and switch or may be provided to and from controller and switch by another base station if the call is a mobile station to mobile station communication. System controller and switch in turn provides data to and receives data from base station . Base station transmits data to and receives data from mobile station .

In the exemplary embodiment the signals transmitted between base station and mobile station are spread spectrum communication signals the generation of the waveforms of which are described in detail in the above mentioned U.S. Pat. No. 4 901 307 and U.S. Pat. No. 5 103 459. The transmission link for communication of messages from mobile station to base station is referred to as the reverse link and the transmission link for communication of messages from base station to mobile station is referred to as the forward link. In the exemplary embodiment the present invention is used to control the transmission power of base station . However the methods of power control of the present invention are equally applicable to controlling the transmission power of mobile station .

Referring to base station and mobile station are illustrated in block diagram form showing the apparatus for providing control of the transmission power of base station of the present invention. If a communication link degrades then the link quality can be improved by increasing the transmission power of the transmitting device. In the exemplary embodiment of controlling transmission power of base station some of the methods for determining that the transmission power of base station should be increased include 

 g E Nis low where E Nis the energy per chip on either the traffic or pilot channel divided by the total received power and

Conversely some of the methods for determining that the transmission power of base station should be decreased include 

 a mobile station quality responses to the base station show a low frame error rate for the forward link 

When base station detects a need to modify the transmission power of the forward link control processor sends a signal specifying a modified transmission power to transmitter TMTR . The modified power signal may simply indicate a need to increase or decrease the transmission power or it may indicate an amount to change the signal power or it may be an absolute signal power level. In response to the modified power level signal transmitter provides all transmissions at the modified transmission power level.

It should be noted that data source may source modem facsimile or speech data. Data source may be a variable rate source that varies its transmission rate on a frame to frame basis throughout the transmission or it may be able to vary rates only upon command. In the exemplary embodiment data source is a variable rate vocoder. The design and implementation of a variable rate speech vocoder are described in detail in the aforementioned application Ser. No. 08 004 484 now U.S. Pat. No. 5 414 796. The output from data source is encoded by encoder and input to traffic modulator for modulation and input to transmitter . Also input to pilot modulator is a synchronous pilot signal for transmission.

A need for modification of the transmission power may be indicated by any one of the conditions enumerated above or by any combination of those conditions. If the method of power control is based upon a position related effect such as range or mobile station location then an external signal LOCATION is provided to control processor of base station indicative of the location condition. The range condition can be detected by base station . In an alternative embodiment the range condition can be detected by mobile station and transmitted to base station . In response to the detected range condition control processor in base station generates a control signal for modifying transmission power of transmitter .

In a closed loop power control implementation power control signals are provided from mobile station to base station . Mobile station may determine the power control signal in accordance with received power or alternatively in accordance with the detection of frame errors or any other method previously discussed. The present invention is equally applicable to any link quality factors.

If the link quality factor used is received power then the signal from base station received at mobile station by antenna is provided to receiver RCVR which provides an indication of the received power to control processor . If the link quality factor used is the detection of frame errors then receiver downconverts and amplifies the signal providing the received signal to traffic demodulator . If the traffic signal is accompanied by a pilot signal in order to provide for coherent demodulation then the received signal is also provided to pilot demodulator which demodulates the signal in accordance with a pilot demodulation format and provides a timing signal to traffic demodulator . Traffic demodulator demodulates the received signal in accordance with a traffic demodulator format. In the exemplary embodiment traffic demodulator and pilot demodulator are CDMA spread spectrum demodulators the design of which is described in the aforementioned U.S. Pat. Nos. 4 901 307 and 5 103 459. Traffic demodulator provides the demodulated signal to decoder . In a first exemplary embodiment decoder performs error detection decoding to determine if errors have occurred. Error detection correction decoders such as the Viterbi trellis decoder are well known in the art. In an alternative embodiment decoder decodes the demodulated signal and then re encodes the decoded signal. Decoder then compares the re encoded signal with the demodulated signal to obtain an estimate of the channel symbol error rate. Decoder provides a signal indicating an estimated channel symbol error rate to control processor .

Control processor compares the received power or estimated channel symbol error rate referred to generically as the link quality factor against a threshold or set of thresholds which may be static or varying. Control processor then provides the power control information to either encoder or power control encoder P.C. ENC. . If the power control information is to be encoded into the data frame then the power control data is provided to encoder . This method requires that an entire frame of data be processed before transmitting the power control data then encoded traffic data containing power control data are provided to transmitter TMTR through modulator . In an alternative embodiment the power control data may simply overwrite portions of the data frame or may be placed in predetermined vacant positions in the transmission frame. If the power control data overwrites traffic data then this may be corrected by forward error correction techniques at base station .

In implementations that process a full frame of data before providing the power control data the delay waiting for a full frame to be processed is undesirable in fast fade conditions. The alternative is to provide the power control data directly to modulator where it may be punctured into the outgoing data stream. If the power control data is transmitted without error correction coding then control processor outputs the power control data directly to modulator . If error correction coding is desired for the power control data control processor outputs the power control data to power control encoder which encodes power control data without regard to the outgoing traffic data. Power control encoder provides the encoded power control signal to modulator which combines the encoded power control signal with the outgoing traffic data provided from data source through encoder to modulator . Transmitter upconverts and amplifies the signal and provides it to antenna for transmission to base station .

The transmitted signal is received at antenna of base station and provided to data receiver RCVR where it is downconverted and amplified. Receiver provides the received signal to demodulator which demodulates the received signal. In the exemplary embodiment demodulator is a CDMA spread spectrum demodulator which is described in detail in the aforementioned U.S. Pat. Nos. 4 901 307 and 5 103 459. If the power control data is encoded within a frame of traffic data then the traffic and power control data is provided to decoder . Decoder decodes the signal and separates the power control signal from the traffic data.

If on the other hand the power control data is not encoded with a full frame of data but rather punctured into the transmission stream of data then demodulator demodulates the signal and extracts the power control data from the incoming data stream. If the power control signal is not encoded then demodulator provides the power control data directly to control processor . If the power control signal is encoded then demodulator provides the encoded power control data to power control decoder P.C. DEC. . Power control decoder decodes the power control data and provides the decoded power control data to control processor . The power control signal is provided to control processor which in accordance with the power control signal provides a control signal to transmitter indicative of a modified transmission power level.

One of the inherent problems with closed loop power control systems is a relatively slow response time relative to an open loop power control system. For example in a closed loop power control system when base station transmits a frame at an insufficient transmission energy to mobile station mobile station receives and decodes the frame determines whether the frame is in error prepares a power control message indicating the frame error then transmits the power control message to base station which decodes the frame extracts the power control message and adjusts the transmission power of transmitter . In the exemplary embodiment this results in a four frame time lag before correction is apparent at mobile station . Thus if the propagation path has deteriorated four consecutive frames would be transmitted at the insufficient frame energy before a frame is transmitted at the adjusted frame energy. In this delay period the fading condition may have substantially improved or deteriorated.

The following are methods by which to improve the responsiveness of a closed power control system. In a first exemplary embodiment of the present invention the base station assumes the worse case. Which is that the propagation path has deteriorated during the four frame delay period. In response the base station increases the transmission energy to that user by a relatively significant amount E so that the adjustment will be more than adequate to assure that the power adjusted frame will be properly received even if the propagation path has deteriorated in the interim. In the exemplary embodiment of a spread spectrum communication system this increase in power to mobile station causes less power to be available for other users who share the forward link. So the base station transmitter quickly reduces the transmission energy for that user following the initial increase. In the exemplary embodiment the base station increases the energy by a fixed amount E and holds that value for a delay period to verify that the increase in transmission energy has been effective and then decreases the transmission energy in accordance with a predetermined piecewise linear function as illustrated in .

In an improved embodiment the transmit power can also be decreased by a larger amount should the pattern of incoming power control messages indicate that the transmission power is unnecessarily high. In the exemplary embodiment control processor includes a timer not shown . The timer is reset each time a power control message is received indicating a received frame error. Should the timer elapse without receipt of another power control message indicating a received frame error then control processor directs transmitter to drop the transmission of outgoing frames by a larger amount than the incremental decrease.

Base station performs the adjustment of the transmission energy with knowledge that after the transmission energy has been increased there will be a delay before the received power control information will reflect the change in the forward link transmission power. If the propagation channel suddenly worsens base station will receive a series of consecutive power control requests and there will be a delay before the power adjustment requests are responsive to the change in forward link transmission energy. During this delay period base station should not continue to increase the transmission energy for each received power adjustment request. This is the reason that the power level is held constant for a predetermined delay period as illustrated in the period following point B of .

It should also be noted that errors in a mobile communication system come in two types. Those that are random and those that are the result of a change in the propagation path. In the exemplary embodiment when base station receives a power adjustment request it increases the transmission power by E as described previously. Then it ignores the power adjustment requests and retains the same increased power level for the delay period. In an alternative embodiment base station adjusts the power in accordance with each power control message. However smaller changes would typically be used. This minimizes the impact of random errors.

One of the main influences that results in changes in the characteristics of the propagation path between mobile station and base station is motion by mobile station towards or away from base station . Mobile station may provide base station with information indicating that the mobile station velocity is changing or it may actually provide its velocity relative to base station . If the mobile station is simply providing an indication that its velocity is changing it may provide that information as a power adjustment request signal in anticipation of a change in the quality of the propagation path.

In a first embodiment mobile station may sense the change in velocity by providing a sensor to operate in accordance with a signal from the automobile tachometer or speedometer not shown . In an alternative embodiment mobile station determines either a change in the mobile base station relative velocity or absolute velocity by changes in the received signal from base station . Mobile station may detect a change in velocity or measure the absolute relative velocity by measuring the Doppler effect on the incoming signal from base station . In an alternative embodiment base station may also detect a change in the mobile base station relative velocity or measure the absolute relative velocity by measuring the Doppler effect on the incoming signal from mobile station .

The traffic signal provided by base station may be accompanied by a pilot signal in order to provide for coherent demodulation of the received traffic signal. Use of a pilot signal is described in U.S. Pat. Nos. 4 901 307 and 5 103 459 and mobile station can alternatively sense changes in the relative velocity or the Doppler shift of the pilot signal.

In a preferred embodiment when base station knows the velocity of mobile station the value of the incremental change in transmission energy E will vary in accordance with this velocity. The determination of the value of E may be performed algorithmically or by a lookup table in control processor .

If base station transmits a pilot signal along with the traffic signal the pilot signal can be thought of as a traffic signal that carries a predetermined bit stream known by mobile station . Mobile station demodulates the pilot channel in pilot demodulator in order to get timing information to enable mobile station to perform coherent demodulation of the traffic channel. Because the pilot channel and the traffic channel are provided through similar if not identical propagation paths there is a strong correlation between the strength of the received pilot signal and the strength of the received traffic signal. By basing the generation of the power control signal on the pilot channel instead of the traffic channel the delay between receiving the signal transmitted from base station and generating the power control signal may be reduced.

Referring to pilot modulator provides a pilot signal to transmitter and transmitter of base station provides the pilot signal along with the traffic signal to antenna for broadcast to mobile station . The transmitted signal is received at antenna and provided to receiver . Receiver downconverts and amplifies the pilot signal and provides the received pilot signal to pilot demodulator which generates a quality estimate of the demodulated pilot signal and provides it to control processor . Control processor generates a power control signal in accordance with the quality estimate of the demodulated pilot signal and the operation proceeds as described previously.

In forward link transmissions being broadcast from base station to mobile station it is beneficial to minimize the transmitted power while maintaining the modem performance. In the exemplary embodiment of a code division multiple access CDMA communication system this minimization of transmission power leaves more power for other channels using the same power amplifier while reducing interference to other users and systems on the same and near by frequencies.

In the exemplary embodiment of a mobile communication system with variable rate transmissions the performance difference between the possible rates can be significant. For example the transmission power level of frames from base station required to achieve a given frame error rate FER can vary greatly among the rates. This is illustrated in . shows the variation of frame error rates v. the bit energy normalized by the noise energy Eb N0 .

In the exemplary embodiment data is transmitted in frames. The present invention is equally applicable to continuous transmission systems. The present invention is illustrated in an exemplary implementation of a variable rate communication system having four possible rates. In the exemplary embodiment those rates are designated as full rate half rate quarter rate and eighth rate. The present invention is equally applicable to any variable rate communication system which supports any number of possible rates.

The present invention discloses a variety of ways to apply fast power control on the forward link utilizing the difference in the required power. It should be noted that each of the methods can be used in conjunction with any of the power control techniques described above.

Moreover the present invention is also applicable for taking advantage of the different desired performance at different rates. For example a frame error rate of 1 may be required of full rate frames because those are the most perceptually significant frames. However a frame error rate of 4 may be acceptable for eighth rate frames which primarily carry background noise information. The methods disclosed in the previous invention can easily account for these different frame error rates simply by adjusting threshold values used to determine the necessity of increasing or decreasing the transmission power.

The general power control method adjusts the transmission power level based on feedback from mobile station of the occurrence of frame errors. However these methods are equally applicable to any of the power control methods described above such as those based on physical location or received power. In these exemplary embodiments the mobile station is described as sending a frame quality indicator that indicates whether the previous frame was received and properly decoded or whether a frame error occurred. The system is equally applicable in communication systems where feedback is provided from mobile station in the eventuality of a frame error simply by attributing the absence of frame error indicator as equal to a frame quality indicator indicative of a properly received frame.

In the exemplary embodiments the frame quality indicator signal is fed back from mobile station . This frame quality indicator corresponds to a previously transmitted frame from base station . The rate of the frame transmitted by base station is referred to herein as the frame quality indicator rate. In the exemplary embodiments base station knows the frame quality indicator rates because it knows the rates of frames which it transmits and the round trip delay time from the sending of a message from base station to mobile station and the time for mobile station to generate the frame quality indicator signal and transmit that signal back to base station . The present invention is equally applicable to systems where mobile station transmits an indication of the frame rate along with the frame quality indicator signal.

The first exemplary embodiment of methods utilizing the differences in required power between rates is referred to herein as the single loop fixed difference method. In this exemplary embodiment one rate serves as the reference rate. The transmission power level of the reference rate is actively tracked by control processor to directly adjust the transmission power of frames at that reference rate. The transmission power of the other rates are determined dependent upon the transmission power of the reference rate.

The power levels for each of the other rates are determined in accordance with the level of the reference rate so as to keep the performance at the required levels. Since the performance for every frame is estimated to be similar regardless of the rate the feedback about the actual performance of each frame is given uniform significance regardless of the rate of the frame to which it corresponds and can be used indiscriminately in making adjustments to the reference rate.

In the exemplary implementation there are four possible rates as described above full half quarter and eighth rates . In the exemplary embodiment the reference rate is full rate and the power level of half rate is set to be 1 dB below the power level of the full rate quarter rate is 1.5 dB below the power level of the full rate and the eighth rate is 1.8 dB below the power level of the full rate. Control processor determines the power level for each of the rates based on the feedback from mobile station as described below and provides this information to variable gain transmitter . Transmitter sets the transmit power for outgoing frames in accordance with this signal and the rate of the frame. Transmitter is provided with a signal from variable rate data source indicative of the rate of the outgoing frames.

In the exemplary embodiment the FQI message has one of two possible values. It is either a zero indicating correct reception of the frame by mobile station or a one indicating the occurrence of a frame error. In the exemplary embodiment gain adjust selector outputs a selected gain adjustment value in accordance with equation 1 below 

These numbers are selected on the basis of an acceptable frame error rate of 1 . That is why the ratio of the decrease to the increase is one hundred. These values are purely exemplary in nature and will vary depending on the implementation and the desired performance of the system.

It should also be noted that the present invention is equally applicable to systems where the feedback specifies more information than can be contained in one bit of information. In those cases the gain adjustment values can have more then two possible values which will be selected depending upon the value of the FQI message. The FQI message can be any one of the indicators enumerated previously in the application.

The gain adjustment GA value is provided to one input of summing element . The value provided to the other input of summing element is the current transmit power level of the reference rate. In the exemplary embodiment the reference rate is full rate. The output of summing element is the adjusted reference rate transmit power level. This value is provided to variable gain transmitter which will amplify full rate frames in accordance with this value.

The output of summing element is also fed back to the input of delay element . Delay in the exemplary embodiment delays the input to summing element by the period of time between separate arrivals of frame quality indicator messages. In the exemplary embodiment the delay is 20 ms. The implementation of such delays is well known in the art.

The transmit power levels of the other rates are determined based upon the power level of the reference rate transmit power level. The full rate transmit power is provided to dependent transmit power calculator which determines the half rate quarter rate and eight rate transmit power levels in accordance with the full rate transmit power in accordance with a predetermined calculation format. In the exemplary embodiment dependent transmit power calculator is implemented by programming a microprocessor microcontroller or logic array which is well known in the art.

In the exemplary embodiment of dependent transmit power calculator the half rate quarter rate and eight rate transmit power levels are a fixed difference from the full rate transmit power. So in the exemplary embodiment the full rate transmit power level is provided to a summing input of summing element . The value half is provided to a subtracting input of summing element . In the exemplary embodiment half is equal to 1 dB. The value outputted by summing element is the half rate transmit power which in the exemplary embodiment is 1 dB less than the power level of full rate frames. This value is provided to variable gain transmitter which amplifies half rate frames in accordance with this value.

It should be noted that in a practical implementation of the present invention the operation need not be performed by addition. For example typically the half rate transmit power 3 dB less than the full rate transmit power. Thus the half rate transmit power is can be computed in absolute terms by dividing the full rate transmit power by two as opposed to subtracting 3 dB from the full rate transmit power.

Similarly the full rate transmit power level is provided to a summing input of summing element . The value quarter is provided to a subtracting input of summing element . In the exemplary embodiment quarter is equal to 1.5 dB. The value outputted by summing element is the half rate transmit power. This value is provided to variable gain transmitter which amplifies quarter rate frames in accordance with this value.

Lastly the full rate transmit power level is provided to a summing input of summing element . The value eighth is provided to the subtracting input of summing element . In the exemplary embodiment quarter is equal to 1.8 dB. The value output by summing element is the eighth rate transmit power which is 1.8 dB less than the power level of full rate frames. This value is provided to variable gain transmitter which amplifies eighth rate frames in accordance with this value.

It should be noted that all of the delta values half quarter and eighth provided above are purely for exemplary purposes and that other values are equally applicable and are anticipated by the present invention.

The second exemplary embodiment of methods utilizing the differences in required power between rates is referred herein as single loop variable difference method. This exemplary embodiment attempts to keep the performance at each of the rates within its respective range. However the difference between the transmit power of the dependent rates and the reference rate adapts based on information compiled by the individual rates for example the moving average of individual frame error rates. As the performance for a rate other than the reference rate deviates from the desired level its power level difference from the reference level is modified to negate the deviation. If the performance of the reference rate deteriorates the power level difference for all or some other rates are modified.

In the exemplary implementation control processor tracks the performance e.g. number of frame erasures in the last 100 frames for each of the rates. For example if the eighth rate performance falls below the desired performance level the difference between the eighth rate power level and the reference rate power level is reduced effectively increasing the eighth rate power level if the eighth rate power level is lower than the reference power level.

In the exemplary implementation data source provides a signal indicative of the rate of an outgoing frame to control processor by which control processor determines the rates of the frame quality indicator messages. shows a single stage filter comprised of elements and . The present invention could be more complex wherein the modified full rate transmit power could depend on a plurality of past generated full rate transmit power values. The design and implementation of such digital filters are well known in the art and described in detail in the aforementioned U.S. Pat. No. 5 414 796.

Referring to the received frame quality indicator bit is provided to gain adjustment selector . Gain adjustment selector can be implemented by programming a microprocessor microcontroller or logic array which is well known in the art. In the exemplary embodiment gain adjustment selector selects a gain adjustment value in accordance with equation 1 above.

This gain adjustment value is provided to a summing input of summing element . The input to the second input of summing element is the current value of the reference rate transmit power level. In the exemplary embodiment the reference rate is full rate. The output of summing element is the adjusted full rate transmit power. The full rate transmit power is provided to variable gain amplifier which amplifies outgoing full rate frame in accordance with this value.

In addition the adjusted full rate transmit power value is fed back to delay element . Delay in the exemplary embodiment delays the input to summing element by the period of time between separate arrivals of frame quality indicator messages. In the exemplary embodiment this delay is 20 ms. The implementation of such delays is well known in the art.

The received frame quality indicator message is also provided to de multiplexer . De multiplexer outputs the frame quality indicator message upon one of four outputs based upon the rate of the frame quality indicator. If the rate of the frame quality indicator is full rate then the frame quality indicator message is provided to full rate frame error rate FER counter . Full rate FER counter tracks the number of full rate frame errors in a predetermined number of full rate frame transmissions. Counter can be implemented using a digital counter or by a sliding window accumulator the implementations of which are well known in the art. In the exemplary embodiment counter tracks the number of frame errors in the last 100 full rate frames.

If the rate of the frame quality indicator is half rate then the frame quality indicator message is provided to half rate FER counter . Counter tracks the frame errors in a predetermined number of prior half rate frames and can be implemented as described with reference to counter above. If the rate of the frame quality indicator is quarter rate then the frame quality indicator message is provided to quarter rate FER counter . Counter tracks the frame errors in a predetermined number of prior quarter rate frames and can be implemented as described above. If the rate of the frame quality indicator is eighth rate then the frame quality indicator message is provided to eighth rate FER counter . Counter tracks the frame errors in a predetermined number of prior eighth rate frames and can be implemented as described above.

The frame error rate statistics from each of counters and are provided to delta calculator . Delta calculator determines the difference values half quarter and eighth in accordance with a predetermined calculation format based upon the values provided by the counters. For example if the frame error statistics for the half rate are too high then delta calculator will reduce the value of half effectively increasing the transmit power level of eighth rate frames if the half rate power level is lower than the reference level. Typically the half rate transmit power will be 3 dB less than the full rate transmit power.

In addition it is not necessary that each of the difference values depend on frame error counts from all of the counters. In the exemplary embodiment the value of half is based solely on the half rate FER the output of counter the value of quarter is based solely on the quarter rate FER the output of counter but the value of eighth is determined on both the full rate FER and the eighth rate FER the outputs of counters and .

In an improved embodiment each of the difference values will also depend on the value of the full rate FER. In the improved embodiment if the full rate FER is above a threshold value it will indicate that the full rate transmit power is being increased. Since the transmission power of the other rates is determined dependent upon the full rate transmit power the difference values are increased when it appears from the full rate FER value from full rate FER counter that the full rate transmit power is going to be increased. By increasing the difference values the transmission power of the other rates is effectively decreased which allows the dependently set rates to float at their value when changes are made to the full rate transmit power.

Delta calculator outputs three delta values half quarter and eighth. Delta calculator can be implemented by programming a microprocessor microcontroller or logic array as is well known in the art. The three delta values half quarter and eighth are provided to dependent rate calculator along with the full rate transmit power. Dependent rate calculator determines the half rate quarter rate and eighth rate transmit powers in accordance with its inputs and a predetermined calculation format. Dependent rate calculator can be implemented by programming a microprocessor microcontroller or logic array which is well known in the art.

In the exemplary embodiment of dependent rate calculator the three delta values half quarter and eighth are provided to the subtracting inputs of summing elements and respectively. The summing input of summing elements and is provided with the full rate transmit power level. The values of half quarter and eighth are subtracted from the full rate power level to yield the half rate quarter rate and full rate power levels respectively. As described above each of these values is provided to variable gain transmitter which amplifies outgoing half rate quarter rate and eighth rate frames in accordance with these values.

The third exemplary embodiment of methods utilizing the differences in required power between rates is referred herein as multiple loop power control method using one loop per rate. This method is similar to the single loop method described above except that there is one loop for each of the rates. These loops are independent of one another in determining the transmission power levels of the rates which they control.

For example when a frame quality indicator message is received that is eighth rate frame changes are made directly in response to this message to the transmit power level of the eighth rate frames but no changes are made to the power levels of the other three rates. Thus each of these feedback loops takes into account only the feedback information corresponding to frames of its rate.

In the exemplary implementation data source provides a signal indicative of the rate of an outgoing frame to control processor by which control processor determines the rates of the frame quality indicator messages.

Referring now to the frame quality indicator message is provided to de multiplexer . De multiplexer provides the frame quality indicator message upon one of four outputs based upon the rate of the frame quality indicator message.

If the rate of the frame quality indicator message is full rate then the frame quality indicator message is provided to the input of full rate gain adjust selector . Selector in response to the frame quality indicator message outputs a gain adjustment GAfull value that either increases or decreases the full rate transmit power. In the exemplary embodiment the selector selects the gain adjustment value GAfull in accordance with equation 2 below 

where the FQI message has one of two possible values either a zero 0 indicating correct reception of the frame by mobile station or a one 1 indicating the occurrence of a frame error. In addition the gain adjustment value is set to 0 if the frame quality indicator message is erased by the reverse link.

The gain adjustment value from selector GAfull is provided to a summing input of summing element . The other summing input of summing element is supplied with the current value of the full rate transmit power. Summing element outputs the adjusted full rate transmit power to variable gain transmitter . In addition the adjusted full rate transmit power value is provided to delay which delays provision of the adjusted full rate transmit power value to summing element until another full rate frame quality indicator message is received.

If the rate of the frame quality indicator message is half rate then the frame quality indicator message is provided to the input of half rate gain adjust selector . Selector in response to the frame quality indicator message outputs a gain adjustment GAhalf value that either increases or decreases the half rate transmit power. In the exemplary embodiment the selector selects the gain adjustment value GAhalf in accordance with equation 3 below 

where the FQI message has one of two possible values either a zero 0 indicating correct reception of the frame by mobile station or a one 1 indicating the occurrence of a frame error.

The gain adjustment value from selector GAhalf is provided to a summing input of summing element . The other summing input of summing element is supplied with the current value of the half rate transmit power. Summing element outputs the adjusted half rate transmit power to variable gain transmitter . In addition the adjusted half rate transmit power value is provided to delay which delays provision of the adjusted half rate transmit power value to summing element until another half rate frame quality indicator message is received.

If the rate of the frame quality indicator message is quarter rate then the frame quality indicator message is provided to the input of quarter rate gain adjust selector . Selector in response to the frame quality indicator message outputs a gain adjustment GAquarter value that either increases or decreases the quarter rate transmit power. In the exemplary embodiment the selector selects the gain adjustment value GAquarter in accordance with equation 4 below 

where the FQI message has one of two possible values either a zero 0 indicating correct reception of the frame by mobile station or a one 1 indicating the occurrence of a frame error.

The gain adjustment value from selector GAquarter is provided to a summing input of summing element . The other summing input of summing element is supplied with the current value of the quarter rate transmit power. Summing element outputs the adjusted quarter rate transmit power to variable gain transmitter . In addition the adjusted quarter rate transmit power value is provided to delay which delays provision of the adjusted quarter rate transmit power value to summing element until another quarter rate frame quality indicator message is received.

If the rate of the frame quality indicator message is eighth rate then the frame quality indicator message is provided to the input of eighth rate gain adjust selector . Selector in response to the frame quality indicator message outputs a gain adjustment G eighth value that either increases or decreases the eighth rate transmit power. In the exemplary embodiment selector selects the gain adjustment value GAeighth in accordance with equation 5 below 

where the FQI message has one of two possible values either a zero 0 indicating correct reception of the frame by mobile station or a one 1 indicating the occurrence of a frame error.

The gain adjustment value from selector GAeighth is provided to a summing input of summing element . The other summing input of summing element is supplied with the current value of the eighth rate transmit power. Summing element outputs the adjusted eighth rate transmit power to variable gain transmitter . In addition the adjusted eighth rate transmit power value is provided to delay which delays provision of the adjusted eighth rate transmit power value to summing element until another eighth rate frame quality indicator message is received.

As discussed previously variable gain transmitter amplifies the outgoing frames in accordance with the transmit power levels determined as described above.

The fourth exemplary embodiment of methods utilizing the differences in required power between rates is referred herein as multiple loop with one loop per frequent rate power control. This method is similar to the single loop method except that there is one loop for each of the more frequent rates. These loops are independent of one another in determining the transmission power levels of the rates they control. The frame quality indicator message about a frame of a certain rate being tracked is used by the loop for that rate only. The power levels for rates without a loop are determined dependently from the power levels of rates that are been tracked. The difference from those tracked rates can be static or adaptive.

In the exemplary embodiment the full rate and the eighth rate frames are the two most likely frame rates in the variable rate transmissions. These two rates are tracked by two independent loops to decide their individual power levels. The power levels of the half and quarter rates are then derived from the current levels of the full and eighth rates. For example the quarter rate power is half the distance between full and eighth rate power levels and the half rate power level can be half way between the quarter rate and full rate power levels.

In the exemplary implementation data source provides a signal to control processor indicating the rate of the outgoing frame. Control processor computes the new transmission power level and provides this information to transmitter .

Referring to the frame quality indicator message is provided to de multiplexer which outputs the frame quality indicator message upon a selected output depending on the rate of the frame quality indicator message.

If the rate of the frame quality indicator message is full rate then the frame quality indicator signal is provided by de multiplexer to full rate gain adjust selector . In the exemplary embodiment full rate gain adjust selector can be implemented by programming a microprocessor microcontroller or logic array as is well known in the art. Full rate gain adjustment selector selects a full rate gain adjustment GAfull value in accordance with equation 6 below 

where the FQI message has one of two possible values either a zero 0 indicating correct reception of the frame by mobile station or a one 1 indicating the occurrence of a frame error.

The selected full rate gain adjustment GAfull value is provided to a first summing input of summing element . The second input to summing element is provided by delay element and is the current full rate transmit power. Delay element delays provision of the current full rate transmit power until a full rate frame quality indicator message is received. Summing element adds the full rate gain adjustment value to the current full rate transmit power to determine an adjusted full rate transmit power. The adjusted full rate transmit power is provided to variable gain transmitter which amplifies full rate frames in accordance with this signal.

When the frame quality indicator message is full rate switch is closed and the computed full rate transmit power is provided to a summing input of summing element . The subtracting input of summing element is supplied with the value eighth a fixed value or by delta calculator to compute the new value of eighth rate transmit power. In the exemplary embodiment the value of eighth is static but it is envisioned that the methods described above could be used to make the value of eighth dynamic. This newly determined value is provided to variable gain transmitter which amplifies the outgoing eighth rate frame in accordance with this value.

If the frame quality indicator rate is eighth rate the frame quality indicator signal is provided to eighth rate gain adjust selector . In the exemplary embodiment eighth rate gain adjust selector can be implemented by programming a microprocessor microcontroller or logic array as is well known in the art. In the exemplary embodiment gain adjustment selector selects a eighth rate gain adjustment GAeighth value in accordance with equation 7 below 

The selected eighth rate gain adjustment GAeighth value is provided to a first summing input of summing element .

The second input to summing element is provided by delay element and is the current eighth rate transmit power. Delay element provides the current value of the eighth rate transmit power only when an eighth rate frame quality indicator message is received. Summing element adds the eighth rate gain adjustment value to the current eighth rate transmit power to determine the new eighth rate transmit power which is provided to variable gain transmitter which amplifies eighth rate frames in accordance with this signal.

When the frame rate is eighth rate switch is closed and the computed eighth rate transmit power is provided to a first summing input of summing element . The second summing input of summing element is supplied with the value full a fixed value or one computed by delta calculator to compute the new value of the full rate transmit power. The full rate transmit power value is provided to variable gain transmitter which amplifies the outgoing full rate frames in accordance with this value.

In a first exemplary embodiment the values of the transmit power for half and quarter rate frames are determined by a fixed difference method. In this first implementation the full rate transmit power is provided to summing elements and . The output of summing element is the half rate transmit power. In the fixed difference embodiment half is a fixed value which is subtracted from the full rate transmit power to determine the half rate transmit power. This newly determined half rate transmit power is provided to variable gain transmitter which amplifies the outgoing half rate frames in accordance with this value.

Similarly in the fixed difference implementation the full rate transmit power is provided to summing elements . The output of summing element is the quarter rate transmit power. In the fixed difference embodiment quarter is a fixed value which is subtracted from the full rate transmit power to determine the quarter rate transmit power. This newly determined quarter rate transmit power is provided to variable gain transmitter which amplifies the outgoing quarter rate frames in accordance with this value.

In an improved embodiment the half rate transmit power is determined in accordance with full rate transmit power and the eighth rate transmit power. In the exemplary embodiment of this improved method the half rate transmit power is calculated as a power level half way between the full rate transmit power and the eighth rate transmit power. In the improved embodiment the full rate transmit power and the eighth rate transmit power are provided to power level calculator . Calculator computes the values of the half rate transmit power and the quarter rate transmit power in accordance with these values. The values half and quarter whether fixed or adaptive can be used by calculator to modify quarter rate transmit power and the half rate transmit power calculated by calculator .

In an alternative embodiment the values of half and quarter are adaptive values. In the variable difference exemplary embodiment de multiplexer provides the frame quality indicator to one of four outputs based on the rate of the frame quality indicator message. If the frame quality indicator message is sent at full rate the frame therefor the frame quality indicator signal is provided to full rate frame error rate counter which keeps track of the average number of frame errors for full rate frames as described above. If the frame quality indicator rate message is sent at half rate the frame quality indicator signal is provided to half rate frame error rate counter which keeps track of the average number of frame errors for half rate frames as described above. If the frame quality indicator rate signal is quarter rate the frame quality indicator signal is provided to quarter rate frame error rate counter which keeps track of the average number of frame errors for quarter rate frames as described above. If the frame quality indicator rate message is sent at eighth rate the frame quality indicator is provided to eighth rate frame error rate counter which keeps track of the average number of frame errors for eighth rate frames as described above.

The frame error counts are provided from counters and are provided to delta calculator . Delta calculator determines the values of half and quarter in accordance with the values provided from counters and . Delta calculator can be implemented by programming a microprocessor microcontroller or logic array. Delta calculator provides the values of half and quarter to summing elements and respectively. Summing elements and subtract the values of half and quarter from the value of the full rate transmit power to determine the half rate transmit power and the quarter rate transmit power respectively. These values are provided to variable gain transmitter which amplifies the outgoing half rate and quarter rate frame in accordance with these signals as described above.

The fifth exemplary embodiment of methods utilizing the differences in required power between rates is referred herein as multiple loop one loop per rate composite reference power control. This method can be implemented using either fixed or adaptive weighting. This method is similar to the single loop method except that there is one loop for each of the rates and the loop statistics are used together. These loops are independent of one another. The feedback about a frame of a certain rate is tracked by that loop for that rate only while the loops for all other loops are frozen at their current levels. However the actual transmission power level is jointly determined by the current values of all the loop output.

Referring to the frame quality indicator message is provided to de multiplexer . De multiplexer provides the frame quality indicator message on one of four outputs in accordance with the rate of the frame quality indicator message.

If frame quality indicator rate message is full rate de multiplexer outputs the frame quality indicator message to full rate gain adjust selector . Gain adjust selector outputs a gain adjustment GAfull value in accordance with equation 8 below 

The gain adjustment value is provided to summing element . Each of selectors and can be implemented by programming a microprocessor microcontroller or logic array.

The second summing input of summing element is the previously calculated output of summing element which is provided by delay element through optional multiplexer . Delay element provides the previous output of summing element whenever the rate of the frame quality indicator message is full rate.

Multiplexer is optionally provided in order to refresh the input to summing element in case the loop value grows stale . In other words the value of the output from summing element becomes unacceptably different from the current required full rate transmit power. In this embodiment the value from summing element is not the full rate transmit power but rather is a factor used in computing the full rate transmit power.

The output of summing element is provided to a first input of multiplier . The second input of multiplier is a weighting value Wfull which weights the output of in accordance with the significance of that value to the computation of the reference rate by composite reference calculator . In a first exemplary embodiment Wfull is a fixed value that is determined ahead of time. In an alternative embodiment Wfull is a variable value determined by weighting factor calculator in accordance with a set of parameters. Examples of parameters that might be used by weighting calculator include frame error statistics frequency of frames at this rate etc. The value output by multiplier is provided to composite reference calculator .

If the frame quality indicator rate is half rate de multiplexer outputs the frame quality indicator message to half rate gain adjust selector . In accordance with the frame quality indicator gain adjust selector outputs a gain adjustment value GAhalf as described in equation 9 below 

The gain adjustment value GAhalf is provided to summing element . The second summing input of summing element is provided by delay element through optional multiplexer . Multiplexer is optionally provided in order to refresh the input to summing element in case the loop value grows stale . Delay element delays provision of the output of summing element until the next half rate frame quality indicator is received.

The output of summing element is provided to a first input of multiplier . The second input of multiplier is a weighting value Whalf which weights the output of in accordance with the significance of that value to the computation of the reference rate by composite reference calculator . In a first exemplary embodiment Whalf is a fixed value. In an alternative embodiment Whalf is a variable value determined by weighting calculator in accordance with a set of parameters. Examples of parameters that might be used by weighting calculator include frame error statistics frequency of frames at this rate etc. The value output by multiplier is provided to composite reference calculator .

If the frame quality indicator rate is quarter rate de multiplexer outputs the frame quality indicator to quarter rate gain adjust selector . In accordance with the frame quality indicator gain adjust selector outputs a gain adjustment value GAquarter in accordance with equation 10 below 

The gain adjustment value GAquarter is provided to a first input of summing element . The second summing input of summing element is provided by delay element through optional multiplexer . Multiplexer is optionally provided in order to refresh the input to summing element in case the loop value grows stale . Delay element delays provision of the output of summing element until the next quarter rate frame quality indicator is received.

The output of summing element is provided to a first input of multiplier . The second input of multiplier is a weighting value Wquarter which weights the output of summing element in accordance with the significance of that value to the computation of the reference rate by composite reference calculator . Composite reference calculator can be implemented by programming a microprocessor microcontroller or logic array which is well known in the art. In a first exemplary embodiment Wquarter is a fixed value. In an alternative embodiment Wquarter is a variable value determined by weighting calculator in accordance with a set of parameters. Examples of parameters that might be used by weighting calculator include frame error statistics frequency of frames at this rate etc. The value output by multiplier is provided to composite reference calculator .

If the frame quality indicator rate is eighth rate frame de multiplexer outputs the frame quality indicator to eighth rate gain adjust selector . In accordance with the frame quality indicator gain adjust selector provides a gain adjustment value GAeighth in accordance with equation 11 below 

The gain adjustment value is provided to a first input of summing element . The input of the second summing input of summing element is provided by delay element through optional multiplexer . Multiplexer is optionally provided in order to refresh the input to summing element in case the loop value grows stale . Delay element delays provision of the output of summing element until the next eighth rate frame quality indicator is received.

The output of summing element is provided to a first input of multiplier . The second input of multiplier is a weighting value Weighth which weights the output of summing element in accordance with the significance of that value to the computation of the reference rate by composite reference rate calculator . In a first exemplary embodiment Weighth is a fixed value. In an alternative embodiment Weighth is a variable value determined by weighting calculator in accordance with a set of parameters. Examples of parameters that might be used by weighting calculator include frame error statistics frequency of frames at this rate etc. The value output by multiplier is provided to composite reference calculator .

Composite reference calculator determines the value of the reference rate in accordance with the outputs of multipliers and . In the exemplary embodiment the reference rate is full rate so reference calculator outputs the full rate transmit power to variable gain transmitter which amplifies the full rate frames for broadcast in accordance with this value.

The full rate transmit power is provided to dependent transmit power calculator . Dependent transmit power calculator computes the half rate quarter rate and eighth rate transmit power levels in accordance with a predetermined calculation format and the full rate transmit power. In an improved embodiment dependent transmit power calculator operates with difference values that can be fixed or variable.

In the exemplary embodiment of dependent transmit power calculator the half rate quarter rate and eight rate transmit powers are determined simply by subtracting the values of half quarter and eighth from the full rate transmit power. In the exemplary embodiment of dependent transmit power calculator the full rate transmit power is provided to the summing input of summing elements and .

The subtracting input of summing element is provided with the value half. The output of summing element is the half rate transmit power which is provided to variable gain transmitter which amplifies the half rate frames for broadcast in accordance with this value. The subtracting input of summing element is provided with the value quarter. The output of summing element is the quarter rate transmit power which is provided to variable gain transmitter which amplifies the quarter rate frames for broadcast in accordance with this value. The subtracting input of summing element is provided with the value eighth. The output of summing element is the eighth rate transmit power which is provided to variable gain transmitter which amplifies the eighth rate frames for broadcast in accordance with this value.

In a first exemplary embodiment half quarter and eighth are fixed values. In an alternative embodiment the values of half quarter and eighth are variable. In the variable difference exemplary embodiment de multiplexer provides the frame quality indicator to one of four outputs based on the value of the frame rate signal.

If the frame quality indicator message is full rate the frame quality indicator message is provided to full rate frame error rate counter which keeps track of the frame error rate of full rate frames. If the frame quality indicator message is half rate the frame quality indicator message is provided to half rate frame error rate counter which keeps track of the frame error rate for half rate frames. If the frame quality indicator message is quarter rate the frame quality indicator message is provided to quarter rate frame error rate counter which keeps track of the frame error rate for quarter rate frames. If the frame quality indicator message is eighth rate the frame quality indicator signal is provided to eighth rate frame error rate counter which keeps track of the frame error rate for eighth rate frames.

The frame error counts from counters and are provided to delta calculator . Delta calculator can be implemented by programming a microprocessor microcontroller or logic array as is well known in the art. Delta calculator determines the values of half quarter and eighth in accordance with the values provided from counters and . Delta calculator provides the values of half quarter and eighth to summing elements and respectively. Summing elements and subtract the adjusted values of half quarter and eighth from the value of the full rate transmit power to determine the half rate transmit power quarter rate transmit power and eighth rate transmit power respectively. These values are provided to variable gain transmitter which amplifies the outgoing half rate quarter rate and eighth rates frame in accordance with these signals.

The sixth exemplary embodiment of methods utilizing the differences in required power between rates is referred herein as single loop composite feedback. In this embodiment the gain adjustment selectors can either be static or dynamic. As each frame quality indicator message is received that message is used to directly adjust the transmit power of the reference rate.

In the exemplary implementation data source provides a signal to control processor indicating the rate of the outgoing frame of data. Control processor provides a signal indicative of the calculated transmission power levels for different rates to transmitter . Variable gain transmitter amplifies the outgoing frame in accordance with the calculated power levels.

Referring to the frame quality indicator message is provided to de multiplexer . In accordance with rate of the frame quality indicator message de multiplexer outputs the frame quality indicator message on one of four outputs. If the rate of the frame quality indicator message is full rate then the frame quality message is output to full rate gain adjustment selector . In the exemplary embodiment full rate gain adjustment selector determines selects gain adjustment GAfull signal in accordance with equation 12 below 

where FQI is the frame indicator message with 1 indicating the occurrence of a frame error and 0 indicating the absence of a frame error.

The gain adjustment value GAfull is provided through multiplexer to a first input of summing element . The second input of summing element is provided with the current value of the reference rate transmit power which in the exemplary embodiment the full rate transmit power.

If the rate of the frame quality indicator message is half rate then the frame quality message is output to half rate gain adjustment selector . In the exemplary embodiment half rate gain adjustment selector selects gain adjustment value GAhalf in accordance with equation 13 below 

where FQI is the frame indicator message with 1 indicating the occurrence of a frame error and 0 indicating the absence of a frame error.

The gain adjustment value GAhalf is provided through multiplexer to a first input of summing element . The second input of summing element is provided with the current value of the reference rate transmit power.

If the rate of the frame quality indicator message is quarter rate then the frame quality message is output to quarter rate gain adjustment selector . In the exemplary embodiment quarter rate gain adjustment selector selects a gain adjustment value GAquarter in accordance with equation 14 below 

where FQI is the frame indicator message with 1 indicating the occurrence of a frame error and 0 indicating the absence of a frame error.

The gain adjustment value GAquarter is provided through multiplexer to a first input of summing element . The second input of summing element is provided with the current value of the reference rate transmit power.

If the rate of the frame quality indicator message is eighth rate then the frame quality message is output to eighth rate gain adjustment selector . In the exemplary embodiment eighth rate gain adjustment selector selects a gain adjustment value GAeighth in accordance with equation 15 below 

where FQI is the frame indicator message with 1 indicating the occurrence of a frame error and 0 indicating the absence of a frame error.

The gain adjustment value GAeighth is provided through multiplexer to a first input of summing element . The second input of summing element is provided with the current value of the reference rate transmit power. Selectors and can be implemented by programming a microprocessor microcontroller or logic array as is well known in the art.

After determining the reference rate transmit power the transmission power for the remaining rate is determined in accordance with that value. The full rate transmit power is provided to dependent transmit power calculator which computes the half rate quarter rate and eighth rate transmit powers in accordance with the full rate transmit powers. In a first exemplary implementation of dependent transmit power calculator half quarter and eighth are fixed values. Thus full rate transmit power is provided to summers and . And the values half quarter and eighth are subtracted from the full rate transmit power to determine the half rate transmit power the quarter rate transmit power and the eighth rate transmit power respectively.

In an alternative embodiment the values of half quarter and eighth are variable. In the variable difference exemplary embodiment de multiplexer provides the frame quality indicator to one of four outputs based on the value of the frame rate signal.

If the rate of the frame quality indicator message is full rate the frame quality indicator signal is provided to full rate frame error rate counter which keeps track of the frame error rate for full rate frames. If the rate of the frame quality indicator message is half rate the frame quality indicator message is provided to half rate frame error rate counter which tracks the frame error rate of half rate frames. If the rate of the frame quality indicator message is quarter rate the frame quality indicator signal is provided to quarter rate frame error rate counter which tracks the frame error rate for quarter rate frames. And if the rate of the frame quality indicator message is eighth rate the frame quality indicator signal is provided to eighth rate frame error rate counter which tracks the frame error rate for eighth rate frames.

The frame error counts from counters and are provided to delta calculator . Delta calculator determines the values of half quarter and eighth in accordance with the values provided from the counters. Delta calculator can be implemented by programming a microprocessor microcontroller or logic array as is well known in the art. Delta calculator provides the values of half quarter and eighth to summing elements and respectively. Summing elements and subtract the calculated values of half quarter and eighth from the value of the full rate transmit power to determine the half rate transmit power quarter rate transmit power and eighth rate transmit power respectively. These values are provided to variable gain transmitter which amplifies the outgoing half rate quarter rate and eighth rates frame in accordance with these signals.

The previous description of the preferred embodiments are provided to enable any person skilled in the art to make or use the present invention. The various modifications to these embodiments will be readily apparent to those skilled in the art and the generic principles defined herein may be applied to other embodiments without the use of the inventive faculty. Thus the present invention is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.

