---

title: System and method for data rights management
abstract: A system and method for data rights management across multiple data rights management architectures is disclosed. The system and method solves the problems posed by multiple incompatible data rights management architectures. In particular, a data rights management clearing house is provided that generates permits, permit classes, and enables content packaging across multiple data rights management architectures. Consumers may acquire rights to content packaged with different data rights management architecture from the single data rights management clearing house. Additionally, the system and method enables content packagers to package content with multiple data rights management architectures. Finally, the data rights management clearing house provides consumers with a single location from which to manage data access rights and restore data access rights that have been lost.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07120932&OS=07120932&RS=07120932
owner: Microsoft Corporation
number: 07120932
owner_city: Redmond
owner_country: US
publication_date: 20050810
---
The present application is a continuation of U.S. application Ser. No. 09 548 356 entitled System and Method for Data Rights Management filed Apr. 12 2000 now U.S. Pat. No. 6 944 776 which claims priority to Provisional U.S. Application No. 60 128 762 entitled System and Method for Data Rights Management filed on Apr. 12 1999 and Provisional U.S. Application No. 60 129 139 entitled System and Method for Data Rights Management filed on Apr. 13 1999 all of which are incorporated herein by reference in their entirety.

The present invention relates to electronic commerce. More specifically the present invention relates to a data rights management system and method for controlling access to data on the Internet.

Since the advent of the Internet and the World Wide Web electronic commerce or e commerce as it is commonly referred has received increased attention as a mechanism for sellers and buyers to transact business in virtual stores.

Many types of businesses readily lend themselves to e commerce. Certain businesses such as mail order businesses merely transformed their paper catalogs to electronic web sites. Consumers are able to surf the web site viewing the businesses products and subsequently making purchases through a telephone operator or directly through the Internet. In some cases consumers are able to place their prospective purchases in a shopping cart while they navigate the web site for later settlement.

Businesses dealing in intellectual property or information have been slow to move their businesses to the Internet for good reason. These types of businesses include for example the entertainment industry the database industry and any other industry in the business of selling information. The entertainment industry incurs considerable expense to produce and market its product e.g. music motion pictures etc. The database industry incurs considerable expense to gather information organize it and store it in an accessible manner. Both of these industries are interested in protecting their investments in their respective properties and have been unwilling to merely place it on the Internet where it can be easily transferred among consumers with little regard to the owner s intellectual property rights. Some industries particularly those dealing in information databases may not yet exist simply because the cost of gathering the information exceeds the expected return.

Various solutions have been developed to secure the information using protection mechanisms including encryption. Secured or protected information cannot be accessed through normal means or casual computer access. In order to access the information consumers must purchase the rights to the information. Once the rights are purchased consumers are given a password key and or an electronic device whereby the information can be accessed. In theory only the consumer that purchased the rights to the information can use or access the information.

Many schemes have been developed to secure the information. One scheme uses a protected container. The information or content as it is referred to herein is placed in the container along with access rules governing the steps that must be taken in order for a consumer to access the content. The container is represented as a data stream generally in a file located on media such as a CD ROM or magnetic diskette. The content may vary from a database or collection of databases to a piece or collection of music or other literary works to motion pictures as well as a host of other digital content. The content is protected in the container so that a consumer cannot access the content unless the proper rights have been obtained. The access rules describe the circumstances under which the consumer may access the protected content.

In this scheme the access rules define the consumer s ability to access the content. For example the access rules may define the cost of each piece of content whether this cost is a one time payment or a payment for the amount of use of the content i.e. by time or number of accesses and what access the consumer has including viewing copying printing etc. The access rules may also define who the consumer must pay and how this payment is to occur.

This system includes a rights enforcement engine that interacts with the container to access the content. Only the enforcement engine can access the content and transform it from a protected state to one accessible by the consumer. The enforcement engine retrieves the access rules from the container and evaluates them to determine whether the consumer has rights to the content. The enforcement engine may require the consumer to perform particular acts in order to obtain rights to the content as governed by the access rules.

A significant problem associated with the scheme described above is that the access rules reside in the container with the content. This makes it very difficult for a content provider i.e. a content producer or a web retailer i.e. a content retailer to alter the access rules once the containers have been released. Thus the content providers or retailers are unable to offer discounts or offer special limited access to the content unless these promotions were considered at the time the container was created. Having the access rules in the container is not a practical solution to today s rapidly changing business environment. Moreover development of various solutions and protection schemes has led to compatibility problems between schemes.

The importance of data rights management has caused a proliferation of incompatible solutions for protecting content throughout the industry. Examples of incompatible solutions are available from Intertrust Microsoft Adobe Systems Preview Systems Xerox Corporation and IBM . Each solution is based on a different data rights management model or architecture. Since each of the data rights management architectures is different content protected in accordance with one architecture cannot be accessed with another. In some cases a data rights management architecture is specific to a type of content such as music video or literary works.

Moreover data rights management architectures include more than just accessing content. Content providers or packagers protect content by wrapping it in containers in a process called packaging. Each data rights management architecture implements its own process for packaging often with proprietary encryption and access methods. Content packaged within one data rights management architecture therefore is incompatible with another data rights management architecture. Consumers wishing to gain access to protected content therefore must utilize the system of the particular data rights management architecture that packaged the content.

Incompatible data rights management architectures pose a number of significant problems to distribution of content. Currently each data rights management architecture requires a separate system for packaging content and distributing rights to the content. Content providers and content packagers using multiple data rights management architectures such as when packaging music and information content are forced to use multiple systems. When the number of different data rights management architectures and pieces of content is large the process and management of packaging becomes difficult and unwieldy. Additionally duplicating DRM architecture systems and storage is expensive and inconvenient.

Conventionally each data rights management architecture requires its own separate system to grant rights to consumers. When attempting to access content a consumer must be granted rights by a system corresponding to the originally protected content. Separate independent systems essentially prohibit the central management of rights to content protected with incompatible data rights management architectures. With the growing number of data rights management architectures content types consumers and the amount of content available granting access to protected content has become a very difficult task.

Incompatible data rights management architectures make commercial distribution of rights to protected content difficult. In particular management of transactions tracking and auditing of rights to content becomes very difficult. Moreover if a transaction becomes corrupt or a consumer has somehow lost the ability to access the content reconstruction of the transaction across multiple data rights management is difficult at best.

Other problems exist with respect to data rights management systems some of which are discussed in further detail below. Accordingly what is needed is a system and method to integrate multiple incompatible data rights management architectures that allow access rules to content to be defined outside the container.

The present invention solves the problems posed by incompatible DRM architectures by providing a DRM agnostic clearing house. The term DRM agnostic indicates that a particular system or method is independent of a particular DRM architecture. A DRM agnostic clearing house incorporates multiple DRM architectures into a single clearing house for the generation and management of permit classes permits and permit offers. According to the present invention access rights are provided through the use of permits. Permits are digital devices that allow consumers to access protected content. Permit classes define which permits will enable a consumer to access protected content packaged with the permit class.

The DRM agnostic clearing house of the present invention generates permits permit classes and enables packaging for any DRM architecture. The DRM agnostic clearing house insulates content providers content packagers and content consumers from the incompatibilities and difficulties of multiple DRM architectures. The DRM agnostic clearing house provides for distributed packaging of content. Distributed packaging of content allows multiple packaging tools to package content using the same permit class.

The DRM agnostic clearing house also solves the problem of packaging content across multiple DRM architectures. Often a content packager is forced to choose a particular DRM architecture because of the type of content e.g. a music specific DRM architecture an existing relationship with the content provider or some other reason. The DRM agnostic clearing house provides centralized permit class management. Centralized permit class management provides for the establishment of distributed packaging across multiple packaging partners. Through centralized permit class management a content packager or content provider may define permit classes with which content is to be packaged.

The DRM agnostic clearing house also provides the ability to generate permits across multiple DRM architectures. Often web retailers offer content packaged with different DRM architectures to consumers. This poses a problem for web retailers because permits are traditionally DRM architecture specific forcing web retailers to use multiple DRM systems. A DRM agnostic clearing house however can generate a permit associated with any of the DRM servers incorporated within the clearing house.

A preferred embodiment of the invention is discussed in detail below. While specific implementations are discussed it should be understood that this is done for illustration purposes only. A person skilled in the relevant art will recognize that other components and configurations may be used without parting from the spirit and scope of the invention.

The present invention is a system and method for protecting and granting rights to content. Content may be any digital data provided by a content provider. Examples of content include but are not limited to music video literary works commercial database information etc. Content is protected by placing it in containers. The container may be any data stream but is generally a file that may be transmitted via the Internet or delivered in a physical form such as a CD ROM magnetic disk etc. Access to content in the container is specified by access rules. Access rules are the steps or criteria governing the access to content. For example access rules may require a consumer to acquire rights to content before the content may be accessed. Consumers are any party that wishes to access content protected within a container.

The process of putting content into a container is called packaging. Generally content is packaged by a content packager. Often the content provider packages the content before providing it to consumers or third parties such as web retailers. In the packaging process content is usually packaged with a packaging tool. A packaging tool takes content some form of content access rules and creates a container with protected content. Once protected content has been packaged within a container a consumer must acquire access rights the content.

To access protected content within containers consumers must acquire certain rights. Access rights to the content may be acquired from the content provider content packager or web retailer. According to the present invention access rights are provided through the use of permits. Permits are digital devices that allow consumers to access protected content. A consumer negotiates a permit and downloads and installs that permit from a content provider content packager web retailer or clearing house.

According to the present invention a clearing house generates and distributes permits and manages certain aspects of the e commerce transaction. Once the consumer has downloaded and installed the appropriate permit to access the container access to the content is provided through a viewer. A viewer may be any software through which the consumer accesses the protected content such as a media viewer a protected content browser a music player etc.

Preferably the viewer includes a rights enforcement engine that interacts with the container to access the content. Only the rights enforcement engine in conjunction with the permit can access the content and transform it from a protected state to one accessible by the consumer. The rights enforcement engine retrieves the access rules from the container and evaluates them to determine whether the consumer has rights to the content. The enforcement engine may require the consumer to negotiate or fulfill requirements e.g. payment providing information etc. in order to obtain rights to the content as governed by the access rules.

In one embodiment the present invention solves the problem of access rules residing with access rules residing within the container. In conventional systems the access rules within the container limit how the content may be accessed by the consumer according to a set of predefined rules within the container. This makes it very difficult for a content provider or web retailer to alter the access rules once the container has been released. The present invention however provides a container and viewer that separates the access rules from the protected content so that a content provider content packager or web retailer may change the access rules for accessing content after a container has been released. Essentially external offers to purchase rights to protected content are defined and offered to a consumer. The offer is defined outside the container preferably at a location on the Internet. The offer defines the terms by which the consumer may obtain a permit to access the protected content. A container may be packaged so that a number of permits provide differing levels of access to the protected content. Depending on the particular offer accepted by the consumer and the resulting permit downloaded and installed the consumer will have differing levels of access to the content. The viewer works with the downloaded permit through the rights enforcement engine to implement the level of content access defined by the permit.

Permits are generated according to a data rights management DRM architecture. The DRM architecture defines the process for packaging and granting rights to content. There are a number of commercially available DRM architectures from sources such as Intertrust Microsoft Adobe Systems Preview Systems Xerox Corporation and IBM . Different DRM architectures generally incompatible with one another are typically implemented as systems. Each DRM architecture system provides tools for packaging content generating permits distributing permits to consumers and using the permits to provide access to the content. Because each of the DRM architectures is different content packaged with one DRM architecture cannot be accessed with another. In some cases a DRM architecture is specific to a type of content such as music video or literary works.

DRM architecture systems are a group of utilities or tools implementing the features of a particular DRM architecture. Typically a DRM architecture system includes software and technology for packaging content such as a DRM specific packager generating permits to access protected content and a rights enforcement engine for accessing protected content with a permit. The DRM specific packager protects content in the container defined by the DRM architecture.

Content packagers package content according to a particular DRM architecture. In order to package content a content packager must obtain a permit class from the DRM architecture system that governs access to the content. Permit classes define which permits will enable a consumer to access protected content packaged with the permit class. A DRM server or permit server generates permits and creates permit classes. Using a permit class a packager is able to create a container with protected content accessible only to a consumer with a permit associated with the permit class. The various DRM architectures use different nomenclature to describe permits and permit classes but essentially permits are used by consumers to access protected content and permit classes are used to define the permits required to access protected content.

Each DRM architecture system has an associated process for generating permits and installing those permits at the consumer device. Preferably some consumer identifying information is read from the consumer device. Preferably this information uniquely identifies the consumer device and in one embodiment includes a serial number from the consumer device. Other forms of information uniquely identifying a particular user or consumer device may be used as would be appropriate. In any case the consumer device identifying information is passed to the clearing house when a new permit is requested. Preferably the consumer device identifying information is used to generate a permit that is unique to the particular consumer device.

A DRM server or permit server within the clearing house generates the permit according to the particular implementation of the DRM architecture supported by the permit server. Typically vendors of DRM architectures provide a set of Application Programming Interfaces APIs that implement the features of the DRM architecture system. The DRM server or permit server implements the various DRM architecture APIs to provide the functionality associated with the DRM architecture system. The permit server generates the permit from a particular permit class. Permit classes define which permits will enable a consumer to access protected content within a container. In order to generate a permit the permit server must receive a request to generate a permit with the associated permit class.

After the clearing house has generated a permit the permit is provided to the consumer. Preferably the clearing house transmits a download and install permit URL install permit URL electronically via the Internet or an email message. The install permit URL identifies a location preferably at a web site of the clearing house where the consumer may download and install the permit. Preferably the consumer accesses the install permit URL and a program or executable file is retrieved and executed at the consumer device thereby installing or binding the permit to the consumer device. Other mechanisms for providing the permit to the consumer may be used such as sending the permit to the consumer via for example email.

The present invention solves the problems posed by incompatible DRM architectures by providing a DRM agnostic clearing house. The term DRM agnostic indicates that a particular system or method is independent of a particular DRM architecture. A DRM agnostic clearing house incorporates multiple DRM architectures into a single clearing house for the generation and management of permit classes permits and permit offers.

The DRM agnostic clearing house of the present invention generates permits permit classes and enables packaging for any DRM architecture. The DRM agnostic clearing house insulates content providers content packagers and content users from the incompatibilities and difficulties of multiple DRM architectures.

More specifically the DRM agnostic clearing house is a clearing house system that incorporates multiple DRM servers. Typically vendors of DRM architectures provide a set of APIs that implement the features of the DRM architecture system. The DRM server or permit server implements the various DRM architecture APIs to provide the functionality associated with the DRM architecture system. The interfaces to the DRM servers are abstracted so that the functionality of generating permit classes and permits of each DRM server is incorporated in a single DRM agnostic clearing house. From the DRM agnostic clearing house a consumer may acquire any permit for which a DRM server has been incorporated. For example if both Microsoft and Adobe Systems DRM servers have been incorporated into the DRM agnostic clearing house the clearing house may generate and issue permits and permit classes for content packaged by either the Microsoft or Adobe Systems DRM architecture.

The DRM agnostic clearing house solves many of the problems of multiple DRM architectures. First the DRM agnostic clearing house provides for distributed packaging of content. Distributed packaging of content allows multiple packaging tools to package content using the same permit class. Packaging of content is accomplished through the use of a packaging tool and permit class. The clearing house of the present invention is a central repository for all the permit classes created by the incorporated DRM servers. A content provider or packager seeking to package content accesses the clearing house and requests a permit class for packaging. The request includes a message specifically identifying the permit class to be used in the packaging process. If not already created the clearing house creates the permit class and then returns information associated with the permit class such as encryption information and identifiers to the requesting packager tool. Because the clearing house stores all of the permit classes centrally multiple packaging tools may be used to package content with the same permit class.

The DRM agnostic clearing house also solves the problem of packaging content across multiple DRM architectures. Often a content packager is forced to choose a particular DRM architecture because of the type of content e.g. a music specific DRM architecture an existing relationship with the content provider or some other reason. The content packager therefore is often required to deal with multiple DRM systems and servers to package content for different DRM architectures. As the amount of content number of different DRM architectures and consumers increases managing the different DRM systems becomes unwieldy. The DRM agnostic clearing house solves the problem of packaging across multiple DRM architectures by providing a single packaging interface for multiple DRM architectures. At packaging time the content packager need only specify the particular DRM architecture with which the content is to be packaged and the clearing house returns the permit class necessary for packaging.

The DRM agnostic clearing house provides centralized permit class management. Centralized permit class management provides for the establishment of distributed packaging across multiple packaging partners. Through centralized permit class management a content packager or content provider may define permit classes with which content is to be packaged. A permit class identifier unique to the permit class may be created and distributed to packaging partners. Packaging partners such as other content packagers may use the permit class identifier and permit class defined at the clearing house to package content. The centralized definition and management of the permit class enables new packaging business relationships to be developed.

The DRM agnostic clearing house also provides the ability to generate permits across multiple DRM architectures. Often web retailers offer content packaged with different DRM architectures to consumers. This poses a problem for web retailers because permits are traditionally DRM architecture specific forcing web retailers to use multiple DRM systems. A DRM agnostic clearing house however can generate a permit associated with any of the DRM servers incorporated within the clearing house. For example a consumer wishes to access the protected content within a container. The container was obtained from a web retailer that provides an offer to the consumer to acquire the access rights to the content within the container. When the consumer accepts and fulfills the requirements to obtain the permit to access the content the web retailer begins the process of generating a permit for the consumer. A request for a permit associated with the container is submitted to the clearing house. The request can either be bound to a particular Internet address i.e. URL or generated dynamically by the web retailer. Regardless the request ultimately identifies the particular permit class of the permit required to obtain the negotiated level of access to the protected content. Since the DRM agnostic clearing house supports multiple DRM architectures the clearing house accepts requests for permits from any of the incorporated DRM servers. The clearing house generates the permit in accordance with the request and provides the permit either directly or through the web retailer to the consumer.

Consumer rights management is an important benefit of DRM agnostic permit generation. Consumer rights management provides the consumer with the option of managing and restoring rights to content already acquired. Often a consumer will acquire rights to a number of different pieces of content. Because content is often packaged with different DRM architectures it is likely that the consumer will receive permits to access content from multiple DRM architectures. This poses a significant barrier to consumer rights management. In conventional systems the consumer must access multiple clearing houses to manage the rights already acquired. For example if the consumer access rights to content are somehow lost e.g. a hard disk failure etc. the rights will only be restored after the consumer has contacted every clearing house from which the rights were acquired.

A DRM agnostic clearing house on the other hand provides a central location where a consumer may acquire and manage rights. Because a single clearing house distributes access rights for multiple DRM architectures a consumer may acquire all access rights from a single clearing house. The clearing house tracks the access rights of the consumer in a consumer account. The consumer account includes a compete history of the access rights the consumer acquired. If at some point in the future the consumer access rights are lost the clearing house becomes a central location for rights restoration. The consumer need only access the consumer account with appropriate identifying information to restore the lost access rights.

Another important benefit of the DRM agnostic clearing house is enabling a content provider or packager to convey the right to distribute permits to third parties such as web retailers. The content packager packages the content using a particular permit class. The resulting container is then distributed or made available to consumers in any of a number of ways. For example the container can be made available through web retailers web sites on media such as magnetic disk or CD ROM etc. The content packager provides the permit class identifier uniquely identifying the permit class for generation of permits to web retailers. When a consumer wishes to purchase the access rights to the protected content on the container the web retailer provides the permit class identifier to the clearing house and the clearing house generates the associated permit as described above. The permit is provided to the consumer thereby granting access to the content.

The preferred environment of the present invention is a networked environment where content providers content packagers web retailers consumers and clearing house affect the communication needed to carry out the system and method of the present invention.

In a preferred embodiment of the present invention content provider C content packager web retailer clearing house and consumer are interconnected to one another via Internet . In other embodiments of the present invention these elements may be connected via other communication mechanisms as would be apparent. In addition to the Internet connections content packager web retailer and clearing house may be interconnected to one another via a secure or dedicated communication channel employing the Internet or some other communication mechanism.

In web environment consumer has in its possession container . Consumer may have received container via the Internet from a source such as web retailer via diskette or other media from a friend or other source or some other form of distribution including from a retail store i.e. brick and mortar retailer . However consumer does not necessarily have access to the contents of container even though he has container in his possession. In order to access the contents of container consumer must first obtain access rights the contents. The process of obtaining rights is discussed in further detail below.

Certain content providers such as content provider C may provide their content in containers directly to consumers via Internet . Other content providers such as content providers A and B may provide content to content packager who packages the content in containers is described below. Content packagers may subsequently provide containers to consumers via the Internet or to web retailers who provide containers to consumers . Clearing house manages certain aspects of the transactions associated with containers is described in further detail below.

In a preferred embodiment of the present invention container includes protected content at least one descriptive property at least one content access term a link to access rights data and content navigation data . Each of these components of container are now described.

Generally speaking all the information included in container is either content or meta data i.e. information related to the content or to container itself . Furthermore in some embodiments of the present invention some or all of the content in container may be protected that is a casual reader is unable to access any of the information in container . Protected content sometimes also referred to as payload is the information in container which consumer desires to access. Protected content thus may be considered as that content in container having commercial or other value. In addition although not specifically illustrated in container may also include unprotected content that may or may not have commercial value. It should be understood that the operations and functionality described herein with respect to protected content may also apply to unprotected content. 

Protected content may be any sort of information including but not limited to lists databases music video etc. A piece of content as referred to herein generally refers to a commercially viable unit of content e.g. a song an album a book etc. although a piece of content may refer to individual bytes of information. Protected content is protected in container in the sense that while protected content may be read via various mechanisms it is not decipherable. In other words consumer does not have access to protected content . Protected content may be protected by various well known protection and or encryption schemes as would be apparent.

Descriptive properties comprise meta data that describes protected content or container . Descriptive properties may include a title a date associated with the content s creation or modification file size and or other information concerning container or its contents. Descriptive properties may include information similar to that used by typical file systems. Descriptive properties may also include URL path information for internal navigation data mapping.

In general access to content is achieved via two methods. The first method is comprised of content access terms which define or describe the information a rights enforcement engine requires for access to be granted to protected content . In other words this information defines or describes the requirements needed in order for the rights enforcement engine to transform protected content from a protected state to one that is accessible by consumer . This first method is specific to a particular rights enforcement engine and its implementation may vary accordingly.

The second method exists outside of the container in a backoffice of clearing house and defines or describes the information or protocols necessary for a consumer to obtain rights in protected content . Specifically this information defines or describes what consumer must do to acquire rights or permission to access protected content . In other words this information defines or describes the permit acquisition terms. Permits are digital devices that allow consumers to access protected content. The implementation of this method is specific to a particular collection of rights as related to the parties involved i.e. consumer content providers content packagers web retailers and or clearing house etc. and may also vary accordingly. Thus access to content includes two facets those terms required to satisfy the rights enforcement engine and the permit acquisition terms.

According to a preferred embodiment of the present invention link to access rights data may include an Internet address or URL address that identifies a web site where access rights data corresponding to protected content is found. According to the present invention this web site becomes the starting point for evaluating whether consumer may acquire access rights to content if he does not already have them. In essence link provides a link to the permit acquisition terms rather than storing them in the container itself. This significantly enhances the flexibility of container because content providers content packagers and or web retailers may alter the permit acquisition terms very easily without redistributing containers . The importance of this flexibility cannot be overstated.

According to the present invention content navigation data includes various information to enable navigating the contents of container including protected content . In a preferred embodiment of the present invention navigation data includes a map of the contents of container to facilitate navigation of container in a web like manner. This map includes translation data to resolve URL references to one or more pieces of content including protected content . These references may be embedded in the content. This map is used by viewer to locate or reference the contents of container to provide consumers with the same look and feel of an Internet web site. In essence navigation data facilitates a web site in a container. Navigation links in the contents of container may include links to other content inside container including links to protected content as well as links to data outside container e.g. to web pages or other data accessible via the Internet or local file system .

In a preferred embodiment of the present invention a packaging tool may be used during the creation of container to drag and drop a conventionally implemented web site into container . The web site in container would then function with viewer of as described below. As such consumer will navigate the content of container as if consumer was navigating a web site.

A viewer may be any software through which the consumer accesses the protected content such as a media viewer a protected content browser a music player etc. Preferably the viewer includes a rights enforcement engine that interacts with container to access protected content . Only the rights enforcement engine can access the content and transform it from a protected state to one accessible by the consumer. The rights enforcement engine retrieves the access rules from the container and evaluates them to determine whether the consumer has rights to the content. The rights enforcement engine may require the consumer to perform particular acts in order to obtain rights to the content as governed by the access rules.

Generally viewer of enables consumer to access protected content in container . Rights enforcement engine provides viewer with access to protected content in container . Rights enforcement engine may be any one of a number of commercially available rights enforcement engines is described below. Interface layer and Rights Enforcement Engine REE modules provide an interface between viewer and rights enforcement engine . Through interface layer REE modules and rights enforcement engine viewer is able to present protected content at output . REE modules and rights enforcement engine are DRM architecture specific. Rights enforcement engine is preferably provided by a vendor of a particular DRM architecture as part of the DRM architecture system.

More specifically illustrates the particular aspects of consumer according to the present invention. Consumer includes a user and a collection of tools operating on a consumer device. These tools include a viewer incorporating an embedded web browser a web browser external to viewer a rights enforcement engine an interface layer and one or more REE modules between viewer and rights enforcement engine and an output device . In addition these tools may include one or more various content specific plug ins for secure rendering of content having specific formats. Output device may include a display or playback device for viewing or playing the contents of container a printer for printing the contents and or a disk or other storage device for storing the contents outside container . As would be apparent access to these devices may be selectively controlled.

Viewer controls interaction between container and the other tools. In a preferred embodiment of the present invention web browser is embedded in viewer . Viewer operates with the particular operating system of the consumer device to perform various standard functions as would be apparent. Viewer also interacts with rights enforcement engine to allow consumer to access container . This interaction is facilitated by interface layer and REE module . REE module is specific to rights enforcement engine . Interface layer includes binding code that introduces a level of abstraction between viewer and rights enforcement engine . REE modules adapt interface layer to specific rights enforcement engines .

According to the present invention rights enforcement engine includes the basic functions to access the contents of container particularly protected content . Rights enforcement engine transforms protected content from a protected state to a state accessible by consumer . Various rights enforcement engines exist including Microsoft s Data Rights Manager and InterTrust Technologies Corporation s Commerce and Enterprise Edition Products as well products from Adobe Systems Preview Systems Xerox Corporation and IBM and others.

Viewer and interface layer operates as an interface between container and rights enforcement engine creating a level of abstraction from a particular rights enforcement engine . Viewer interacts with container and the other tools to facilitate various operations associated with container . In particular viewer retrieves content navigation data from container and passes the information such as HTML data and other web type data to web browser . Viewer with web browser facilitates consumer obtaining rights to protected content as described in further detail below. Viewer also operates with rights enforcement engine once those rights have been obtained so that consumer may access protected content in a secure manner according to content access terms .

In a preferred embodiment viewer operates with rights enforcement engine through interface layer and REE modules allowing consumer to navigate protected content in a web like manner with embedded web browser . In a preferred embodiment web page information such as HTML is referenced by web browser . For example when consumer selects a link in the web page information web browser attempts to access or retrieve the web information referenced by the link. Viewer interface layer and REE modules intercept the attempt of web browser to reference the web information referenced by the link and use the link and information in container to retrieve information from protected content representing the web information referenced by the link. The web page information is passed to web browser where it is displayed according to the particular browser implementation.

In a preferred embodiment of the present invention viewer operates with off the shelf tools and appropriate binding code. That is modification of the source code of these tools is not required. More specifically viewer and or interface layer transforms or remaps data between these tools and container so that the tools operate on data as their respective designers intended albeit for sometimes other purposes.

In a preferred embodiment of the present invention web browser includes Microsoft s Internet Explorer . In an alternate embodiment web browser includes Netscape Navigator Web Browser. In each of these embodiments viewer operates in an embedded mode with respect to web browser . Furthermore viewer incorporates the web control framework of web browser . In effect this embodiment functions as a web browser with an embedded viewer with an incorporated web browser .

Implemented in this manner viewer is able to reference and resolve URL links via the Internet including links to other containers URL links to content in container including protected content i.e. container pages and URL links to data on the local file system. According to the present invention container may include container pages that include links to content in container including protected content to other web pages on the Internet to other containers on the Internet and or any of the above found locally. Accordingly viewer must be able to transparently operate in three distinct zones a file system the Internet and a container i.e. a protected file system .

In addition to being able to manage container pages viewer is also able to resolve other data such as .gif files script e.g. javascript applets etc. referenced by the container pages. This other data may reside in any of the three zones. This further enhances the flexibility of the container pages placed inside container .

Viewer also migrates various features of web browsing to containers . One such feature includes the history feature commonly found in web browsing applications. Specifically viewer treats browsing to container or pages in container as browsing any other web site or web page respectively. Viewer maintains a history of browsing containers so that Back Forward Go To functions and other similar functions operate with respect to container pages as if they were conventional web pages.

Because of the nature of protected content in container viewer maintains container and their subordinate content including protected content in an opened state once consumer has gained rights to the contents. Protected content is opened in the sense that content access terms including permit acquisition terms have been satisfied and consumer may access protected content . Preferably opened does not equate to unprotected that is protected content should remain secure. Once protected content has been opened viewer maintains content in an open state during a session so that consumer does not have to reacquire rights to protected content while navigating other pages or other content. In other words consumer may go back to protected content that he opened earlier in a session without having to reacquire rights to protected content . While containers are preferably maintained as open during a session other maintenance periods could be implemented as would be apparent.

Viewer also operates with various content type plug ins that enable secure rendering of particular content not typically supported by web browser . Thus viewer operates with plug ins that render various data formats including by way of example MPEG streaming video Microsoft Word Microsoft Excel Microsoft PowerPoint Adobe PDF as well as a host of other data formats as would be apparent.

In a preferred embodiment of the present invention rights enforcement engine includes any of Microsoft s Data Rights Manager and InterTrust Technologies Corporation s Commerce and Enterprise Edition Products as well products from Adobe Systems Preview Systems Xerox Corporation and IBM and others. In an alternate embodiment rights enforcement engine includes InterTrust Technologies Corporation s Commerce and Enterprise Edition Products. In still alternate embodiment rights enforcement engine includes any DRM architecture that provides a rights enforcement engine. Each operates with viewer through interface layer to implement a permit architecture is described in further detail below.

In a preferred embodiment of the present invention viewer and the tools operate on a suitable computer platform and associated peripheral devices. Preferably the computer platform runs an operating system such as Microsoft Windows.

While a container may be obtained free of charge consumer may be required to purchase the permit that allows access to content . Additionally as a pre condition to granting a permit web retailer content provider or clearing house may wish to vet or investigate consumer and or collect demographic information from him. generally illustrates the features and operation of the permit architecture according to the present invention.

In a preferred embodiment of the present invention access rights to content are provided by permits. Permits are downloaded and installed at consumer allowing rights enforcement engine to provide access to protected content .

Generally speaking permit management architecture describes the mechanisms by which permits are established specified provisioned and stored by which consumers satisfy the acquisition terms e.g. by providing information and or payment to obtain permits and by which permits are delivered.

The permit architecture of illustrates a generic implementation of specific DRM architectures. Permit architecture includes clearing house permit server permit rights enforcement engine permit class container and protected content . Consumer interacts with clearing house or alternatively web retailer to satisfy the permit acquisition terms thereby requesting a permit. DRM server generates permit in response to a request for a permit from clearing house . DRM server is specific to a DRM architecture. The particular form of the permit is dictated by the DRM architecture of DRM server . Permit may be in the form of an encryption key an encryption string or other key type data ultimately granting access rights to consumer . Permit is downloaded and installed at the device of consumer . Normally some consumer device identifying information has been uploaded by clearing house from the device of consumer . The consumer device identifying information is used to create a permit specific to the device of consumer and preferably may not be used on another consumer device. Once permit is downloaded and installed rights enforcement engine reads protected content from container .

Content has been packaged according to a particular DRM architecture. In order to package content content packager must obtain a permit class from the DRM architecture system that will eventually generate the permits used to access the content. Permit classes define which permits will enable a consumer to access protected content. Rights enforcement engine reads protected content from container and checks permit against permit class with which protected content associated during its creation. If permit is the appropriate permit with which to access protected content rights enforcement engine grants access to consumer .

In a preferred embodiment of the present invention consumer purchase decisions are driven from an HTML offer page . This page will include permit descriptions and links to specific permit order pages . Consumers may link to a specific offer page while browsing a vendor s web site or from link included in container .

In a first method consumer navigates vendor web site . Consumer finds the protected content and accesses an offer for protected content at offer page . Consumer accepts the offer presented at offer page and is directed to order page . At order page consumer completes the order form to begin the process of acquiring permit .

Alternatively consumer may be referred to offer page when attempting to access container directly. Consumer may obtain a copy of container and attempt to access protected content . In this scenario container includes link to access rights data as described above. The link to access rights data directs consumer to a place on the Internet where the access to rights may be acquired. When consumer selects container link to access rights data redirects consumer to the location specified by the link to access rights data . Offer URL is stored both as a container attribute and optionally incorporated within the HTML or other suitable language presentation. When a user without permit necessary to access protected content attempts to access the content the user is redirected to web page specified by offer URL . Web page denies consumer access to protected content and provides a link to offer page .

Each DRM architecture system has an associated process for permit creation and installation at the device of consumer . The process for creating and installing permit is defined by the vendor of the particular DRM architecture. Typically identifying information is read from the device of consumer . The consumer device identifying information is passed to clearing house when a new permit is requested. Preferably the consumer device identifying information is used to generate permit that is unique to the particular device of consumer .

A DRM server or permit server generates permit according to the particular implementation of the DRM architecture associated with the server. Permit is generated from a particular permit class . Permit classes define which permit will enable a consumer to access protected content . In order to generate permit permit server must receive a request to generate permit with the associated permit class . The various DRM architectures use different nomenclature to describe permits and permit classes but essentially permits are used by consumers to access protected content and permit classes are used to define the permits required to access protected content.

After clearing house has generated permit permit is returned to consumer or sponsor depending on the scenario. Preferably clearing house transmits a download and install permit URL install permit URL electronically via the Internet or in an email message. The install permit URL identifies a location preferably at a web site of clearing house where consumer may download and install permit . Typically consumer accesses the install permit URL and a permit file is retrieved according to the particular DRM architecture of permit thereby installing or binding permit to the consumer device.

Permit acquisition is the process by which consumer obtains permit . The particular process of acquiring permit is called a permit transaction. Parties to a permit transaction or entities in addition to the permit transaction define a particular scenario. A scenario is a combination of steps and entities that define the process of consumer acquiring permit from clearing house . Although consumer acquires permit and clearing house generates or creates permit there may be other entities such as content providers content packager or web retailer involved in the permit transaction. These other entities i.e. an entity other than consumer and clearing house are collectively referred to herein as sponsor .

It should be understood however that steps represent only a possible permit transaction. The steps required in a permit transaction are defined by the particular scenario and are not necessarily represented by all the steps of process . For example a scenario may exist where consumer acquires a permit directly from clearing house . In this hypothetical scenario sponsor submits a permit pre order in step clearing house generates the physical permits in step and consumer downloads and installs the permit in step . In this scenario only steps and are required to complete the permit transaction. Moreover the entities performing steps are scenario dependent. Sponsor clearing house and consumer perform steps according to a particular scenario as described below.

Process and more specifically steps illustrate the principal communications for permit transactions. Each of steps are divided into their component messages among participating entities as illustrated in .

With respect to these scenarios consumer receives permit and sponsor e.g. typically one of content provider content packager and or web retailer authorizes issuance of permit . Data collector is a subsystem that collects non payment information e.g. demographic information from consumer . Payment collector is a subsystem that collects payment information from consumer resulting in consumer being charged in any of a variety of ways and permit creator e.g. clearing house creates and delivers permit .

All of the scenarios described below follow a similar pattern of events as illustrated in process . The scenarios differ according to which participant performs steps to the extent that they are performed at all.

In a step consumer indicates his interest in obtaining permit by selecting an offer. Essentially external offers to purchase rights to protected content are defined and offered to consumer . An example of an offer page is described above as offer page . A number of entities may make the offer available to consumer including sponsor and clearing house . In a preferred embodiment the offer is defined outside container preferably at a location on the Internet. However in alternate embodiments the offer may be defined within container . Consumer will have navigated to a specific offer s information page either directly by way of a home page in container or by way of the offer dialog from offer URL . As a result of this navigation consumer is preferably informed about the privileges and obligations cost and or data collection associated with obtaining permit . The operation of step is discussed in further detail below.

In an optional step consumer has browsed the web site of sponsor and has decided to request permit . In response to the request consumer may be asked to provide certain consumer demographic data via for example an HTML form which may be subsequently collected and saved in an order database. Once the response is received the sponsor returns a page to consumer that directs consumer preferably automatically to the payment collector subsystem. If step is performed by the sponsor and clearing house is to handle consumer payment processing then the flow of steps is as follows step followed by step followed by step . Otherwise the flow if steps is as indicated in . The operation of step is discussed in further detail below.

In an optional step consumer has browsed the web site of sponsor and again has decided to request permit . Typically at least one of step or step is performed in order for consumer to obtain permit . In step consumer is directed to the payment collector subsystem which retrieves the price and requests payment information from consumer . In a preferred embodiment of the present invention a KEEPALIVE page is returned to consumer that periodically requests an update from the payment collection system This periodic request is ultimately answered with the receipt page but may be acknowledged during the transaction with a processing . . . page. . The order database maintains the state of the financial transaction and is updated as the financial transaction proceeds. Once approval from a payment gateway is received the payment collector subsystem informs the permit creator of the new permit. The operation of step is discussed in further detail below.

In an optional step the authorizing party content provider content packager web retailer or clearing house etc. generates a permit pre order and sends this information to clearing house . Clearing house includes a subsystem described below that generates permits in response to permit requests. The pre order specifies which permits to issue identifies the intended consumer and remaining processing required by clearing house to complete the order. Clearing house will respond with an order continue URL that will allow consumer to continue the transaction. Preferably the order continue URL is an Internet address providing consumer with access to permit . The operation of step is discussed in further detail below.

In an optional step a receipt page for the order that includes the order continue URL may be generated. Preferably an e mail or some other form of notification electronic or otherwise is sent to consumer if financial payment was involved in his obtaining permit . The operation of step is discussed in further detail below.

In step clearing house creates permit based on a permit pre order. It should be noted that permit creation and installation is specific to a particular DRM architecture. This process is initiated when consumer requests order continue URL for the first time. Subsequent requests will return the previously created permit or may interact with consumer to allow repurchase of the offer. Preferably the system ensures that consumer would not be required to repurchase an identical permit representing identical rights. In one embodiment of the present invention the permit creator may message a billing system so that it may perform any billing e.g. billing sponsor associated with permit delivery. In a preferred embodiment clearing house tracks and audits permit and permit class activity to perform billing and payment against sponsor .

In a step consumer clicks on the order continue URL. After it is downloaded and installed permit is automatically registered by rights enforcement engine . Once permit is registered protected content may be accessed i.e. rendered displayed etc. by consumer . The operation of steps and are discussed in further detail below.

After offer page protocol step when consumer decides to accept the offer of offer page the protocol diagram of continues at request offer protocol step . In request offer protocol step consumer chooses to accept the offer of offer page and order permit . A request offer message from consumer to sponsor manifests the acceptance of offer page in request offer protocol step . Preferably the message of request offer protocol step includes an offer ID identifying the particular offer accepted by consumer . Sponsor receives the request offer message at request offer protocol step and prepares an order page for transmission to consumer .

In data entry form protocol step sponsor or clearing house transmits a data entry form preferably order page to consumer . Depending on the particular scenario either clearing house or sponsor can transmit the data entry form in data entry form protocol step . Preferably order page is transmitted from clearing house or sponsor to consumer via the Internet and viewed via browser .

Collect consumer data step continues at userID plug in protocol step . In userID plug in protocol step consumer provides the device identifying information uniquely identifying the device of consumer . UserID plug in protocol step is dependent upon the particular DRM architecture for implementation. After consumer has provided the device identifying information at userID plug in protocol step collect consumer data step continues at post protocol step .

In post protocol step consumer transmits completed order page including consumer data and userID from userID plug in protocol step to clearing house or sponsor . In a preferred embodiment consumer data and userID transmitted in post protocol step is sent via the Internet in an HTML post operation. After clearing house or sponsor receives the consumer data and device identifying information transmitted in post protocol step collect consumer data step continues at write protocol step .

In write protocol step clearing house or sponsor writes the data received in post protocol step to user data database . User data database stores device identifying information and consumer data transmitted from consumer to clearing house or sponsor . Collect consumer data step is completed with the completion of write protocol step .

In log order protocol step clearing house or sponsor writes the offer information read in look up financial offer protocol step to order database . Order database stores information associated with the order of consumer for permit . Financial offer data from look up financial protocol step is written to order database to track the permit transaction of process payment step . After financial offer information is written to order database in protocol step clearing house or sponsor generates order page from the offer data. Preferably order page is an HTML page viewable at the browser of consumer . After order page is generated clearing house or sponsor transmits order page to consumer in order page protocol step .

In order page protocol step sponsor or clearing house transmits order page to consumer . After consumer receives order page transmitted in order page protocol step consumer completes order page in user ID plug in protocol step . In user ID plug in step consumer provides consumer payment information such as e mail address credit card information a unique user ID and other information associated with processing a payment via the Internet. After consumer completes order page in user ID plug in step consumer transmits process payment information as completed in user plug in step to clearing house or sponsor in process payment post protocol step .

Clearing house or sponsor receives the process payment information posted by consumer in process payment post protocol step . Information sent via the form in process payment post protocol step is preferably sent via an HTML post operation. At this point clearing house or sponsor writes the additional information received from consumer in process payment post protocol step to order database in update order status protocol step .

Clearing house or sponsor writes process payment information received in protocol step to order database in update order status protocol step . Order database includes information describing the order for permit . The order information in order database preferably includes information describing the order the permit transaction and information necessary to generate a permit in fulfillment of the order. Process payment information is written to order database so that the progress of the permit transaction may be tracked. After update order status protocol step or concurrently with protocol step clearing house or sponsor submits a payment authorization request to payment gatetway in authorization protocol step .

In authorization protocol step clearing house or sponsor requests a payment authorization from payment gateway so that payment from consumer for permit may be validated prior to delivery of permit . Payment gatetway responds to authorization protocol step with approval protocol step . Approval protocol step notifies clearing house or sponsor of approval or denial of the request from authorization protocol step . After clearing house or sponsor receives the authorization or denial from approval protocol step permit transaction information is updated in update order protocol step . In the case of an approval received in approval protocol step permit transaction information written in update order protocol step reflects the approval. If on the other hand a denial is received in approval protocol step update order protocol step writes the denial to order database .

During protocol steps and KEEPALIVE pages are passed between consumer and clearing house or sponsor in KEEPALIVE protocol steps and . KEEPALIVE protocol steps and pass information between consumer and clearing house or sponsor in order to maintain the transaction connection and thereby the permit transaction between the two entities. This ensures that any latency or delay involved with payment authorization through payment gatetway does not cause the permit transaction to fail.

Submit permit pre order step begins with submit pre order protocol step . The pre order is essentially a message to clearing house including a request that permit be generated and issued to consumer . After clearing house receives the pre order of submit pre order protocol step submit permit pre order step continues at allocation protocol step .

Allocation protocol step validates the pre order information received in protocol step against permit data database . Validation includes verifying the permit class and other order information associated with the pre order request of protocol step . After validation submit permit pre order step continues at protocol step .

Clearing house transmits the URL such as the order continue URL described above in order continue URL protocol step . The order continue URL is an address returned by clearing house to sponsor signaling that the order is valid and will get processed by clearing house . Alternatively if the order of allocation protocol step is not valid the order continue URL will not be returned thereby signaling a failed or invalid order.

In send receipt e mail protocol step clearing house generates a receipt e mail for eventual transmission to consumer . In a scenario where sponsor will eventually be sending the receipt e mail to consumer the receipt e mail is sent from clearing house to a sponsor at send receipt e mail protocol step . Clearing house or sponsor generates the receipt page for transmission to consumer at generate receipt page protocol step . The receipt page generated at generate receipt page protocol step includes payment transaction information generated at process payment step . The receipt is generated in order to provide information about the financial transaction associated with the permit transaction to consumer .

During the send receipt page and e mail step process consumer continues to send a KEEPALIVE page or message to clearing house or sponsor in order to avoid a timeout of the permit transaction. Receipt page protocol step transmits the generated receipt page from clearing house or sponsor to consumer after generate receipt page protocol step . In a preferred embodiment the receipt page of protocol step is transmitted via Simple Mail Transfer Protocol SMTP e mail.

Generally in step clearing house creates permit based on a permit pre order. It should be noted that permit creation and installation is specific to a particular DRM architecture. In a step consumer clicks on the order continue URL the first request will initiate step above . After it is downloaded and installed permit is automatically registered by viewer in rights enforcement engine . Once permit is registered protected content may be accessed i.e. rendered displayed etc. by consumer .

Generate physical permit step and download and install permit step begin at userid plug in protocol step . In userid plug in protocol step consumer provides consumer identifying information and consumer device identifying information associated with a particular permit transaction. Clearing house use the consumer identifier and consumer device identifying information identify to generate permit . The process for creating and installing permit is defined in accordance with the particular DRM architecture. Typically information is read from the device of consumer . The consumer device identifying information is passed to clearing house when a new permit is requested. Preferably the consumer device identifying information is used to generate permit that is unique to the particular device of consumer .

Consumer transmits the consumer identifier and consumer device identifying information to clearing house in get order permits protocol step . Clearing house looks up the permit transaction order information in lookup order protocol step . The consumer identification and consumer device identifying information received in protocol step allow clearing house to uniquely identify and generate permit needed by consumer . Clearing house looks up the order information in permit data database . After clearing house has identified the particular order and associated order information in protocol step clearing house submits a bill to sponsor of the permit transaction at bill protocol step .

In bill protocol step clearing house bills sponsor through an account management system AMS . AMS is a subsystem of clearing house that tracks all permit transactions orders for permits billing and permit generation activity. AMS allows clearing house to audit report and bill for all permit and permit class activity. After clearing house has submitted the in bill protocol step clearing house generates the physical permits associated with the particular permit transaction in generate permit protocol step .

Preferably the consumer device identifying information from protocol step is used by clearing house to generate permit that is unique to the particular consumer device. Permit server within clearing house generates permit according to the particular implementation of the DRM architecture. The permit server generates the permit from the particular permit class .

After the permit is generated in protocol step clearing house transmits the permit to consumer in permit transmission protocol step . After consumer receives the permit transmitted in permit transmission protocol step the permit is installed and registered at the device of consumer in register permits protocol step . Preferably clearing house transmits a download and install permit URL electronically via the Internet or in an email message to consumer . Typically consumer accesses the install permit URL and a program or executable file is retrieved and executed at the device of consumer thereby installing or binding permit to the consumer device.

Clearing house generates a password request form and transmits it to consumer in get password protocol step . Preferably the password request form is an HTML form transmitted via the Internet. Consumer receives the password request form of get password protocol step and views it in a browser. After completing the password request form with the correct password consumer transmits the password to clearing house preferably via an HTML post operation.

As explained above multiple incompatible DRM architectures pose a number of problems to data rights management. The present invention those solves problems and offers a number of new benefits by providing a DRM agnostic clearing house. A DRM agnostic clearing house incorporates multiple DRM architectures into a single clearing house for generating and managing permit classes permits and permit offers.

More specifically the DRM agnostic clearing house is a system that incorporates multiple DRM servers such as permit server . The interfaces to the DRM servers are abstracted so that the functionality of generating permit classes and permits for each type of DRM server is incorporated in a single DRM agnostic clearing house. From the DRM agnostic clearing house a consumer may acquire any permit for which a DRM server has been incorporated. For example if both Microsoft and Adobe Systems DRM servers have been incorporated into the DRM agnostic clearing house the clearing house may generate and issue permits and permit classes for content protected by either the Microsoft or Adobe Systems DRM architecture.

Clearing house provides a platform for DRM agnostic packaging. DRM agnostic packaging offers a number of benefits over conventional packaging systems. Permit classes for packaging are stored and managed centrally enabling distributed packaging by multiple content packagers such as content packager .

Clearing house of the present invention generates permits permit classes and enables packaging for multiple DRM architectures. Clearing house insulates content providers packagers and consumers from the incompatibilities and difficulties of multiple DRM architectures.

Clearing house functions across multiple DRM architectures by incorporating multiple incompatible DRM servers A N. DRM servers A N are instances of permit server that operate according to a specific DRM architecture. Examples of such incompatible DRM servers are DRM servers from Intertrust Microsoft Adobe Systems Preview Systems Xerox Corporation and IBM . The interfaces to each of DRM servers are abstracted so that the functionality of generating permit classes and permits is incorporated into in a single uniform interface. Clearing house uses the uniform interface to issue requests to DRM servers A N for permits and permit classes. In a preferred embodiment the interfaces of DRM servers are abstracted using the Common Object Request Broker Architecture CORBA Interface Definition Language IDL . A CORBA IDL interface is implemented for each of DRM servers A N thereby providing a consistent and uniform interface for each of DRM servers to the rest of the system of clearing house .

Consumer may acquire any permit for which a DRM server has been incorporated within clearing house . For example if both Microsoft and Adobe Systems DRM servers have been incorporated into clearing house clearing house may generate and issue permits and permit classes for content packaged or protected by either the Microsoft or Adobe Systems DRM architecture. A discussion of the functionality in conjunction with the particular components features and design of clearing house is discussed below.

The process of protecting content container is called packaging. Generally content is packaged by content packager . Often content providers package the content before providing it to consumer or third parties such as web retailer . In the packaging process content is packaged with a packaging tool. Typically a packaging tool takes content some form of content access rules permit class and creates container including protected content . Once protected content has been packaged within container a consumer must acquire access rights that content.

Content packagers package content according to a particular DRM architecture. In order to package content content packager must obtain permit class from the particular DRM server such as permit server that will eventually generate permit used to access protected content . Permit class defines which permit will enable consumer to access protected content packaged with permit class . DRM servers generate permits and create permit classes . Using permit class content packager is able to create container including protected content accessible only to consumer with permit associated with permit class .

Clearing house is able to generate permit classes for multiple DRM architectures thereby enabling DRM agnostic packaging. DRM agnostic packaging is enabled because packager may request permit class for whichever DRM architecture it is packaging under. DRM agnostic packaging results in a number of benefits.

First clearing house allows for distributed packaging of content multiple content packagers such as content packager to reference identical permit class . Distributed packaging of content allows multiple packaging tools to package content using the same permit class. Clearing house also solves the problem of packaging content across multiple DRM architectures. Often content packager is forced to choose a particular DRM architecture because of the type of content e.g. a music specific DRM architecture an existing relationship with the content provider or some other reason. Content packager therefore is often forced to deal with multiple DRM systems and servers to package content for different DRM architectures. Because clearing house supports multiple DRM architectures content packager need only access clearing house to package content. The operation of DRM agnostic packaging is described below first in from the perspective of content packager then from the perspective of clearing house .

DRM agnostic packaging begins when content packager wishes to package content. Content provider submits a request for permit class to clearing house . Although a request may be specific to a particular DRM architecture generally the request includes meta data identifying the particular permit class and content meta data describing the nature of the content to be packaged. The request is submitted to provider web . Provider web is an interface preferably a web interface to clearing house . Provider web receives requests for permit class and supplies permit class in response. Content provider receives permit class and a unique identifier of permit class from provider web . The unique identifier allows content packager to identify the particular permit class to be used to package the content. Typically content packager provides the unique identifier when requesting an instance of permit class however if a new permit class must be created by clearing house a new unique identifier is created.

After content packager receives permit class the packaging tool packages the content into container for protection and distribution according to the particular DRM architecture of permit class .

Clearing house begins the DRM agnostic packaging process when provider web receives the permit class request from content packager . In a preferred embodiment the permit class request is an Extensible Markup Language XML message transmitted via the Internet although other mechanisms could be used as would be appropriate. The permit class request identifies a particular permit class sought by content packager . Provider web in turn requests permit class from permit system . Permit system is the interface to DRM servers . In an alternate embodiment however provider web may access DRM servers directly. Provider web requests permit class from permit system and permit system first determines if permit class requested exists.

Permit classes known to clearing house i.e. permit classes that exist within clearing house are stored in permit class database preferably according to their descriptions. Preferably permit class database stores each permit class created on clearing house by DRM servers . Additionally permit class database may be seeded with additional permit classes from other DRM servers or clearing house systems. Permit system upon receiving the request for a new permit class from provider web checks permit class database to determine if permit class already exists. If permit class already exists permit system retrieves permit class from permit class database and passes it to provider web in fulfillment of the request.

If permit class requested by content packager does not exist in permit class database permit system submits a request to generate a new permit class to one of DRM servers . Permit system accesses the one of DRM servers corresponding to the DRM architecture associated with the request preferably through a CORBA IDL interface and requests that permit class be generated. One of DRM servers responds to the request for permit class and generates permit class according to the DRM architecture specific implementation of permit classes. Once generated permit class is returned to permit system .

Permit system registers the new permit class in permit class database . Registering permit class in permit class database means that permit class in permit class database may be retrieved in response to a subsequent request to permit system . After storing new permit class in permit class database permit system sends permit class and a unique permit class identifier to provider web . Provider web in turn responds to the permit class request of content packager with permit class and a unique permit class identifier. The unique permit identifier allows content packager to request the same permit class again or provide the unique permit identifier to other entities so they might package content with permit class or generate permits for content packaged with permit class . Once it is received content packager may begin packaging content with permit class .

The operation of DRM agnostic packaging process is now described. In a step content packager receives permit class and content meta data to generate a request for a permit class to package content. Permit class and content meta data describe the nature of the content and permit class and are generally specific to a DRM architecture. After determining permit class and content meta data content provider submits a request for permit class to clearing house in step . This request is submitted to provider web . In a step in response to this request content provider receives permit class and a unique identifier of permit class from provider web .

In a step after content packager receives permit class content packager uses a packager tool to package the content into container for protection and distribution according to the particular DRM architecture associated with permit class . In step content packager logs the results of packaging step after completing packaging. Packaging process produces container protected content permit class and any meta data associated therewith.

In step permit system upon receiving the request for permit class from provider web checks permit class database to determine if permit class already exists. If permit class already exists permit system retrieves permit class from permit class database and passes it to provider web in fulfillment of the request.

If permit class requested by content packager does not exist in permit class database in step permit system submits a request to generate new permit class to one of DRM servers . One of DRM servers responds to the request for permit class and generates the new permit class . Once generated permit class is returned to permit system .

In step permit system registers the new permit class in permit class database by storing it in permit class database such that future requests for permit class may be serviced out of the database. After storing new permit class in permit class database permit system sends permit class and a unique permit class identifier to provider web . In step provider web in turn responds to the permit class request of content packager by transmitting permit class and the unique permit class identifier. Once received content packager may begin packaging content with permit class .

Clearing house of supports DRM agnostic permit transactions by generating permits for multiple DRM architectures. From time to time web retailer may offer content packaged by different DRM architectures to consumer . As discussed above this poses a problem for web retailer because permit is traditionally DRM architecture specific forcing web retailer to use multiple DRM systems. Clearing house however generates permits associated with any of DRM servers A N.

For example web retailer provides consumer with an offer to acquire the access to protected content within container such as offer page . Consumer accepts the offer by fulfilling the permit acquisition terms to access protected content . After the permit acquisition terms have been fulfilled web retailer begins the process of generating permit by submitting a request for permit associated with container to clearing house . Specifically permit acquisition terms define or describe how consumer may acquire permit . Preferably permit acquisition terms include providing consumer data i.e. consumer demographic information payment and or payment information or other terms as would be apparent.

In a first embodiment the request is bound to a particular Internet address i.e. URL shown as clearing house offer URL . In a second embodiment the request is generated dynamically by web retailer . A dynamically generated request is shown as Secure Permit Order Pipeline SPOP XML order . Although SPOP XML order may take the form of any electronic message between web retailer and order management web server in a preferred embodiment SPOP XML order is formatted as an XML message. SPOP XML order is a message from sponsor such as web retailer requesting the generation of permit . SPOP XML order specifies the details and steps of the permit transaction as discussed in further detail below. Whether the request is clearing house offer URL or SPOP XML order the permit request ultimately identifies a particular permit as identified by permit class .

In the case of a dynamically generated permit request web retailer generates the pre order message from external offer database . Web retailer uses information identifying the particular offer accepted by consumer to access external offer database to find the associated details and steps of the permit transaction i.e. permit acquisition terms . In a preferred embodiment the details and steps of the permit transaction define the sequence of events within clearing house necessary to complete the permit transaction. For example the type and method of payment the number of permits to be generated permit class surveys to be generated and completed by consumer invoice generation etc. may be specified by the permit request message. Web retailer collects this information and generates a pre order message specifying the details and steps of the permit transaction.

After web retailer generates the pre order message web retailer transmits the pre order message to order management web server . The pre order message is illustrated in as SPOP XML order . It should be understood however that the pre order message may take the form of any electronic message as would be apparent. SPOP XML order specifies the process of completing the permit transaction. After sending SPOP XML order web retailer waits for a response from clearing house to SPOP XML order . In response to the pre order message clearing house generates an order continue URL and transmits it to web retailer . Order continue URL may include requested permit or specify a location from which permit may be retrieved. In a preferred embodiment and the following description the order continue URL specifies an Internet from which consumer may download and install permit .

Web retailer receives order continue URL from clearing house . In an alternate embodiment SPOP XML order may have specified that the order continue URL be transmitted to consumer . Web retailer provides consumer with order continue URL either by transmitting it or presenting it as a link in a page hosted at a web page of web retailer . Upon accessing the order continue URL consumer is redirected to the Internet address identified therein. In a preferred embodiment order continue URL specifies an Internet address of clearing house . From the prospective of web retailer the permit transaction is completed when clearing house receives a request from consumer for the data at order continue URL.

When order management web server receives SPOP XML order from web retailer clearing house begins the process of generating permit . Order management web server functions as an internet interface to sponsors web retailer consumer and other entities interacting with clearing house . Order management web server transmits and receives messages via the Internet and forwards messages received to order management system and SPOP server . Additionally order management web server receives messages from the various components of clearing house and transmits them to entities outside of clearing house via the Internet. Order management web server is the interface for incoming pre order messages for clearing house .

Order management web server receives SPOP XML order representing the pre order message generated by web retailer . In a preferred embodiment SPOP XML order identifies the particular web retailer that transmitted the pre order message. Order management web server forwards the received SPOP XML order to SPOP server . SPOP server processes SPOP XML order messages received by clearing house . SPOP server authorizes the sender and validates the pre order message data. In a preferred embodiment SPOP server verifies that web retailer has an established relationship with clearing house . An established relationship defines the terms under which web retailer may pre order messages to clearing house for permit . Additionally SPOP server validates the format and content of SPOP XML order received from web retailer . After validating the SPOP XML order SPOP server creates an order and stores it in order database .

The order in order database specifies the details and process of the permit transaction that are necessary to generate permit or permits . For example the order in order database may specify the type and number of permits to generate by specifying permit class associated with each permit a particular payment process for consumer to follow a particular survey stored at survey system for consumer to complete an invoice to be transmitted to consumer or web retailer and generated by invoice system or other details of the particular permit transaction.

After SPOP server creates the order in order database order management system generates an order continue URL to be returned to web retailer .

The order continue URL identifies the order created in order database and the internet address described above. Order management system sends the order continue URL to order management web server which in turn transmits it to web retailer . Transmitting the order continue URL to web retailer completes the SPOP XML order processing by clearing house .

Consumer begins the process of generating downloading and installing permit by selecting the order continue URL from order management web server . In an alternate embodiment consumer is redirected to an Internet address specified by the order continue URL from a web page of web retailer . Order management web server receives the request for information at the internet address specified by order continue URL when consumer selects it.

Order management web server receives the request from consumer passes the information from the order continue URL to order management system . Order management system retrieves the details of the order identified by the order continue URL. In a preferred embodiment order management system retrieves the details of the order from order database . From the order details order management system determines the steps required to generate permit or permits in fulfillment of the order. Order management system submits requests to the various subsystems of clearing house to perform the remaining order processing steps identified by the order information in order database . The various remaining order processing steps may include but are not limited to generating an invoice for transmission to consumer at invoice system generating a survey for consumer to complete at survey system processing payment through a payment gateway or requesting payment from consumer at payment system generating a receipt page or email for transmission to consumer detailing the permit transaction or payment information or other permit transaction steps as appropriate. The order in order database also includes the permit class or classes specified in the order allowing order management system to submit requests for permit to permit system .

After completion of the remaining order processing steps order management system requests the particular permit class or classes identified by the order in order database from permit system . In the request order management system specifies the permit class or classes associated with permit or permits . Permit system in turn submits a request to the particular DRM server identified by the DRM architecture type associated with permit class . In response DRM server generates permit according to the particular DRM architecture of permit class . DRM server returns the newly generated permit to permit system and permit system returns permit to order management system .

Order management system determines if the order in order database includes additional permit requests. Additional permit requests are represented by additional permit classes in the order. If additional permit requests exist order management system continues to request permits from permit system until all of the required permits are generated. When all permits associated with the order have been generated order management system passes permits to order management web server . Order management web server provides permits generated to consumer . Once the permit or permits have been installed according to the particular DRM architecture of permit class consumer may access protected content .

In an alternate embodiment consumer may request permit by selecting clearing house offer URL . Preferably in this embodiment clearing house offer URL is an Internet address of clearing house identifying an offer defined by clearing house offer database . Clearinghouse offer database includes offers such as offer page associated with a plurality of clearing house offer URLs . Upon selecting clearing house offer URL consumer is directed to order management web server . Information in clearing house offer URL identifies the particular offer to clearing house . Order management web server sends the request to order management system which in turn sends the request to offer system . Offer system retrieves the offer information from clearing house offer database and sends it to order management system . In response order management system creates an order in order database as described above. Additionally order management system generates an order continue URL and sends to order management web server which in turn sends it to consumer . The rest of the permit transaction proceeds as described above with clearing house fulfilling the order.

In step web retailer generates a pre order message with the order details retrieved from external offer database in step . Preferably this pre order message is formatted as an XML message and is illustrated in as SPOP XML order . SPOP XML order specifies the clearing house process steps of completing the permit transaction as described above. Web retailer transmits the pre order message to order management web server in step .

Clearing house responds to SPOP XML order with an order continue URL as described above which web retailer receives in step . In an alternate embodiment order continue URL is sent directly to consumer . In step consumer is redirected to the Internet address identified by order continue URL preferably by selecting the order continue URL at a web page or from some other source such as email etc. From the prospective of web retailer the permit transaction is completed when consumer selects the order continue URL.

In step SPOP server creates an order in order database . The order in order database is as described above in conjunction with . Order management system generates an order continue URL to be returned to web retailer based on the order in order database . The order continue URL identifies the particular order created in order database . Order management system sends the order continue URL to order management web server which in turn sends the order continue URL to either web retailer or consumer as described above.

After the remaining order processing steps have been completed order management system requests the particular permit class identified by the order. Order management system submits a request for permit to permit system . In the request order management system specifies the desired permit class. In step permit system submits a request to the particular DRM server identified by the DRM architecture associated with permit class . In response DRM server generates permit according to the particular DRM architecture. Permit is returned to permit system which forwards permit to order management system .

In decision step order management system determines if the order includes additional permit requests. Additional permit requests are represented by additional permit classes in the order. If additional permit requests exist order management system continues to request permits from permit system . When all permits associated with the order have been generated order management system passes the permits to order management web server . Order management web server provides the permits generated in process to consumer in step . Consumer may access protected content once the permit or permits have been installed according to the particular DRM architecture of permit class .

Another benefit of clearing house is DRM agnostic permit class creation. As described above clearing house may create permit classes for multiple incompatible DRM architectures thereby enabling centralized permit class management. Centralized permit class management allows multiple content providers content packagers and web retailers to access a central permit class clearing house. Centralized permit class management provides for the establishment of distributed packaging across multiple packaging partners as described above. Through centralized permit class management a content packager or content provider may define permit classes with which content is to be packaged.

An important benefit of DRM agnostic clearing house is enabling a content provider or packager to convey the right to distribute permits to third parties such as web retailers. The content packager packages the content using a particular permit class. The resulting container is then distributed or made available to consumers in any of a number of ways. For example the container can be made available through web retailers web sites on media such as magnetic disk or CD ROM etc. The content packager provides the permit class identifier uniquely identifying the permit class for generating permits for web retailers. When a consumer wishes to purchase the access rights to the protected content the web retailer provides the permit class identifier to the clearing house and the clearing house generates the associated permit as described above. The permit is subsequently provided to consumer thereby granting access to the content.

Clearing house begins the DRM agnostic permit class creation process when provider web receives a permit class creation request from content packager or content provider . In a preferred embodiment the permit class creation request is an Extensible Markup Language XML message transmitted via the Internet. Provider web receives the permit class creation request from content packager . The permit class creation request identifies a particular permit class to be created by content provider or content packager . In response to this request provider web requests permit class from permit system . Permit system preferably operates as an interface to DRM servers . In other embodiments however provider web may access DRM servers directly.

Next permit system submits a request to generate new permit class to one of DRM servers . Permit system accesses the one of DRM servers associated with the DRM architecture of the request preferably through the CORBA IDL interface and requests that permit class be generated. In response to the request for permit class one of DRM servers generates permit class in accord with the particular DRM architecture. Once generated permit class is returned to permit system .

Permit system registers the new permit class in permit class database in part by storing the new permit class in permit class database so that it may be subsequently retrieved upon the next request to permit system . Permit classes known to clearing house i.e. permit classes that exist within clearing house are stored in permit class database preferably according to their descriptions. Preferably permit class database stores each permit class created on clearing house by DRM servers . Additionally permit class database may be seeded with additional permit classes from other DRM servers or clearing house systems.

Permit system upon receiving the request for a new permit class from provider web checks permit class database to determine if permit class already exists. If permit class already exists permit system retrieves permit class from permit class database and passes it to provider web in fulfillment of the request.

After storing new permit class in permit class database permit system sends permit class and a unique permit class identifier to provider web . Provider web in turn responds to the permit class creation request of content packager or content provider with permit class and a unique permit class identifier. The unique permit identifier allows content packager to request the same permit class again or provide the unique permit identifier to other entities so they might package content with permit class or generate permits for content packaged with permit class . Content packager may begin distributing or using permit class once it is received.

Permit acquisition is the process by which consumer obtains permit . The particular process of acquiring permit is called a permit transaction. Parties to a permit transaction or entities e.g. consumer clearing house content provider content packager in addition to the permit transaction define a particular scenario. A scenario is a combination of steps and entities that define the process of consumer acquiring permit from clearing house . Although consumer acquires permit and clearing house generates or creates permit there may be other entities such as content providers content packager or web retailer involved in the permit transaction. These other entities i.e. an entity other than consumer and clearing house are collectively referred to sponsors .

Various scenarios exist based on which participants perform steps as described in conjunction with . There are four primary scenarios defined as clearing house vended offers sponsor authorized clearing house vended offers sponsor vended offers and sponsor pre authorized offers.

With respect to clearing house vended offers consumer selects an offer e.g. clearing house offer URL to be processed directly by clearing house . Clearing house performs all of the necessary processing associated with the offer data collection optional payment processing optional and permit generation delivery. Preferably all clearing house vended offers are pre defined with information such as cost payment distribution list of associated permit classes stored in permit class database database etc. The definitions of clearing house vended offers associated with the particular clearing house offer URL are stored in clearing house offer database . When order management web server receives a request from consumer through clearing house offer URL order management system looks up the terms of the offer and creates an order in order database .

With respect to sponsor authorized clearing house vended offers sponsor of the offer wishes to collect demographic information from consumer and or ensure in a sponsor specific way that consumer is in fact entitled to the requested offer. For example sponsor may wish to collect address information so as to track sales. Similarly sponsor may wish to verify membership of a particular consumer claiming membership in the organization of sponsor . Vetting is the process of investigating consumer . Once sponsor completes the data collection vetting clearing house completes the transaction collecting money if required and delivering the .

In this and all of the remaining scenarios where sponsor submits the actual pre order sponsor has the ability to dynamically create offers by specifying cost permit list permit transaction process and description as described above.

With respect to sponsor vended offers sponsor may wish to perform the actual financial transaction in addition to optionally collecting demographic information. In this scenario clearing house is only responsible for creating and delivering permits associated with the order.

With respect to sponsor pre authorized offers permits are authorized prior to a request from consumer . Such would be the case for example in a business to business relationship wherein one business purchases 50 licenses to access a report. This business would purchase permits or in effect rights to use the report without necessarily receiving the actual permits . Subsequently consumers may redeem one of the 50 licenses for the already purchased permit and then access the report from container . In this scenario all vetting and payment is done out of band i.e. outside of clearing house and the only transaction to complete is the creation and delivery of permits . The main difference with this scenario is that consumer may not be involved in the initial order process and no consumer identity is submitted in the pre order.

It should be noted however that the scenarios of are exemplary scenarios and are not intended to be exclusive of any other scenarios. One of the primary features and benefits of the present invention is that the pre order message may define the permit transaction. As described above sponsor may define the details of the permit transaction and transmit it to the clearing house via the pre order message for processing.

While described in terms of clearing house it should be understood that the following discussion applies equally well to clearing house . Furthermore are described in terms of consumer sponsor and clearing house rather than their respective elements for purposes of clarity.

Consumer views the sponsor s offer s page and selects a specific offer by clicking on the order page link. The order page link references a clearing house web server. Clearing house processes the offer selection by generating the appropriate order page for the offer. Consumer confirms the order by clicking on the continue button.

Three options exists with respect to how the order is processed. In the first option clearing house collects both consumer data and processes payment in the second option clearing house only processes payment and in the third option clearing house only collects consumer data. In all cases consumer is first asked to confirm their acceptance by responding to a clearing house delivered notice. The operation of the first option is now described with reference to . In the first option clearing house generates the invoice to collect consumer order confirmation. Consumer agrees and clicks on the continue button. Clearing house processes the request as follows 1 checks the order database for a duplicate request in progress order 2 generates pre order and sends it to the permit server and 3 generates the order page to collect consumer data.

Consumer enters necessary data. Clearing house processes the response by generating the order page to collect consumer payment information. Consumer responds with payment information and clearing house handles this response as follows 1 update the order status 2 returns keep alive page to consumer 3 authorizes payment 4 updates the order status 5 generates sends receipt mail with order download URL and 6 generates receipt page to be returned by keep alive page .

The second option is now described with reference to . In this option clearing house only processes payment. Clearing house generates the invoice to collect consumer order confirmation. Consumer agrees and clicks on the continue button. Clearing house handles the response as follows 1 checks the order database for a duplicate request in progress order 2 generates pre order and sends to the permit server 3 generates the order page to collect consumer payment information. Consumer responds with payment information and clearing house subsequently handles this response as follows 1 returns keep alive page to consumer 2 authorizes payment 3 updates the order status 4 generates sends receipt mail with order download URL and 5 generates receipt page to be returned by keep alive page .

The third option is now described in reference to . In the third option clearing house generates the invoice to collect consumer order confirmation. Consumer agrees and clicks on the continue button. Clearing house processes the request as follows 1 checks the order database for a duplicate request in progress order 2 generates pre order and send it to the permit server and 3 generates the order page to collect consumer data.

Consumer enters the necessary data. Clearing house processes the response as follows 1 generates and sends receipt mail with order download URL and 2 generates receipt page.

All options perform the following steps. Consumer clicks on the download order button from the receipt page and selects open from the browser dialog. If consumer selected the save file option from the browser dialog then a handoff of the file to it s associated application e.g. a double click would be required to initiate the permit registration described below.

The permit server of clearing house creates permits associated with the order and returns it to the consumer. When the permit download is complete a register utility of viewer automatically registers permit and displays a permit installed confirmation dialog.

Consumer views the sponsor hosted offer s page and selects a specific permit to obtain by clicking on the sponsor s order page link. Consumer confirms the permit selection on the order page enters any necessary information demographic data and or authorization data and clicks on the continue button. The sponsor s web server performs the following processing 1 checks the sponsor order database for a duplicate request in progress order 2 creates initial entry in the sponsor order database 3 generates and returns keep alive page to consumer 4 generates pre order and transmits to the permit server and 4 generates continue page with the order continue URL page to be returned by keep alive page . The sponsor may choose to divide these steps into any number of actual forms. The end result is that the sponsor has collected all necessary information authorizes that consumer is eligible for the offer and directs consumer to clearing house via a continue page.

Consumer clicks on the order continue link on the sponsor continue page. Clearing house permit server generates and returns financial offer page to the consumer. Consumer enters financial data and clicks on the submit button on the financial offer page. Clearing house performs the following processing 1 checks permit order database for duplicate request in progress order 2 generates keep alive processing . . . page 3 performs payment processing 4 updates permit order database 5 sends optional receipt e mail containing the order download URL 6 generates receipt page containing the order download URL to be returned by keep alive page and 7 sends vend receipt to vendor can be joined by pre order order number .

Consumer selects the download permit button on the receipt page. The permit server creates permits associated with the order and returns them to consumer . When the permit download is complete viewer register utility automatically registers permit and displays a permit installed confirmation dialog.

Consumer views the sponsor hosted offer s page and selects a specific offer by clicking on the sponsor s order page link. Consumer confirms the permit selection on the order page enters any necessary information credit card info and or demographic data and clicks on the continue button.

The sponsor s web performs the following processing 1 checks the order database for a duplicate request in progress order 2 creates initial entry in the sponsor order database 3 generates and returns keep alive processing page 4 performs payment processing if required 5 generates a permit pre order transmits it to the permit server and receives a permit download URL from clearing house 6 sends optional receipt mail containing the order download URL and 7 generates receipt page containing the order download URL to be returned by keep alive page . The sponsor may choose to divide these steps into any number of actual forms. The end result is that the sponsor has collected all necessary information and authorizes that consumer is eligible for the offer.

Consumer selects the order download URL link to the permit server on the sponsor s receipt page. The permit server creates permits associated with the order returns them to consumer . When the permit download is complete viewer register utility automatically registers permit and displays a permit installed confirmation dialog.

The sponsor performs the following permit pre processing 1 submit permit pre orders to clearing house including consumer authentication data and 2 send order download URL and authentication data to consumers or distributor .

Consumer clicks on the order download URL from e mail or web page . Clearing house returns authentication data request form. Consumer enters authentication data and clicks on the continue button. Clearing house creates permits and returns them to consumer . When the permit download is complete viewer register utility automatically registers permit and displays a permit installed confirmation dialog.

Packager provides the interface to the user and controls the operation of the packager system. Interface layer and REE modules form the interface between rights enforcement engine and packager . Rights enforcement engine is the packaging engine that creates container which includes protected content . Preferably rights enforcement engine is a DRM architecture system API for packaging content provided by a DRM architecture vendor. Interface layer and REE modules provide an interface between packager and rights enforcement engine . Interface layer and REE modules enable packager to operate with rights enforcement engines from multiple DRM architectures thereby enabling a packager that packages content according to multiple DRM architectures.

Container template container definition and term template are data artifacts used during the container creation process. Each of these artifacts represents a previously stored aspect of the data required by rights enforcement engine to create container . Data artifacts and provide input to the packaging process in creating container . Container template is the format of information necessary for the operation of rights enforcement engine . Rights enforcement engine may require information in a particular format or structure according to the DRM architecture. Container template provides a template for the format or structure of the information provided to rights enforcement engine . Container definition is the arrangement of content within container . Container definition specifies how the information is to be organized within container for example as in a directory structure. Term template provides the content access terms or permit class with which protected content is accessed.

According to the present invention rights enforcement engine includes the basic functions to create container in such a way as to ensure protection of protected content . Rights enforcement engine transforms protected content from an unprotected state to a protected one inside container . Various rights enforcement engines exist including Microsoft s Data Rights Manager and InterTrust Technology Corp s Commerce and Enterprise Edition Products.

Packager provides a user the ability to create one or more containers that can be viewed by the viewer as described elsewhere herein. Packager facilitates the specification by the user of content navigation data descriptive properties content access terms content and a link to rights data . In doing so packager interacts with rights enforcement engine by way of interface layer and REE modules to construct a container . In so doing packager enables interaction between viewer and container as discussed above.

While the invention has been illustrated in the drawings and briefly described with reference to specific embodiments thereof it will be apparent to one skilled in the art that various changes and modifications can be made therein without departing from the spirit and scope thereof. Thus it is intended that the present invention cover the modifications and variations of this invention provided they come within the scope of the appended claims and their equivalents.

