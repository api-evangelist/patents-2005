---

title: Application server gateway technology
abstract: Interfacing communication between a non-hypertext transfer protocol (HTTP) event source and an application server function is described by calling a listener method to detect one or more events received from a non-HTTP event source. Data from the events is extracted and assembled into an application server event (AS Event) message. The AS Event message is transmitted to the application server function, which uses data from the AS Event to process its functionality. Resulting information may be sent to a communication method, which formats a message for the non-HTTP event source using the resulting information. This formatted message is then communicated to the non-HTTP event source. The interfaced communication may be initiated either by the non-HTTP event source or the application server function.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07908397&OS=07908397&RS=07908397
owner: Adobe Systems Incorporated
number: 07908397
owner_city: San Jose
owner_country: US
publication_date: 20050228
---
The present invention relates in general to application servers and more specifically to application server gateway technology.

As the electronic world continues to evolve computers and the Internet have infiltrated more and more day to day activities. What began as a network for scientists to exchange research and writings has grown into the information superhighway where vast amounts of data and services are exchanged in the everyday conduct of business. The transmission of all of this data is assisted through the hypertext transfer protocol HTTP the standard transport protocol for the Internet. At the beginning of the World Wide Web Web static hypertext markup language HTML documents were stored on Web servers which are also sometimes referred to as HTTP servers. A Web browser would send an HTTP request to a Web server which then accesses and delivers the requested Web page or HTML file back to the requesting user s Web browser again over HTTP. The HTML content is then rendered in the Web browser for the user to view. HTML is a markup language that uses tags or metadata to define the appearance or style of the data within the file. Web browsers interpret these tags and render the data onto the screen according to the defined format or styling. While this process allows for the presentation of graphically oriented material it is a static interaction without the ability to interact dynamically with the user.

With the advent of common gateway interface CGI scripts and HTML forms the first interactive Websites were developed. Data entered by a user in an HTML form was extracted by the CGI script which interacted with a backend database to retrieve requested data. The CGI script would then format the resulting information into an HTML page and send it back via HTTP to the requesting user s Web server for display. These primitive interactive Websites have now evolved into complex application servers that provide many types of complex business logic or data access to user s Web browsers.

Application servers such as MACROMEDIA INC. s COLDFUSION IBM s WEBSPHERE APPLICATION SERVER BEA s WEBLOGIC MICROSOFT CORPORATION s WEB SERVER SYSTEM and the like essentially comprise software in an Internet or intranet environment that host a variety of language systems to program database queries and or perform general processing. Such language systems include SUN MICROSYSTEMS INC. s JAVA based platforms such as the JAVA 2 PLATFORM ENTERPRISE EDITION J2EE which uses logic modules such as ENTERPRISE JAVABEANS EJBs JAVASERVER PAGES JSPs JAVA servlets and the like written in JAVA to link the information resources to the enterprise. COLDFUSION uses another such language system COLDFUSION MARKUP LANGUAGE CFML to script applications or components to perform the server side logic. COLDFUSION logic modules include codes sets such as COLDFUSION components CFC .

The common thread throughout application server technology is the use of HTTP as a transport mechanism. Moreover application servers perform tasks in a typically synchronous client server architecture where the client issues an HTTP request to the server waits for the server to process and then respond to the request via HTTP before going on. Web browsers issue requests to the application server over HTTP while the application server packages the results and sends them back out over HTTP formatted in HTML. Because the application server generates the HTML to be displayed by the Web browser the Web browser synchronously waits for the response from the application server. While this standard platform allows complex transactions to take place over the Internet the application server along with the logic that it represents is typically accessible only through HTTP.

As electronic technologies increase additional devices that are not typically considered Internet appliances are increasingly accessing the Internet. For example mobile phones have begun to access the Internet through Wireless Access Protocol WAP or lightened versions of HTTP. Traditionally however services or logic functionality has been provided to mobile phones through the textual communication of Short Messaging Service SMS . SMS is a pervasive global standard for sending and receiving text messages to and or from mobile phones and devices. Typically SMS servers referred to SMS Centers SMSC provide SMS accounts to users and an interface to the mobile network. SMS messages are transported using Short Message Peer to Peer protocol SMPP . The SMSC uses SMPP to communicate its messages to the users.

Many different communication services exist that send SMS messages to phone subscribers. Subscribers typically register over the Internet for a service such as a weather service sports service or the like in which desired information is gathered and sent to the user s mobile phone using SMS messages. Some SMS services are event driven which means that they monitor something and react if an event happens. For example some SMS weather services will send out an SMS message if a National Weather Service warning is issued in a certain area. The applications that run these services are typically combined with SMSCs that access the mobile communication network. However because SMS services do not communicate via HTTP mobile phones could not use SMS messaging to access similar services provided to Internet users through application servers. Moreover because application servers are typically synchronous request driven applications and not event driven SMS services such as the described weather service could not generally be implemented in an application server.

Furthermore building and deploying SMS mobile enabled applications is typically complex and costly. Even for simple response or menu based applications knowledge of telecommunication session management telecommunications routing and the like is usually required. The developer or enterprise building the application also typically provides other telecommunication related considerations such as scalability failsafe mechanisms throttling metering monitoring logging and or automatic rebinding capabilities. Such implementation requirements are generally limited to larger well capitalized entities.

Additional electronic technologies such as Instant Messaging IM services are also growing in popularity as a method for communication over the Internet and other types of networks. IM services which are defined with such protocols as Internet Relay Chat IRC Extensible Messaging and Presence Protocol XMPP and the like set up client server relationships with each participating user. As user s log into the IM server they may send messages or data to other users logged into or members of the IM service. The messages are sent in real time to the server and then from the server to the target user using the transport protocol. Therefore an IM message may not typical access application server logic without first being converted into an HTTP request through an intermediate server.

Application server logic and technology provide complex processing and services to users accessing their logic through Web browsers and the HTTP Internet. However this processing logic generally is recoded if it is desired to provide the logic to other technologies such as mobile phones through SMS IM and the like. This recoding of logic costs service providers considerable resources to create different versions of the same logic for use by different technologies. Other attempts to converge the various protocols and features entail merely translating non HTTP messages into HTTP. However in order to create a system in which the non HTTP request will be recognized and useful to the HTTP driven applications substantial modifications to either the request or the HTTP application is still required.

The present invention is directed to a system and method for providing access to application server functionality by external entities that do not communicate using HTTP the protocol typically used by the Internet or application server technology. One or more event gateways are designed for use in an application server environment. These event gateways serve to listen for external events arriving in a selected communication format. For example an event gateway may listen for SMPP events coming from an SMS system IMPP events coming from an IM system or the like.

Each event gateway type is defined to listen for a certain communication protocol and each instance of such an event gateway type is associated with a specific set of application server logic function or component. It is also designed to extract certain relevant data from the external event and re package the extracted data into a common data structure application server event format or object format that may be used by the application server logic function or component. Therefore as a non HTTP event addressed to the specific application server logic or component is detected by the event gateway within the application server environment it strips out the selected data re packages it into the common application server event format and sends it to the particular application server logic set or component for execution of the functionality.

Application server code may also be written to handle events asynchronously such as by initiating messages to be sent out to the external entities. Unlike traditional application server architecture which has been a synchronous client server request response paradigm the various embodiments of the present invention may use code that triggers a message to be sent from the application server component or code to an external device. Events may be received or transmitted asynchronously without requiring a response to the communication before further action. In such applications the event gateway also includes a software method that can re package the message from the application server into the appropriate non HTTP format of the targeted device.

The foregoing has outlined rather broadly the features and technical advantages of the present invention in order that the detailed description of the invention that follows may be better understood. Additional features and advantages of the invention will be described hereinafter which form the subject of the claims of the invention. It should be appreciated by those skilled in the art that the conception and specific embodiment disclosed may be readily utilized as a basis for modifying or designing other structures for carrying out the same purposes of the present invention. It should also be realized by those skilled in the art that such equivalent constructions do not depart from the spirit and scope of the invention as set forth in the appended claims. The novel features which are believed to be characteristic of the invention both as to its organization and method of operation together with further objects and advantages will be better understood from the following description when considered in connection with the accompanying figures. It is to be expressly understood however that each of the figures is provided for the purpose of illustration and description only and is not intended as a definition of the limits of the present invention.

According to the described embodiment external event source may obtain access to application server component through event gateway . External event source may therefore execute the logic of application server component even though it does not communicate using HTTP and even though the logic of external events source has not been modified to interact differently than normal. The type of gateway for event gateway may be defined and coded using various Web related languages such as SUN MICROSYSTEMS INC. s JAVA MICROSOFT CORPORATION s J J or the like. When creating the instance of event gateway the developer defines the instance by referring to the event type. Event gateway may be analogized to plug in technology. Plug in technology comprises auxiliary code segments that operate with larger programs or applications to enhance or supplement operation of the larger program. For example plug ins may be installed into a user s Web browser that enables the Web browser to play and or display certain non HTML files. However the various embodiments of the present invention differ substantially from plug ins as among other reasons event gateway is utilized on the server side of the Web server client relationship. Moreover event gateway does not simply execute the logic received from the external event source on application server or allow a particular file type to execute on application server .

One of the primary functions of event gateway is to listen for events coming from external event sources . An event gateway type such as the instance of event gateway is coded to listen for events arriving on a particular communication protocol. For example an SMS event gateway would be coded to listen for events coming in SMPP protocol or other SMS compatible protocol IM event gateway may be coded to listen for events coming in XMPP protocol or other such IM related protocol other gateways may listen on a particular IP socket. Event gateway receives the event messages in the various formats and or protocols strips certain message data from the event message and re packages it into an object structure format and or protocol compatible with application server i.e. an Application Server Event AS Event object structure or message. An AS Event message will typically include the addresses of the source and destination of the message the type of event gateway that is being used the content of the external event and any other information that the developer has designed for operation with the application server code. Once re packaged event gateway sends the AS Event message to the particular functionality application server component for executing the function using the data from the source event.

Some application server logic may process the information and return resulting information. This resulting information is then packaged into the AS Event format and sent back to event gateway which initiated the call to application server logic . The event gateway takes the AS Event formatted message strips certain information from the message structure re packages the information into the format and or protocol associated with external event source and transmits the re formatted information to external event source using the corresponding transmission protocol.

In operation of SMS event gateway a link is established between SMS event gateway and SMSC server . Establishing this link is common in SMS transactions. The link may be initiated by SMS event gateway or by SMSC server depending on the gateway application. Once a link is established in which the link is initiated by SMSC server SMS event gateway receives an SMS event or message over SMPP protocol. An SMS event or message includes the message content in addition to administrative data such as the address of the device that sent the message the address to which the message was sent and the like. SMS event gateway extracts information from the message such as the message content the source address and the target address and packages the information into an AS Event object or message. SMS event gateway sends this AS Event package to event gateway service of application server . An SMS AS Event object or package may include information such as the message the source address and the destination address.

Within application server event gateway service is software code within application server that queues up each AS Event package received from an event gateway instance such as event gateways for submission to the specific application server function requested by the event. As a developer installs a particular event gateway instance it is registered with event gateway service along with the particular application server component or function that it is associated with. Thus as an AS Event arrives at event gateway service it determines to which of application server code the AS Event message is to be sent and queues the AS Event message for delivery to that application server function.

It should be noted that in various embodiments of the present invention the functionality of event gateway service may be divided or assigned to another component of a gateway application server configured according to the various embodiments.

The AS Event package sent by SMS event gateway is queued by event gateway service for delivery to application server code . When SMS event gateway first receives the AS Event package it checks its configuration to determine which of the available application server functions such as application server code the AS Event is directed. Because each event gateway instance is associated with one or more application server functions its configuration will contain a list of such functions to send the AS Events. In the example described with respect to event gateway service determines that the AS Event message is associated with application server code . After the AS Event package makes its way through the queue it is sent to application server code . Application server code receives the AS Event package as a valid input and uses the data packaged therein from the original event message in executing its functionality.

Once application server code executes its functionality using the data from the AS Event it returns a message i.e. the resulting data to event gateway service . For purposes of example application server code may implement a telephone directory application. A user sending an SMS message from the user s mobile device requests a particular phone number. The SMS message is received at SMS event gateway re packaged into an AS Event message and sent to event gateway service . Event gateway service sends this AS Event message to application server code . Application server code uses the text entered by the user now contained in the AS Event message to locate the matching phone number. It then sends the resulting phone number as a message back to event gateway service . Event gateway service packages the phone number into an AS Event format protocol and returns it to SMS event gateway . SMS event gateway strips out the resulting phone number data in the AS Event message and re packages it into a properly formed SMPP message that includes in its message content the resulting phone number. SMS event gateway then sends the SMPP message back to the requesting user s mobile device. The targeted mobile device extracts the phone number and displays it to the user.

It should be noted that in alternative embodiments of the present invention the event gateway application may or may not issue responsive messages. An event gateway application may simply receive a message from an external source may receive a message and issues a response or also may initiate a message to an external device either with or without response from the external device.

It should further be noted that in additional and or alternative embodiments of the present invention an event gateway instance may be configured to send AS Events to more than one event gateway application. For example referring to IM event gateway may be configured to send its AS Events to application server code and . The relationship between the gateways and gateway applications may be determined as desired and created by the application and system designers.

Because application server code has been coded as a standard application server component other applications may also access its functionality if additional gateway types are provided. For example an instant message user may send an instant message to IM server requesting a certain phone number. The IM message is transmitted using an IM protocol such as XMPP to IM event gateway which is an instance of a gateway type specifically designed to listen for XMPP. IM event gateway strips out the selected data from the IM message and re packages it into an AS Event message format. The AS Event message is then delivered to application sever code through event gateway service . Application server code uses the same type of data from this AS Event message as was used in the SMS AS Event message to determine the requested phone number. The resulting phone number is then re packaged into an AS Event message at event gateway service and then re packaged into an XMPP IM message at IM event gateway . This IM message will be sent back to IM server for delivery to the user s IM account.

Similarly a user at computer running a Web browser may issue an HTTP request directly to application server . Because the user s Web browser is already capable of interacting with application servers using HTTP no intervening specialized event gateway is necessary. Application server then internally calls application server code with the appropriate data and provides the available functionality. Therefore application server logic components and or applications Coded for use in the standard application server client architecture may now be re used by non traditional access methods in an application server configured according to the embodiment of the present invention described in .

It should be noted that in various embodiments of the present invention a particular event gateway instance is associated with a specific application server function component and or code set. For example the event gateway instance illustrated as SMS event gateway is associated with application server code . An SMS message received by SMS event gateway for performing the functionality defined by application server code will be passed after re packaging from SMS event gateway to application server code . However an SMS message received by SMS event gateway attempting to execute the functionality defined by application server code will not be processed because the information in the configuration of SMS event gateway will not direct it to forward such messages.

It should also be noted that in additional and or alternative embodiments of the present invention the event gateway instances such as IM event gateway may be coded to examine the destination or target address within the external event in order to determine which event gateway application to send the corresponding AS Event message. In such selected embodiments the distribution of AS Event messages may become more dynamic.

An event gateway application such as event gateway application may contain a single listener method such as listener method . In such applications the listener method is typically triggered by receiving a message from an associated event gateway. For example listener method may be called onIncomingMessage. Event gateway application also does not send a message back to the external event source. Event gateway application merely receives the AS Event object from the event gateway and performs some processing on that information. Other event gateway applications such as event gateway application may contain multiple listener methods such as listener methods . For example event gateway application may be an IM related application. The event gateway associated with event gateway application would have a first listener method listener method that defines a reaction to incoming messages similar to the onIncomingMessage method defined with respect to listener method . It would also include listener method to control the adding of buddies onto an IM buddy list. Such a method may be called onAddBuddyRequest.

It should be noted that the example names given for the described listener methods are merely exemplary and are not intended to limit the naming conventions of any software code used to implement the various embodiments of the present invention.

Unlike existing application server technology which is typically a synchronous client server request response framework event gateway applications configured for operation on application servers such as application server may be asynchronous and either respond to external requests or initiate messages to send to external sources. Event gateway application is an example of a message initiating gateway application. For example gateway application maybe an IM application. A user of the Web page generated by page generator enters a message for an external user. Page generator uses the address information provided by the page user to generate an outgoing message addressed to the external user. The message is transmitted to the event gateway designated for event gateway application . The event gateway re packages the message into the appropriate IM protocol for transmitting to the targeted device or entity. Event gateway application also includes a listener method listener method . Instead of listening for messages initiated from the external event source listener method listens for a response message from the targeted device or entity sent after event gateway application transmits its message externally. However because event gateway application operates asynchronously it may continue further processing without first receiving a response message from the targeted device. Therefore the IM user at event gateway application may continue using the IM system even if the external user does not respond.

The data that is passed between an event gateway and an event gateway application is formatted at some point in the path as an AS Event message. The AS Event message defines a structure for the data being handled by the event gateway application. In some embodiments the AS Event may comprise a JAVA object created by the event gateway that has the data structure defined by the gateway developer. Depending on the application and medium being used AS Event messages may contain various different types and combinations of data. In SMS applications the AS Event message may comprise the message the source address and the target address. Other applications such as IM applications may comprise the message the sender identification the recipient identification and a timestamp. Thus the content of the AS Event object message is not a static construct. It may develop according to the application designers needs.

Listener CFC uses the data from the AS Event struct to perform its coded logic or processing. It also includes an outgoing message capability that sends a message targeted to external event generator receiver . The message is received by event gateway services which re packages the responsive message into an AS Event struct. Event gateway services then calls the outgoing method of event gateway outgoingMessage method using the AS Event struct. OutgoingMessage method re packages the data from the AS Event struct into a message in the native format or protocol of external event generator receiver and sends the message response to external event generator receiver . Therefore multiple external event generators such as external event generator receivers and may access various event gateway applications such as listener CFCs and and event gateway application with CFC and CFML page through various instances of gateway types such as event gateways and .

The various event generating technologies communicate in various non HTTP protocols. SMS technology was developed using SMS specific platforms having its own specific logic and programming techniques and methods for implementing SMS applications. Similarly IM technology was developed using IM specific platforms having their own specific logic and programming techniques and methods for implementing IM applications. This platform specific development paradigm was a typical way for developing various technologies. Not until open access or universally accessible technologies began to advance did open source or universal logic or programming techniques develop. Thus even though different embodiments of the present invention allow different external event source technologies using transport mechanisms such as SMS IM JMS TCP IP sockets and the like to access application server technologies application server technology does not necessarily include logic and programming methods that would be used in controlling the specific features of the non application server non HTTP technologies. If not addressed this limitation may cause certain features to be inaccessible to the event gateway application programmer.

Alternative embodiments of the present invention create helper methods that expose atypical application server logic to application server programmers and developers. Within an event gateway the event gateway developer codes methods that expose some of the methods used in the external event generating systems. For example IM systems have extensive management features for buddies and buddy lists. This technology is not typical for application servers. Thus the IM event gateway developer may provide such methods within the gateway for the event gateway application to access. Similarly TCP IP related applications deal with starting and ending socket connections. Thus the IP socket event gateway developers code methods for starting and ending IP sockets that are accessible to the event gateway applications in the event gateway.

In operation an event is generated and sent from IM server to application server . Event gateway instance is coded to listen for events using XMPP protocol. When the event is detected event gateway instance determines that it is properly addressed to event gateway application and thereafter causes select portions of the data it contains to be re packaged into an AS Event object for event gateway application . This AS Event message is then transmitted to event gateway application . Event gateway application uses the data from the AS Event to execute its functionality. For purposes of event gateway application is an IM related application that includes methods for managing the buddy lists that come with IM services. However application server programming functions methods and techniques typically cannot affect IM services. Because IM services deal considerably with buddies and buddy lists event gateway instance includes helper methods class to expose the buddy management methods of IM systems to regular application server users.

When additional functionality becomes desirable such as the adding of buddies to a buddy list event gateway application determines that it should access helper methods in order to effectuate the addition of the buddy to the list. Event gateway application calls the add buddy method through helper methods class . The helper message is communicated back to IM server in order to add the buddy to the user s list. Because event gateway application is capable of asynchronous operation once the call to the add buddy method is made through helper methods class event gateway application may continue processing or executing additional functionality.

It should be noted that the implementation or execution of helper methods may be triggered in response to receiving an AS Event message from an external source via an event gateway or may be initiated through the processing of an event gateway application. The described embodiments are not intended to limit operation to one or the other types of access.

It should be noted that while the descriptions herein of the various embodiments of the present invention have noted external event sources as being SMSC servers IM server and or file systems the various embodiments of the present invention may be implemented with any external entity for which an event gateway may be developed. Additional external event sources such as database management systems DBMS JAVA Messaging Service JMS entities and the like. Application developers may develop such event gateways by creating an event listening method that detects the receipt of a data message configured in a particular format and or protocol a method for extracting certain data from the data message and re packaging it into a standard format that can be used to call the event data application. Additional or alternative event gateways may include more extensive logic and or helper methods for providing additional functionality.

It should be noted that in alternative embodiments the application server function may not generate a response message for the non HTTP event source. In such embodiments steps would not be executed.

It should be noted that in alternative embodiments the application server function may not be coded to receive an acknowledgement or response message from the non HTTP event source. In such embodiments steps would not be executed.

The program or code segments making up the various embodiments of the present invention may be stored in a computer readable medium or transmitted by a computer data signal embodied in a carrier wave or a signal modulated by a carrier over a transmission medium. The computer readable medium may include any medium that can store or transfer information. Examples of the computer readable medium include an electronic circuit a semiconductor memory device a ROM a flash memory an erasable ROM EROM a floppy diskette a compact disk CD ROM an optical disk a hard disk a fiber optic medium a radio frequency RF link and the like. The computer data signal may include any signal that can propagate over a transmission medium such as electronic network channels optical fibers air electromagnetic RF links and the like. The code segments may be downloaded via computer networks such as the Internet Intranet and the like.

Bus is also coupled to input output I O controller card communications adapter card user interface card and display card . The I O adapter card connects storage devices such as one or more of a hard drive a CD drive a floppy disk drive a tape drive to computer system . The I O adapter is also connected to a printer not shown which would allow the system to print paper copies of information such as documents photographs articles and the like. Note that the printer may be a printer e.g. dot matrix laser and the like a fax machine scanner or a copier machine. Communications card is adapted to couple the computer system to a network which may be one or more of a telephone network a local LAN and or a wide area WAN network an Ethernet network and or the Internet network. User interface card couples user input devices such as keyboard pointing device and the like to the computer system . The display card is driven by CPU to control the display on display device .

Although the present invention and its advantages have been described in detail it should be understood that various changes substitutions and alterations can be made herein without departing from the spirit and scope of the invention as defined by the appended claims. Moreover the scope of the present application is not intended to be limited to the particular embodiments of the process machine manufacture composition of matter means methods and steps described in the specification. As one of ordinary skill in the art will readily appreciate from the disclosure of the present invention processes machines manufacture compositions of matter means methods or steps presently existing or later to be developed that perform substantially the same function or achieve substantially the same result as the corresponding embodiments described herein may be utilized according to the present invention. Accordingly the appended claims are intended to include within their scope such processes machines manufacture compositions of matter means methods or steps.

