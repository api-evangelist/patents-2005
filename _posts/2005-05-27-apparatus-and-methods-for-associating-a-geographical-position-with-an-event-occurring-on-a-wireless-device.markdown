---

title: Apparatus and methods for associating a geographical position with an event occurring on a wireless device
abstract: Apparatus and methods for estimating a geographical position corresponding to an event associated with operation of a wireless device communicating in a wireless communications network. The time and distance between the occurrence of the event and the related time and speed of the wireless device of at least one of a first and second geographical position, respectively measured before and after the event, are analyzed. These analyses includes comparing those metrics to predetermined time and distance thresholds to associate and/or estimate a geographic position of the wireless device with the event.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07400884&OS=07400884&RS=07400884
owner: Qualcomm Incorporated
number: 07400884
owner_city: San Diego
owner_country: US
publication_date: 20050527
---
The present Application for Patent claims priority to Provisional Application No. 60 675 739 entitled Methods And Apparatus For GPS Information Validation filed Apr. 27 2005 and assigned to the assignee hereof and hereby expressly incorporated by reference herein.

The disclosed embodiments relate to wireless devices and wireless communication networks and more particularly to apparatus and methods for determining an estimated geographical position of wireless devices corresponding to events associated with wireless devices on a wireless network.

Many wireless communications devices such as mobile phones pagers handheld computers etc. have the ability to determine the location parameters associated with the geographical position of a wireless device on the surface of the earth. The location parameters may include the position and speed coordinates for the wireless device. The wireless device may include a geographical position location system in the form of hardware software and or firmware and other associated parameters.

One exemplary wireless device geographical position location system receives and analyzes location parameters derived from the Global Positioning System GPS a radio navigation system developed and operated by the U.S. Defense Department that includes a series of 24 constellation satellites orbiting the earth at a distance of approximately 20 000 kilometers. The GPS position location parameters permit wireless device processors to determine their respective three dimensional positions and velocities using very precise location parameters and timing signals received from the satellites.

Determination of wireless device geographical position location is not limited to GPS. For example wireless devices may employ a type of Assisted GPS where the GPS position location parameters are combined with additional information related to the wireless network such as position information from wireless network base stations to increase the accuracy of the position location information. The additional information is particularly important in urban areas where there may be attenuation blocking and multipath fading of the GPS signal.

Unfortunately there are other problems associated with the use of GPS and other position location information by the wireless device that have not been addressed. Each time a wireless device requests and retrieves position location information the request and retrieval processing consumes a relatively large amount of wireless device power. Further if the wireless device does not support simultaneous voice and data calls then the device will not be able to get a location position during a voice call or make a voice call during retrieval of a location position. Also the period of time from when the wireless device makes a requests for position location information to when the wireless device receives the position location information may be significant depending on such factors as the relative position of the wireless device to the location of the satellite the speed at which the wireless device is traveling the performance of the position location processing system of the wireless device the type of position location system employed for example GPS Assisted GPS or other position location system and the performance characteristics of the wireless device antenna. Such parameters may exacerbate the ability of the wireless device to accurately determine the geographical position location of the wireless device without draining wireless device power sources. The foregoing is particularly troubling when it is important to determine the position of the wireless device upon the occurrence of wireless device operational events such as a call drop event on a cellular telephone.

To address one or more of the drawbacks of the prior art the disclosed embodiments provide systems and methods for determining if a given geographical position fix is valid to associate with an event occurring on the wireless device.

In one embodiment a method for estimating a geographical position corresponding to a wireless device event includes receiving at least one of a first geographical position data of the wireless device corresponding to a first position of the wireless device and a second geographical position data of the wireless device corresponding to a second position of the wireless device. The method further includes determining an estimated geographical position of the wireless device based on a predetermined relationship between the event and at least one of the first geographical position data and the second geographical position data.

In another embodiment a method for determining a geographical position location corresponding to an event of a wireless device operating in a wireless network includes receiving geographical position data corresponding to processing of a first geographical position of the wireless device and a second geographical position of the wireless device. The first geographical position of the wireless device and the second geographical position of the wireless device are respectively associated with the event. The method further includes analyzing the geographical position data and generating an estimated geographical position data to associate with the event if any one of the received geographical position data meets a predetermined set of conditions including at least one of a time threshold and a distance threshold with respect to the event.

In yet another embodiment an apparatus for estimating a geographical position corresponding to a wireless device event includes an event position determination module operable to receive at least one of a first set of location fix information corresponding to a first geographic position of the wireless device and a second set of location fix information corresponding to a second geographic position of the wireless device. In addition the event position determination module is operable to determine an estimated geographical position of the wireless device to associate with the event based on a predetermined relationship between the event and at least one of the first set of location fix information and the second set of location fix information.

In yet another embodiment an apparatus for determining a geographical position location corresponding to an event of a wireless device operating in a wireless network includes a geographical position monitoring module for receiving geographical position data corresponding to processing of a first geographical position of the wireless device and a second geographical position of the wireless device. The first geographical position of the wireless device and the second geographical position of the wireless device are respectively associated with the event. The apparatus includes an application executable by the geographical position monitoring module and including an analysis engine operable to analyze the geographical position data and generate an estimated geographical position data corresponding to the event.

In still another embodiment a system for estimating a geographical position corresponding to a wireless device event includes a means for receiving a first geographical position data of the wireless device corresponding to a first position of the wireless device and a means for receiving a second geographical position data of the wireless device corresponding to a second position of the wireless device. The system also includes a means for determining an estimated geographical position of the wireless device based on a predetermined relationship between the event and at least one of the first geographical position data and the second geographical position data.

In another embodiment a wireless device comprises a computer platform having a communications processing engine operable to generate a plurality of event data relating to an operation of the wireless device. The communications processing engine further comprises a position service component operable to determine a geographic position of the wireless device. The wireless device further includes an event tracking module in communication with the computer platform and having an event tracking module defining one of the plurality of events to track. The event tracking module further comprises event tracking logic operable to initiate storage of event information and generate a position determination request upon detecting the defined one of the plurality of events. The wireless device also includes a location module in communication with the computer platform and executable upon receipt of the position determination request to transmit a location fix request to the position service component to initiate retrieval of location fix information. Additionally the wireless device includes a data log operable to store the event information and the location fix information wherein the location fix information is linkable with the event information if predetermined conditions are met. In the wireless device the computer platform is further operable to transmit the data log across a wireless network

In a further embodiment a wireless device comprises a processing means for generating a plurality of event data relating to an operation of the wireless device. The wireless device also includes a determination means for determining a location fix information including a geographic position of the wireless device based on receiving a position determination request. The wireless device includes a tracking means for detecting an event storing event information and generating the position determination request. The detecting means in communication with the processing means and having a definition of one of the plurality of events to detect. The device additionally including a storage means for storing the event information and the location fix information where the location fix information is linkable with the event information if predetermined conditions are met. And the wireless device includes a transmission means for transmitting the event information and the location fix information across a wireless network.

Additional aspects and advantages of the disclosed embodiments are set forth in part in the description which follows and in part are obvious from the description or may be learned by practice of the disclosed embodiments. The aspects and advantages of the disclosed embodiments may also be realized and attained by the means of the instrumentalities and combinations particularly pointed out in the appended claims.

The following discussion is an overview of the embodiments of . In general these described embodiments deal with apparatus and methods of determining a geographic position to associate with a detected event occurring on a wireless device. In these embodiments the wireless device detects an event based on a predetermined event tracking configuration. Further the wireless device includes logic that triggers the retrieval of post event location fix information upon detection of the event. Additionally the wireless device may have pre event location fix information from prior to the occurrence of the detected event. A user manager server across a wireless network retrieves all of this information from the wireless device and includes an event position determination module to determine a geographic position to associate with the detected event based on this information. In particular the event position determination module includes a number of predetermined conditions based on a number of predetermined parameters and applies these conditions in a predetermined manner to at least one of the pre and post event location fix information in order to make this determination. Generally these predetermined conditions associate a given geographic position with an event if 1 a time difference between a time associated with the geographic position and the event time is within a predetermined time threshold and 2 a distance traveled from the geographic position of the location fix computed based on a wireless device velocity speed and the time difference is within a predetermined distance threshold or 3 when a velocity speed of the wireless device associated with the geographic position is not known and the time difference is within a low time threshold which is computed as the time needed to travel the predetermined distance threshold at a predetermined maximum speed. Further if deciding between both a pre and post event location fix that satisfy both the time threshold and the distance threshold both 1 and 2 above then the determination module associates the fix having the smallest distance traveled with the event. Similarly if deciding between both a pre and post event location fix that satisfy both the time threshold and the low time threshold both 1 and 3 above then the determination module associates the fix having the smallest time difference with the event. Thus these described embodiments provide a relatively uncomplicated solution for determining whether or not to associate a given geographic position with an event occurring on a wireless device. The details of the apparatus and methods are described below.

Referring to one embodiment of a system or apparatus for associating a geographic position with an operational event on a wireless device includes a plurality of wireless devices that each include an event tracking module and a location module . Event tracking module is operable to gather event information associated with an event occurring on the respective wireless device and to cause location module to retrieve location fix information including a geographic position upon detection of event . Location module retrieves location fix information from a position determination entity located across wireless network . Each respective wireless device stores event information and location fix information in a data log which is retrievable by a user manager server located across wireless network . It should be noted that data log may include at least one or a plurality of location fix information and hence at least one or a plurality of geographic positions . The plurality of location fix information may be caused by prior or subsequent events detected by event tracking module by configured periodic retrievals of location fix information performed by location module and or by location fix information dictated by other modules or applications operating on the respective wireless device. In any case user manager includes an event position determination module having logic executable by a processing engine to generate an event record that associates an estimated geographic position with detected event if one or more predetermined conditions are satisfied as will be discussed in more detail below.

In one embodiment wireless devices are positioned within a wireless network area and communicate across wireless network with each other and or with a user manager server . User manager may communicate with wireless devices through a direct wired connection or through a wireless connection such as through a network interface in communication with wireless network area . The communications between user manager and wireless devices may include for example downloads of all or selected portions such as particular test suites of event tracking module and uploads of data logs back to user manager .

The following discussion employs to provide a detailed description of the disclosed embodiments. Beginning with system illustrated in this figure is a representative diagram of the described embodiments associated with wireless devices functioning in a wireless communication network. has three main components namely a first component wireless network area a second component network interface and a third component user manager .

Beginning with the first component wireless network area includes a plurality of wireless devices wirelessly connected to a wireless network . The wireless network provides a wireless communications connection across network interface to a user manager server .

As illustrated in the wireless devices can include any mobile or portable communications device such as cellular telephone personal digital assistant two way text pager a laptop computer a tablet computer and even a separate computer platform that has a wireless communication portal and which also may have a wired connection to a network or the Internet. Additionally the wireless device can be a remote slave or other device that does not have an end user thereof but simply communicates data across the wireless network . For example the wireless device may include a remote sensor a diagnostic tool a data relay and the like. The described embodiments for estimating a geographical position corresponding to a wireless device event can be applied to any form of wireless communications device or module including a wireless communication portal a wireless modem PCMCIA cards access terminals personal computers telephones or any combination or sub combination thereof.

As further illustrated in wireless network includes any communications network operable at least in part for enabling wireless communications between a respective wireless device and any other device connected to wireless network . Further wireless network includes all network components and all connected devices that form the network. Wireless network may include at least one or any combination of a cellular telephone network a terrestrial telephone network a satellite telephone network an infrared network such as an Infrared Data Association IrDA based network a short range wireless network a Bluetooth technology network a home radio frequency HomeRF network a shared wireless access protocol SWAP network an ultra wide band UWB network a ZigBee protocol network a wideband network such as a wireless Ethernet compatibility alliance WECA network a wireless fidelity alliance Wi Fi Alliance network and a 802.11 network a public switched telephone network a public heterogeneous communications network such as the Internet a private communications network and land mobile radio network. Suitable examples of telephone networks include at least one or any combination of analog and digital networks technologies such as Personal Communications Services code division multiple access wideband code division multiple access universal mobile telecommunications system advanced mobile phone service time division multiple access frequency division multiple access global system for mobile communication analog and digital satellite systems and any other technologies protocols that may be used in at least one of a wireless communications network and a data communications network.

Each of wireless devices is illustrated to include a resident event tracking module and location module . These modules may be located resident to the wireless devices as shown or alternatively may be remotely accessible from the wireless devices . Modules and include any combination of software hardware firmware and generally any executable instructions operable by one or more processors resident on or remote from wireless devices . The features and functions of resident event tracking module and location module including their components are described further in the embodiments below.

As noted the second component of is network interface . Network interface may be any mechanism that allows user manager server and or position determination entity to communicate with wireless network . For example network interface may include a local area network that connects user manager server and or position determination entity through an Internet Service Provider to the Internet which in turn may be connected to a respective wireless device through a carrier network and a base station.

The third component illustrated in is user manager server . User manager server may be any combination of processors including hardware firmware software and combinations thereof and memory including read only memory ROM random access memory RAM EPROM EEPROM flash memory cells secondary or tertiary storage devices such as magnetic media optical media tape or soft or hard disk comprising one or more platforms such as servers personal computers mini mainframes mainframes etc.

User manager server includes data log which is a data repository operable to store a collection of the plurality of location fix information and also event information . This information is received by user manager server from across wireless network from each of the wireless devices based on their given configuration. Data log may be resident on user manager server as shown or remotely accessible from user manager . The features and functions associated with data log including its components are described further in the embodiments below.

Processing engine may be any combination of processors including an application specific integrated circuit ASIC a chipset a processor a microprocessor a logic circuit and any other data processing device functioning in association with related memory including read only memory ROM random access memory RAM EPROM EEPROM flash memory cells secondary or tertiary storage devices such as magnetic media optical media tape or soft or hard disk whether resident on user manager server or remotely accessible from user manager server . Processing engine performs one or more processing functions for user manager server . Accordingly processing engine may execute a module resident on or remotely assessable by user manager server to perform a given function. The features and functions associated with processing engine including its components are described further in the embodiments below.

Event position determination module including its components event position determination logic and predetermined conditions include any combination of software hardware firmware and generally any executable instructions operable by one or more processors resident on or remote from user manager server . In one embodiment this module is executed by resident processing engine . Event position determination module is executable by user manager server specifically processing engine to manage the collection of data logs from wireless devices . Event position determination module may pull the logs based on commands from a user or the logs may be pushed from the respective wireless devices at predetermined times or upon reaching predetermined memory data storage levels. Specifically processing engine may execute event position determination module to parse and process data log to generate event record . In another embodiment a resident version of event position determination module may be downloaded by user manager server to each wireless device so that each respective device may locally generate event record . Additionally the resident version of event position determination module may also be loaded onto the respective wireless device during the initial assembly process or via serial connections during a configuration process.

In one or more embodiments user manager server or plurality of servers sends software agents or applications including event tracking module and or location module to wireless devices such that the wireless devices return data from their resident applications and subsystems. Further there can be separate servers or computer devices associated with user manager server that work in concert to provide data in usable formats and or a separate layer of control in the data flow between the wireless devices and user manager server .

Event record may be presented in any format such as in a table in a graphic in an audio file etc. that enables a user of system to utilize the associated event and estimated geographic position .

In the disclosed embodiments access to processing of and updating of any of the components of user manager server whether the components are resident on user manager server or remotely accessible by user manager server may be performed by a user through a user interface or any combination of software hardware firmware and generally any executable instructions operable by one or more processors through either a direct or remote connection from any of a wireless device user manager server or any other network component. As one example through the input of commands by a user through a standard HTTP an FTP or some other data transfer protocol interfaced with the respective wireless device processing engine is invoked to execute event position determination module to provide access to and processing of data log to generate event record .

Wireless network area is illustrated to include a plurality of cellular telephones . In addition wireless network area includes wireless network as previously described with respect to . Here wireless network includes multiple base stations BTS and a mobile switching center MSC .

MSC may be connected to network interface specifically its component carrier network through either a wired or wireline connection network . For example network may comprise a data services network a switched voice services network often referred to as POTS plain old telephone service and or a combination of both including for example an Internet portion of a network for data information transfer and a POTS portion of a network for voice information transfer. For example typically in network network or Internet portions transfers data and the POTS portion transfers voice information transfer.

MSC may also be connected to the multiple BTS s by another network . Network may carry data and or switched voice information. For example network may comprise a data network a voice network and or a combination of both including for example an Internet portion of a network for data transfer and a POTS portion of a network for voice information transfer.

BTSs are wirelessly connected to exemplary cellular telephones in wireless network area . For example BTS may ultimately broadcast messages wirelessly to cellular telephones or receive messages wirelessly from cellular telephones via POTS switched voice service data transfer services including short messaging service SMS or other over the air methods.

The use of cellular telecommunication pathways has increased because wireless devices such as the shown cellular telephones are being manufactured with increased computing capabilities and are becoming tantamount to personal computers and hand held personal digital assistants PDAs communicating packets including voice and data over wireless network . These smart cellular telephones have installed application programming interfaces APIs onto their local computer platform that allow software developers to create software applications that operate on the cellular telephone and control certain functionality on the device. The features and functions associated with cellular telephones as exemplary of wireless devices including its components are described further in the embodiments below.

As noted the second component of is network interface . Although described with respect to network interface is illustrated in greater detail for the embodiments of this . Specifically network interface is shown to include carrier network data link and local area network LAN .

The features and functions associated with data link and LAN are described below with reference to server environment .

Carrier network is any regional national or international network offering switched voice communication and or data communication services. As such carrier network may include switched voice or data service provider communications facilities and lines including data and or switched voice information or any combination of both including for example an Internet portion of a network for data transfer and a POTS portion of a network for voice information transfer. In one embodiment carrier network controls messages generally in the form of data packets sent to or received from a mobile switching center MSC .

The third main component of is server environment . Server environment is the environment wherein the above described user manager server functions. As illustrated server environment may include the user manager server a separate data repository and data management server .

In system user manager server can be in communication over LAN network of network interface with a separate data repository for storing the data gathered from the remote wireless devices such as the respective data logs . Further data management server may be in communication with user manager server to provide post processing capabilities data flow control etc. User manager server data repository and data management server may be present on the illustrated network with any other network components that are needed to provide cellular telecommunication services. User manager server and or data management server communicate with carrier network through a data link of network interface such as the Internet a secure LAN WAN or other network.

Referring back to wireless network area as noted each exemplary cellular telephones may include a local computer platform . Each local computer platforms is operable to permit a wireless device such as cellular phones to transmit data across wireless network or receive data from wireless network in addition to receiving and executing software applications and displaying data transmitted from user manager server or another computer device connected to wireless network . Computer platform includes memory including resident event tracking module and location module application programming interface API application specific integrated circuit ASIC and local database . Each of the aforementioned components may be resident on the wireless devices or alternatively may be remotely accessible by wireless devices . The features and functions associated with local computer platform of wireless devices including its components are described further in the embodiments below.

Beginning with ASIC this component may comprise an application specific integrated circuit or other chipset processor microprocessor logic circuit or other data processing device. ASIC performs one or more processing functions for the respective wireless device. ASIC or another processor may execute API layer that interfaces with a module resident on or remotely accessible from the wireless devices to perform a given function. The foregoing is performed through API software extensions as described below. As shown ASIC may execute through API layer event tracking module and location module .

As shown in in one or more described embodiments ASIC comprises in whole or in part communications processing engine . Communications processing engine includes various processing subsystems embodied in hardware firmware software and combinations thereof that enable the functionality of the respective wireless device and the operability of the respective device on wireless network such as for initiating and maintaining communications and exchanging data with other networked devices.

For example in one embodiment communications processing engine may include one or a combination of processing subsystems such as sound non volatile memory file system transmit receive searcher layer 1 layer 2 layer 3 main control remote procedure handset power management diagnostic digital signal processor vocoder messaging call manager Bluetooth system Bluetooth LPOS position determination position engine user interface sleep data services security authentication USIM SIM voice services graphics USB multimedia such as MPEG GPRS etc.

For the disclosed embodiments processing subsystems of communications processing engine may include any subsystem components that interact with applications executing on computer platform . For example processing subsystems may include any subsystem components which receive data reads and data writes from API on behalf of event tracking module and location module .

API is a runtime environment executing on the respective wireless device. An exemplary runtime environment is Binary Runtime Environment for Wireless BREW software developed by QUALCOMM Inc. of San Diego Calif. Other runtime environments may be utilized that for example operate to control the execution of applications on wireless computing devices. API may include a class of software extensions that allow the resident version or remotely accessible version of a module to be processed by communications processing engine . These software class extensions can communicate with processing subsystems on the wireless device which allows both data reads and commands. For example the software extension can send commands on behalf of the applications that invoke it. The module can then forward the responses of the subsystems ultimately across wireless network area to user manager server . Each resident application or module on wireless device can create an instance of this new software extension to communicate with the subsystems independently.

Memory may be any type of memory including read only memory ROM random access memory RAM EPROM EEPROM flash memory cells secondary or tertiary storage devices such as magnetic media optical media tape or soft or hard disk whether resident on computer platform or remotely accessible from computer platform . Computer platform may also include a local database that can hold the software applications files or data not actively used in memory such as the software applications or data downloaded from user manager server . Local database typically includes one or more flash memory cells but can be any secondary or tertiary storage device such as magnetic media EPROM EEPROM optical media tape or soft or hard disk. Additionally local database can ultimately hold a local copy of event tracking module and location module .

In one embodiment memory includes event tracking module having logic executable by communications processing engine through API to identify a predetermined event based on an event tracking configuration that defines parameters for monitoring processing data within processing subsystems . For instance user manager may be utilized to develop and transmit event tracking configuration to the respective wireless device. Event tracking configuration may identify what processing data to monitor when to monitor the processing data how to collect and store the data and when to transmit the collected data to user manager . Additionally processing data within subsystems may include predetermined events predetermined data and or predetermined sequences or sets of data and or events. Upon detection of event as defined by event tracking configuration event tracking logic causes event information to be stored in data log . In one embodiment for example event information comprises event such as a description indicator and or representation of the configured event and event time such as a timestamp corresponding to the time of occurrence of the event. Further upon detection of event event tracking logic triggers a position determination request to be sent to location module .

Location module has location retrieval logic operable to allow location module to receive position determination request and subsequently generate a location fix request through API to a designated processing subsystem component such as a position service component . Additionally location retrieval logic is executable to initiate storage of the resulting location fix information in data log . Location fix information may include a geographic position or location fix of the wireless device and a location fix time associated with the geographic position. Additionally depending how the geographic position is determined location fix information may also include an associated location fix velocity or speed of the wireless device.

There may be a plurality of location fix information stored in data log . As such there may be a first set of location fix information having a first geographic position a first fix time and a first fix speed where first fix time is a time prior to event time . Additionally there may be a second set of location fix information having a second geographic position a second fix time and a second fix speed associated with location fix request triggered by the occurrence of event where second fix time is a time after event time .

In one embodiment position service PS component when executed by communications processing engine retrieves location fix information from an external source such as position determination entity . PS component may perform its functions for example based on the aforementioned location fix request upon powering up of the wireless device upon initiating execution of a given application or module upon predetermined time intervals upon other specific requests from other applications or modules and or upon a synchronized time basis etc. In the disclosed embodiments PS component is one example of a component used in coordination with or in relation to the components of location module .

Location module may comprise in whole or in part a geographic information system GIS such as a tool used to gather transform manipulate analyze and produce information related to the surface of the earth. Such a GIS can be as complex as a whole system using dedicated databases and workstations hooked up to a network or as simple as off the shelf desktop software. One example of such a system may include the QPoint Positioning Software and gpsOne hybrid Assisted GPS wireless location technology available from QUALCOMM Inc. of San Diego Calif.

In one embodiment such a GIS may include a global positioning system GPS such as a satellite navigational system formed by satellites orbiting the earth and their corresponding receivers on the earth. The GPS satellites continuously transmit digital radio signals that contain data on the satellites location and the exact time to the earth bound receiver. The satellites are equipped with atomic clocks that are precise for example to within a billionth of a second. Based on this information the receivers know how long it takes for the signal to reach the receiver on earth. As each signal travels at the speed of light the longer it takes the receiver to get the signal the farther away the satellite is located. By knowing how far away a satellite is the receiver knows that it is located somewhere on the surface of an imaginary sphere centered at the satellite. By using three satellites GPS can calculate the longitude and latitude of the receiver based on where the three spheres intersect. By using four satellites GPS can also determine altitude. In addition to transmitting location parameters associated with the location of the wireless devices the GPS satellites may also transmit speed parameters associated with the speed of the wireless devices.

In another embodiment such a GIS may include in whole or part a network based positioning system whereby location module PS component and or some other remote position determination entity determine the geographical position of the wireless devices based at least in part on network communications. For instance communication signals may be exchanged between the respective wireless device and network components of wireless network area . These communication signals include timing information that enables location module PS component and or some other remote position determination entity to compute a relative position and hence a geographic position of the wireless device with respect to a known position. For example such communications signals may include the signals periodically exchanged between wireless devices and BTS . Such a network based system may also be utilized in combination with a GPS based system.

Referring to as noted above user manager receives data log from the respective wireless device in order to determine if there is a geographic position that can be associated with a detected event. Event position determination module includes event position determination logic that reviews the information contained within data log in view of one or more predetermined conditions that test a perceived validity of a geographic position under consideration to be associated with event . For example in one embodiment predetermined conditions include a time threshold condition a distance threshold condition and a low time threshold condition . In one embodiment these conditions determine whether or not a given set of location fix information and hence a given geographic position is close enough to the event in a distance domain based on speed information contained in the location fix information to be associated with the event. Ultimately in this embodiment these conditions attempt to select as an estimated geographic position the position associated with the location fix that is closest in distance to the actual position of the event. When speed information is not available with the location fix information then these embodiments look to the time difference between the event time and the respective location fix and for example select the smallest time difference.

In one embodiment for example time threshold condition includes a predetermined time threshold value corresponding to a desired maximum amount of time between the occurrence of event and the time of the geographic location fix in order for the fix to be considered for association with the event. Time threshold value may vary depending on the situation. For instance a first scenario where it is known that the wireless device is moving at a relatively fast speed may have a smaller time threshold value than a second scenario where it is known that the wireless device is moving at a relatively slow speed i.e. a speed slower than the first scenario speed. In one embodiment event position determination logic invokes a time difference module to calculate a time difference between event time and a location fix time such as first fix time or second fix time associated with a geographic position such as first geographic position or second geographic position retrieved from data log . Further event position determination logic causes processing engine to compare time difference to time threshold value to determine if time threshold condition is achieved.

Distance threshold condition includes a predetermined distance threshold value corresponding to a desired maximum distance between the location of event and the location of the geographic location fix in order for the fix to be considered for association with the event. Distance threshold value may vary depending on the situation. For instance a first scenario where a user of these apparatus and methods desires a very accurate geographic position to associate with the event may have a smaller distance threshold value than a second scenario where the user requires a less accurate geographic position i.e. a position that may be further away from the actual event position when compared to the associated position in the first scenario. In one embodiment event position determination logic invokes a distance traveled module to calculate a distance traveled based on time difference associated with a given set of location fix information and a wireless device speed associated with the fix information such as first fix speed or second fix speed associated respectively with first geographic position or second geographic position as retrieved from data log . Further event position determination logic causes processing engine to compare distance traveled to distance threshold value to determine if distance threshold condition is achieved.

Low time threshold condition includes a predetermined low time threshold value corresponding to a desired maximum amount of time between the occurrence of event and the time of the geographic location fix in order for the fix to be considered for association with the event when a corresponding wireless device speed is not available with the fix. For instance event position determination logic computes low time threshold value as a function of distance threshold value divided by a predetermined maximum speed value . The predetermined maximum speed value corresponds to a desired maximum speed to be associated with the respective wireless device in a situation where speed information is not available as a part of a given set of location fix information . Predetermined maximum speed value may vary depending on the situation. For instance predetermined maximum speed value may be a higher value in a first scenario evaluating wireless devices operating on a highway when compared to a second scenario where the wireless devices are operating in city streets. In one embodiment event position determination logic causes processing engine to compare time difference to low time threshold value to determine if low time threshold condition is achieved.

It should be noted that time threshold value distance threshold value and predetermined maximum speed value either individually or in any combination may be set as default values or they may be modifiable by a user of system .

Further time threshold value distance threshold value and predetermined maximum speed value can each vary depending on the scenario being tested the environment associated with the test scenario the type of wireless device the type of wireless network components the type of wireless communications protocol the type of and retrieval speed of the particular service providing the location fix information as well as other subjective factors such as a desired relative accuracy or granularity of the associated geographic position. In one non limiting example for instance one test scenario involved call drops by CDMA based cellular telephones in an urban area. In this example hundreds of sets of data were analyzed including the call drop event and the location fix information and it was determined that most of the valid fixes were obtained within 120 seconds of the call drop event and based on a marketing analysis an accuracy of 2000 feet was desired. Further since this test scenario occurred in an urban area close to a highway a maximum speed of 65 miles per hour was expected. Thus in this one example time threshold value 128 was set at 120 seconds distance threshold value 134 was set at 2000 feet and maximum speed was set at 65 miles hour. It should be stressed however that this is just one non limiting example and that each of these thresholds may vary dramatically depending on the many factors discussed above.

Based on the outcomes of testing the information contained in data log against one or any combination of the predetermined conditions event position determination logic may be executable to associate one set of location fix information with a set of event information and hence to determine estimated geographic position of event .

Event record can give a ready view of estimated geographic position and event in any form such as tables maps graphics views plain text interactive programs or web pages or any other display or presentation of the data. Event record includes any form of output that represents a position related characteristic or parameter as well as any other related data associated with the event information from data log of one or more respective wireless devices.

In operation system implements a method of associating a geographic position with an event that occurs on a wireless device. In one embodiment the method evaluates at least one set of location fix information to determine if the geographic position associated with the fix is appropriate to associate with the event based on one or more conditions.

In one embodiment referring to for example the method optionally involves receiving event tracking parameters comprising an event tracking configuration to identify a predetermined event associated with data processed by a wireless device Block . The method further optionally involves transmitting the event tracking configuration to the respective wireless device Block such as by transmitting the configuration across a wireless network. These actions may be performed for example by a technician field service engineer or any other operator of user manager server . The result of these actions is event tracking configuration utilized by event tracking module of the respective wireless device .

Further the method includes receiving and storing one or more data logs from the respective wireless device where the data logs include event information and location fix information as dictated by the event tracking configuration Block . In one embodiment event tracking module and location module are executable by communications processing engine of the respective wireless device to collect event information and location fix information in data log such as based on the detection of a predetermined event .

Additionally the method may optionally include receiving settings for a predetermined time threshold a predetermined distance threshold and a predetermined maximum speed Block . As mentioned above these settings may be user defined or predefined default values of time threshold 128 distance threshold and maximum speed . These values may be entered into event position determination module by an operator of user manager .

After receiving the data log the method includes calculating a time difference between the event time and the location fix time in the data log Block . In one embodiment processing engine executes event position determination logic to invoke time difference module to calculate time difference as detailed above.

The method continues by determining if the time difference meets the time threshold condition Block . In one embodiment processing engine executes event position determination logic to compare time difference to time threshold as detailed above.

If the time difference is greater than the time threshold then the method concludes that the geographic position associated with the location fix information may not be validly associated with the event associated with the event information Block .

If the time difference meets the time threshold condition then the method continues by determining if a speed is available in association with the location fix information Block .

If the speed is available then the method continues by calculating the distance traveled Block . In one embodiment processing engine executes event position determination logic to invoke distance traveled module to calculate distance traveled as detailed above. Then the method continues by determining if the distance traveled meets the distance threshold condition Block . In one embodiment processing engine executes event position determination logic to compare distance traveled to distance threshold as detailed above. If the distance traveled meets the distance threshold condition then the method concludes that the geographic position is valid and associates the location fix information including the geographic position with the event information including the event Block . In one embodiment for example processing engine executes event position determination module to generate event record as detailed above. Optionally if the method reaches this point with two sets of location fix information i.e. a first set corresponding to the closest fix before the event and a second set corresponding to the closest fix after the event then pick the set of location fix information having the smaller of the two distances traveled Block . If the distance traveled does not meet the distance threshold condition then the method concludes that the geographic position is not valid and no association is made between the location fix information including the geographic position and the event information including the event Block .

If the speed is not available then the method continues by calculating the low time threshold Block . In one embodiment processing engine executes event position determination logic to divide distance threshold by maximum speed to determine low time threshold value as detailed above. Then the method continues by determining if the time difference meets the low time threshold condition Block . In one embodiment processing engine executes event position determination logic to compare time difference to low time threshold value as detailed above. If the time difference meets the low time threshold condition then the method concludes that the geographic position is valid and associates the location fix information including the geographic position with the event information including the event Block . In one embodiment for example processing engine executes event position determination module to generate event record as detailed above. Optionally if the method reaches this point with two sets of location fix information i.e. a first set corresponding to the closest fix before the event and a second set corresponding to the closest fix after the event then pick the set of location fix information having the smaller of the two time differences Block . If the time difference does not meet the low time threshold condition then the method concludes that the geographic position is not valid and no association is made between the location fix information including the geographic position and the event information including the event Block .

Other embodiments of the above defined method make decisions regarding multiple sets of location fix information.

For example in one embodiment one set of device location and speed parameters corresponding to a location fix closest in time before the occurrence of the event may be compared to one set of device location and speed parameters corresponding to a location fix closest in time after the occurrence of the event. The fix that achieves a predetermined time threshold and a predetermined distance threshold is used to estimate the position of the wireless device during the occurrence of the event. There may be situations where both location fixes achieve these thresholds and thus further criteria are utilized to determine the more valid fix to associate with the event.

For example in one embodiment the distance between the location fix closest in time before the occurrence of the event and the event location is compared to the distance between the location fix closest in time after the occurrence of the event and the event location and the position fix corresponding to the shorter distance is chosen as the estimated position of the wireless device during the occurrence of the event.

In contrast in another embodiment the time difference between the position fix of the wireless device closest in time before the occurrence of the event and the event time is compared to the time difference between the position fix of the wireless device closest in time after the occurrence of the event and the event time and the position fix corresponding to the shorter time difference is chosen as the estimated position of the wireless device during the occurrence of the event.

In the operation of these embodiments are flow charts illustrating a method for estimating the position of a wireless device corresponding to the occurrence of a wireless device operational event. As used herein the term fix refers to a determined fixed geographical position for the wireless device and attached refers to selecting a particular location fix as the estimated location corresponding to the occurrence of the event. Further the term applied means under consideration for being attached to the event e.g. two fixes may be applied to an event but only one fix may be attached to the event.

The following definitions apply for the embodiments described with respect to the figures G the location fix closest in time before the event including its relevant parameters G the location fix closest in time after the event including its relevant parameters TT time threshold as defined above given the value of 120 second in one or more embodiments DT distance threshold as defined above Maximum Speed a predetermined configurable maximum speed as defined above LTT low time threshold as defined above D estimated distance traveled by the wireless device from the location fix before the event to the event itself determined by multiplying the speed associated with G by the time difference TD between G and the event time D estimated distance traveled by the wireless device from the event itself to the location fix after the event determined by multiplying the speed associated with G by the time difference TD between G and the event time and F F F etc. refer to failure events etc. tracked according to the event tracking module.

Referring to after start Block if neither G nor G are within TT Blocks and then there are no valid fixes that may be associated with the event Block . In other words both fixes have occurred outside of the given timeframe and thus are not considered to validly represent the position the event because they are too far away in time.

Referring back to after start Block control passes to Case of Block if G is within TT Block G is within TT Block and both location fixes contain speed Block . In other words both fixes are within the given timeframe and contain speed information. As such Case tests these fixes against the distance threshold and selects either the only fix within the threshold or the fix having the smallest distance traveled within the threshold.

Referring back to after start Block control passes to Case of Block if both G and G are within TT Blocks and only one location fix contains speed Blocks . As such Case tests these two fixes and first selects the one having speed if it falls within the distance threshold and if not then secondly selects the one without the speed it falls within the low time threshold. Alternatively Case selects neither fix if none of these conditions are satisfied.

Referring to Block G is attached Block or if i G contains speed Block G is not within DT Block and G is within LTT Block or if ii G does not contain speed Block and G is within DT Block . G is attached Blocks or if i G contains speed Block and G is within DT Block or if ii G does not contain speed Block G is not within DT Block and G is within LTT Block . No fix is attached Blocks or if either i G contains speed Block G is not within DT Block and G is not within LTT Block or if ii G does not contain speed Block G is not within DT Block and G is not within LTT Block .

Referring back to after start Block control passes to Case of Block if G is within TT Block G is within TT Block and neither location fix contains speed Blocks . As such without having speed information to utilize Case considers the time difference between each fix and the event time and selects either the only fix with a time difference within the low time threshold or the fix having the shortest time difference. If none of these conditions are satisfied then no fix is attached.

Referring back to after start Block control passes to Case of Blocks if either i G is within TT Block G is not within TT Block and G contains speed Block or if ii G is not within TT Block G is within TT Block and G contains speed Block . As such when only a single fix is valid based on the time threshold and this fix includes speed information Case selects the respective fix if it meets the distance threshold or no fix is attached.

Referring to Block the G either G or G found to be within TT is compared to DT Block . If this G is within DT it is attached Block and if not no G is attached Block .

Referring back to after start Block control passes to Case of Blocks if either i G is within TT Block G is not within TT Block and G does not contain speed Block or if ii G is not within TT Block G is within TT Block and G does not contain speed Block . As such when only a single fix is valid based on the time threshold but this fix does not include speed information Case selects the respective fix if it has a time difference within the low time threshold or no fix is attached.

Referring to Block the G either G or G found to be within TT is compared to LTT Block . If this G is within LTT it is attached Block and if not no G is attached Block .

Beginning with these figures illustrate that it is possible to apply up to two GPS fixes to each event that has not yet had a location fix associated with it. In G and G are applied to F F and F because G is the last fix to come before the respective failure and G is the first fix to come after the respective failure. In contrast G is not applied to F because G which is before G with respect to the timing of F has already been applied to it. In G will be applied to F F and F because there was no previous location fix before these failure events. As such illustrates the situation where only one set of location fix information may be utilized in order to determine a geographic position to associate with a detected event on the wireless device.

Additionally it should be noted that the method may include granting access to event record and or data log to other business or commercial systems. To ensure the security and or integrity of the collected position data such access may be granted in a monitored fashion such as through a user manager. Further other computer devices including both storage and processing devices can be located across the wireless network from the wireless device and accordingly the architecture associated with the user manager is readily scalable.

In summary wireless device can have at least one application or agent resident either permanent or temporarily on the computer platform thereof which causes the gathering of event information and location fix information from communications processing engine and which can effect selective transmission of data log for that wireless device to another computer device such as user manager server on the wireless network . If the wireless device is so embodied data log may be transmitted over an open communication connection from the wireless device to the wireless network such as an open voice or data call. If the wireless device is a cellular telephone and the wireless network is a cellular telecommunication network such as shown in data log can be transmitted through short message service or other wireless communication methods.

In view of portions of the method being executable on computer platform of a wireless device and executed by processing engine of user manager the method includes a program resident in a computer readable medium where the program directs a wireless device having a device platform to perform collection storage and transmission acts of the method. Such a program can be executed on any single computer platform or can be executed in a distributed way among several computer platforms. Furthermore the method can be implemented by a program that directs a computer device such as user manager server to evaluate the validity of a geographic position in association with an event through gathering and processing data log from the wireless devices .

The computer readable medium can be the memory of the computer platform of the cellular telephone or other wireless device or can be in a local database such as local database of the device platform or can be a data repository associated with user manager . Further the computer readable medium can be in a secondary storage media that is loadable onto a wireless device computer platform or user manager such as a magnetic disk or tape optical disk hard disk flash memory or other storage media as is known in the art.

Further the method may be implemented for example by operating portion s of the wireless network and or LAN such as device platform and user manager server to execute a sequence of machine readable instructions. The instructions can reside in various types of signal bearing or data storage primary secondary or tertiary media. The media may comprise for example RAM not shown accessible by or residing within the components of the wireless network or LAN . Whether contained in RAM a diskette or other secondary storage media the instructions may be stored on a variety of machine readable data storage media such as DASD direct access storage device storage e.g. a conventional hard drive or a RAID redundant array of independent disks array magnetic tape electronic read only memory e.g. ROM EPROM or EEPROM flash memory cards an optical storage device e.g. CD ROM WORM write once read many DVD digital optical tape paper punch cards or other suitable data storage media including digital and analog transmission media.

While the foregoing disclosure shows illustrative embodiments it should be noted that various changes and modifications could be made herein without departing from the scope of the described embodiments as defined by the appended claims. Furthermore although elements of the described embodiments may be described or claimed in the singular the plural is contemplated unless limitation to the singular is explicitly stated.

