---

title: Generation of enterprise-wide licenses in a customer environment
abstract: An enterprise licensing system is provided that includes a licensing agent  operable to (a) provide a customer with a first set of enterprise licensable features and/or capacities and a second set of non-enterprise licensable features and/or capacities, with the enterprise licensable features and/or capacities, but not non-enterprise licensable features and/or capacities, being allocable freely by the customer among first and second computational components; (b) receive a first allocation of the members of the first set between the first and second computational components; and (c) generate first and second licenses reflecting the first allocation. The first license is for the first computational component and the second license is for the second computational component.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08229858&OS=08229858&RS=08229858
owner: Avaya Inc.
number: 08229858
owner_city: Basking Ridge
owner_country: US
publication_date: 20050204
---
This application claims the benefits under 35 U.S.C. 119 of U.S. Provisional Patent Application Ser. No. 60 615 432 filed Sep. 30 2004 of the same title and to the same inventors which is incorporated herein by this reference.

Cross reference is made to U.S. patent application Ser. No. 10 231 957 filed Aug. 30 2002 entitled Licensing Duplicated Systems Ser. No. 10 232 507 filed Aug. 30 2002 entitled License File Serial Number Tracking Ser. No. 10 232 508 filed Aug. 30 2002 entitled License Modes in Call Processing Ser. No. 10 231 999 filed Aug. 30 2002 entitled Flexible License File Feature Controls Ser. No. 10 232 906 filed Aug. 30 2002 entitled Remote Feature Activator Feature Extraction Ser. No. 10 232 647 filed Aug. 30 2002 entitled Software Licensing for Spare Processors Ser. No. 10 348 107 filed Jan. 20 2003 entitled Remote Feature Activation Authentication File System Ser. No. 10 387 182 filed Mar. 11 2003 entitled Temporary Password Login Ser. No. 10 811 412 filed Mar. 25 2004 entitled Global Positioning System Hardware Key for Software Licenses and Ser. No. 10 956 861 filed Sep. 30 2004 entitled Certificate Distribution Via License Files each of which is incorporated herein by this reference.

The invention relates generally to software and or hardware and particularly to enterprise wide licensing.

In the licensing of software for an enterprise there is a need to issue the customer a license for software that specifies the number of users or simultaneous instances of the software the enterprise is allowed to have. Once the customer has the license for the enterprise there is a need for the customer to be able to use the enterprise license to activate users software instances while keeping the users software instances within the limits of the enterprise license. This needs to be performed in the customer s environment without communication with the software vendor so that the customer can operate autonomously within the bounds of the enterprise license. For example if the enterprise license allows 100 copies of the software to run at a time the customer needs to be allowed to activate 100 instances of the software while being blocked from activating the 101st instance of software. For many applications constant network communication with the enterprise license server is not possible or practical. Therefore the licenses generated for users software instances need to be persistent and continue to operate even when contact with the enterprise license server is lost or otherwise not available. This is the case with telecommunications enterprise wide licensing where the licensing of mission critical voice communication systems needs to continue unabated even if communication to the enterprise license server is lost.

One licensing method is described in copending U.S. patent applications entitled Securing Feature Activation in a Telecommunication System Ser. No. 09 357 679 filed Jul. 20 1999 to Serkowski Securing Feature Activation in a Telecommunication System Ser. No. 09 357 679 filed Jul. 20 1999 to Serkowski License Modes in Call Processing Ser. No. 10 232 508 filed Aug. 30 2002 Remote Feature Activator Feature Extraction Ser. No. 10 232 906 filed Aug. 30 2002 Flexible License File Feature Controls Ser. No. 10 231 999 License File Serial Number Tracking Ser. No. 10 232 507 Licensing Duplicated Systems Ser. No. 10 231 957 Software Licensing for Spare Processors Ser. No. 10 232 647 Temporary Password Login Ser. No. 10 387 182 and Ironclad Notification of License Errors Ser. No. 10 405 176 each of which is incorporated herein by this reference and is currently being implemented commercially in Communication Manager by Avaya Inc. A valid license file is required to run a computational component. The license file contains a hardware serial number that must be present on the hardware that is to execute the licensed software for the license to be valid and the software to be executable. This hardware serial number confirms that a single license is used to enable a single instance of software. This licensing method requires the licensed application to be in continuous contact with the enterprise license server. The license server issues a license that must be updated or checked periodically such as once every 10 minutes .

There are different solutions that may be employed when a license fails an update or check. If the license update or check is not possible such as due to loss of network communications the license server may release the license and make the user seat software instance available for use by another user. On the application side if the license update or check fails the application either continues to run with an alarm or stops operation. If the application continues to run without a license update or check then there is a potential for license abuse since the same license can be used multiple times. If the application ceases to operate due to a failed license update or check the software user is denied service even though a seat software instance is available. Neither of these solutions is satisfactory in most situations.

In the licensing of software for an enterprise there is a further need to track licensing information at both the enterprise and individual software element levels. For example the total number of ports for a telecommunications system may be tracked at the enterprise level whereas platform type serial number and individual software feature right to use settings may need to be tracked at the lower level of an individual software element. In addition to tracking licensing information at both the enterprise and software element levels a method is needed for establishing a relationship between the individual software elements and the license record for the enterprise to which they belong. For maximum flexibility in the software licensing options that a software company may want to offer their customers software licensing parameters e.g. software release individual features and capacities need to be controllable at either level. Ideally a method would be provided to allow moving an individual licensing parameter on a specific licensed system from one level to the other.

These and other needs are addressed by the various embodiments and configurations of the present invention. The present invention is directed generally to customer configurable enterprise wide licensing techniques and data structures used therewith.

In a first embodiment the present invention provides a customer with a first set of enterprise licensable features and or capacities and a second set of non enterprise licensable features and or capacities. The enterprise licensable features and or capacities but not non enterprise licensable features and or capacities are allocable freely by the customer among the various computational components of the enterprise network. For example a customer can distribute an enterprise feature and or feature capacity among the computational components in the enterprise in a first manner and later redistribute them in a second different manner. By paying a higher fee than is paid for a non enterprise or single system license the customer can purchase the right to designate members for the enterprise licensable features and or capacities and allocate them among the enterprise computational components in whatever manner he desires. After payment of appropriate charges a feature becomes an enterprise feature and the customer can move freely such features and or capacities between the enterprise and non enterprise licensable feature and or capacity sets. For example a customer can pay for the right to designate ten features and or capacities as enterprise licensable features and can elect at different times to have different features and or capacities as designated members of the ten features and or capacities.

In another embodiment persistent licenses are generated in the customer telecommunications environment to solve the problem of licensing operation during loss of communication with the master license server. An enterprise license for the customer s enterprise is generated by and delivered from a remote feature activation system of the manufacturer. The enterprise license is then installed on a customer master license server. The customer can allocate features and capacities to enterprise media servers and the remote feature activation system or master license server generates licenses for the media servers that reflect the allocations. Once generated these allocation licenses are installed on the media servers. The allocation licenses are persistent in that they do not require periodic updates from the master license server and the media servers continue to operate even if communication is lost with the license server. The capacity allocated to a given media server is not returned for use by other media servers unless a new allocation license is installed on the media server with the capacity removed. Using this methodology communication between the master license server and the licensed application is required only when license changes are needed. During a network outage allocation license changes cannot be made but the allocation licenses persist through the outage. Moreover allocation license generation in the customer enterprise is possible without contact with the software vendor manufacturer and enterprise license limits can be readily enforced.

This approach to enterprise licensing may be susceptible to license abuse unless proper security measures are in place. These security measures include two way authentication between the remote feature activation system master license server and media server using PKI certificates node locking for the master license server to a specific instance of hardware and node locking the allocation licenses to specific media server hardware.

In yet another embodiment hierarchical relationships between system records for individual hardware and or software elements and enterprise records for the entire customer enterprise or a collection of hardware and or software elements are established via linking unlinking system records to from enterprise records. When a new software element is added linked to an enterprise for example all of the features capacities present on the system record of the newly linked element are added to the licensing record for the enterprise. By way of illustration if a system record with 100 ports is linked to an enterprise that currently has 1 000 ports the enterprise record is updated automatically to reflect a total of 1 100 ports available across the enterprise. This automated ability to promote features to the enterprise level when system records are linked to enterprise records can ensure that the customer is given all of the features capacities to which they are entitled. Such entitlements can be due to purchases at either the software element or enterprise level. The removal unlinking of a software element from an enterprise is a reverse of the process described i.e. the features and capacities in the unlinked system record are subtracted from the enterprise record . The linking unlinking of records allows customers to freely move individual software elements in and out of enterprises or even between enterprises. It provides the flexibility to control individual license parameters at either the system record or the enterprise record level. For a license parameter to be controlled at the enterprise level it need only appear in the enterprise record. License parameters that appear only at the system record level are controlled at the level of the associated software element. If a license parameter should appear at both levels it is handled as noted above with regard to linking and unlinking of records. The ability to support an individual licensing parameter as both a system record parameter and an enterprise record parameter allows features to be offered to customers at either the enterprise or software elements levels. Additionally with the capability of moving an individual feature for an individual customer between levels customers have maximum flexibility in software licensing. For example a customer with an enterprise license can add a new software feature or capacity to the enterprise record and automatically promote this feature as it appears in the linked system records to an enterprise feature.

The above described embodiments and configurations are neither complete nor exhaustive. As will be appreciated other embodiments of the invention are possible utilizing alone or in combination one or more of the features set forth above or described in detail below.

Referring to the remote feature activation or RFA system comprises a remote feature activator to supervise creation encryption and delivery of master enterprise license files to enterprise master license servers a license generation agent that generates digitally signed standard and master license files and in one implementation allocation license files in response to requests from the RFA system and a plurality of data structures each of which corresponds to a licensed customer enterprise network. A cryptographic agent not shown generates public private key pairs that are included in the master and or standard license files.

The RFA system is in communication via network and business application programming interface with an enterprise resource manager serial number database and an order database . The operation of the ERM is discussed in detail in copending U.S. application Ser. No. 10 232 507 entitled License File Serial Number Tracking . The ERM is configured to cause the addition update modification and validation of entries in the databases and based on predetermined rules or policies. The ERM can be any suitable enterprise resource planning software such as ERP or Enterprise Resource Planning software sold by SAP. The serial number database comprises a plurality of records corresponding to hardware e.g. processors or IP services interface cards sold to customers. In particular the database typically includes a serial number serial number status or licensing state client or purchaser material code s e.g. a material code in SAP that defines the hardware having the serial number an Enterprise System ID or ESID that identifies uniquely the enterprise that is the subject of the record a System record ID or SID that identifies a system defined by one or media servers and a Module ID or MID that identifies a media server in a system. The combination of the SID and MID identify uniquely a media server in a network. The order database comprises a plurality of records associated with hardware and software corresponding to each customer order. Each order entry typically includes an order number customer name address and contact information and a series of quantity material code and description fields identifying the contents of each order. The databases and their associated data structures are further described in copending U.S. patent application Ser. No. 10 232 906 filed Aug. 30 2002 entitled Remote Feature Activator Feature Extraction .

The data structures include a plurality of enterprise records each of which corresponds to a different enterprise network. Each of the enterprise records is linked to a plurality of corresponding system records and defines the customer s enterprise licensing information including the enterprise feature capacities. A system record is a database record that defines the licensing information for a customer media server. The system record is identified by the SID with which the media server corresponding to the system record is identified. Material code mapping tables are used to convert customer orders into licensing records and provide controls to define for each licensing parameter whether it applies to system records enterprise records or both.

The enterprise record typically includes the following information the ESID corresponding to the associated enterprise customer and general information and enterprise information e.g. enterprise description location of the master license server unique hardware identification number for the master enterprise license file e.g. the host identifier or Media Access Control or MAC address of the master license server the licensed applications the enterprise features and capacities for each licensed application the expiration date s of the license s the master enterprise license file delivery history and the SIDs e.g. the pointers to the various system records for the media servers included in the enterprise .

Each system record commonly includes the following information the ESID for the corresponding enterprise which acts as a pointer to the corresponding enterprise record for that enterprise a unique hardware identifier of Media Access Control address of and or serial number of the processor associated with the corresponding media server the SID assigned to the media server corresponding to the system record and the media server identifier MID within the system identified by the SID the licensed enterprise and non enterprise applications the enterprise and non enterprise features and settings for each of the licensed applications and the expiration date s of the license s .

Type I II and III features are eligible for enterprise wide licensing. As discussed in copending U.S. application entitled Flexible License File Feature Controls the three types of features are Type I features which are activatable Type II features which have a value feature range defined numerically by V1 and V2 and a value setting in the range of V1 to V2 Type III features which have a product value e.g. corresponding to a product name or type a release number e.g. referring to a product release identifier and numeric value s defined by V1 and V2 and a value setting in the range of V1 and V2 . A Type III feature allows other applications to be executed. Examples of Type I features include abbreviated dialing enhanced list audible message waiting vectoring answer supervision by call classifier ATM trunking agent states dial by name DCS call coverage echo cancellation multifrequency signaling wideband switching Digital Communication System or DCS call coverage audible message waiting vectoring attendant vectoring Asynchronous Transfer Mode or ATM WAN spare processor ATM dial by name echo cancellation multimedia call handling multiple call handling caller identification multifrequency signaling Integrated Services Digital Network or ISDN network call redirection centralized attendant remote office enhanced Direct Inward Dialing or DID routing survivable remote processor time of day routing tenant partitioning hospitality announcements Vector Directory Number or VDN of origin announcement wideband switching and wireless. Examples of Type II features include logged in agents offer category maximum numbers of concurrently registered IP stations administered IP trunks ports and concurrently administered remote office stations trunks call center release logged in automated call distribution or ACD agents maximum currently registered IP stations maximum administered IP trunks offer category maximum number of ports maximum number of administered remote office trunks and maximum number of mobile stations. Examples of Type III features include IP softphone registration.

The linkage of system records to enterprise records permits licensing records to be maintained at two different levels namely the enterprise and computational component or media server levels. Stated another way a hierarchical relationship is established between the enterprise record and its corresponding system records . The relationship permits enterprise administrators or customers to promote demote features and or capacities between the enterprise and non enterprise levels. In other words a selected feature and or capacity for a first customer can be an enterprise level feature and or capacity and for a second customer can be a non enterprise level feature and or capacity.

The logical relationships or links are established pursuant to a number of rules including a given system record shall be linked to no more than a single enterprise record a given enterprise record can have any number of system records linked to it a system record is linked to an enterprise record only if the system record is eligible for enterprise wide licensing and a system record can only be linked to an enterprise record if one or more of the applications in the enterprise record are present in the system record.

Because of the logical relationships established between enterprise and system records when a new system element such as a media server is added to an enterprise and its associated system record linked to the enterprise record all of the features capacities present on the system record of the newly linked element are added to the licensing record for the enterprise. This concept is illustrated in . When the enterprise record was originally created the enterprise feature FEAT ON OFF which is an activatable enterprise feature had a value of 1 and the capacity enterprise feature VALUE CAPACITY a value of 1000. It is later linked to three system records and and as a result the originally assigned values are adjusted in the modified enterprise record . The value for the feature is the value in the original enterprise record incremented by 1 for each linked system record that has the same feature activated. The feature is activated in system records and but the feature is absent from system record . Accordingly the new value for the feature is 3. The value for the capacity enterprise feature in the modified enterprise record is the value from the original enterprise record plus the values from each system record in the enterprise that has the capacity feature. As can be seen in each of the linked system records and has the same enterprise capacity feature with the value in record being 200 the value in record being 30 and the value in record being 4. The mathematical sum of these values is 1234 as shown in the modified enterprise record . It is important to note that FEAT XYZ is a non enterprise feature and therefore is absent from the enterprise record and . Its presence in the linked system record thus has no impact on the enterprise record even if FEAT XYZ is an enterprise feature in other enterprise records. Features are added to the enterprise record only via a customer order.

The RFA system is further in communication via network with an enterprise network . The enterprise network includes a master license server and a plurality of media servers respectively a network and a terminal .

The media servers can be any converged architecture for directing circuit switched and or packet switched contacts to one or more communication devices. Typically the media server is a stored program controlled system that conventionally includes interfaces to external communication links a communications switching fabric service circuits e.g. tone detectors and generators announcement circuits etc. memory for storing control programs and data and a processor i.e. a computer for executing the stored control programs to control the interfaces and the fabric and to provide automatic contact distribution functionality. Illustratively the media server can be a modified form of Avaya Inc. s Definity Private Branch Exchange PBX based ACD system Avaya Inc. s IP600 LAN based ACD system or an S8100 S8300 S8500 S8700 or S8710 media server running a modified version of Avaya Inc. s Communication Manager voice application software with call processing capabilities and contact center functions. Other types of known switches and servers are well known in the art and therefore not described in detail herein. The media servers can server a variety of functions including acting as a main server local spare processors remote spare processor WAN spare processor primary port network or PPN and enterprise survivable server or ESS.

The master license server can be any system operable to install and distribute licenses. Typically the master license server is a media server having network connectivity to the remote feature activation provisioning system .

The terminal is a computer such as a laptop or PC that is connected to the media servers for user administration of the various system elements in the enterprise network. Administration includes the creation and distribution of allocation licenses as discussed more fully below.

The networks and can be packet switched and or circuit switched. Typically networks and are local area networks while network is a wide area network such as the Internet.

The media servers include a license installation agent to receive and install standard and enterprise allocation license files and the master license server includes a license installation and configuration agent that receives from the remote feature activation system and installs on the server standard and master enterprise license files and and forwards standard license files and generates and forwards enterprise allocation license files to media servers . In the configuration of for example the remote feature activation system could provide four licenses files to the master license server namely the master enterprise license file and three standard license files one for each of the license server and media servers . As will be appreciated the standard licenses may be distributed by enterprise administration the remote feature activation system manually and or independently of the master license server .

The master enterprise license file defines the total enterprise feature capacities for the enterprise. The master enterprise license file includes the following information the ESID for the enterprise network unique hardware identifier of Media Access Control address of and or serial number of the processor associated with the master license server in the corresponding enterprise network the SIDs and MIDs of the various media servers in the enterprise network the licensed enterprise applications the enterprise features and settings for each of the licensed enterprise applications and the expiration date s of the licenses. The master enterprise license file and standard license files include the features and maximum feature capacities that can be allocated to primary and media servers in the licensed enterprise. Because the enterprise licensable features are not associated with a single media server the enterprise has portability of the capacities between all the media servers in the enterprise. The license files include a numerical value setting corresponding to the number of media servers in the enterprise on which the customer is allowed to have each of the Type I features activated and a numerical value corresponding to the total enterprise capacity that the customer is allowed to have for each Type II and III capacity features. As will be appreciated the standard license file can be merged into the master enterprise license file so that only a single license file is installed on the master license server.

The standard license file enables the telecommunications application to run on each of the computational components in the enterprise network . The standard license file enables the host computational component software to run and enables enterprise wide licensing on a given media server. The standard license file is required by computational components whether or not they participate in enterprise wide licensing.

The enterprise allocation license file defines the enterprise features and feature capacity allocations for the host media server. The allocation license file typically includes the following information the ESID for the enterprise network the unique hardware identifier of the master license server the SID and MID of the corresponding media server the licensed enterprise applications for the corresponding media server the allocated enterprise features and settings for each of the licensed enterprise applications in the corresponding media server the expiration date of the allocation license. Allocation license files are given an expiration date such as thirty days after generation to prevent use of the software in violation of the license terms. Periodically the master license server and or remote feature activation system must generate and install a new allocation license good for thirty more days.

Although the master enterprise and enterprise allocation license files on the one hand and the standard license files on the other include the enterprise features and feature capacity allocations the feature and feature capacity allocations in the master enterprise and enterprise allocation license files take precedence in the event of conflict with or supersede the information for the enterprise features and feature capacity allocations in the standard license files. This rule permits a customer to move freely features and feature capacity allocations to and from the enterprise and non enterprise levels.

To facilitate user configuration of the allocation licenses the agent provides a Graphical User Interface or GUI to the user. The GUI permits the user to view information in the master enterprise license file such as the ESID SIDs MIDs expiration date of the master enterprise license file applications covered by the master enterprise license file enterprise feature states whether the feature is enabled or disabled values and capacities and allocation license duration. The user can further view the number of media servers in the enterprise with each Type I on off or activatable enterprise feature currently activated the available quantity remaining for each activatable enterprise feature the total allocated capacity for each enterprise capacity feature the available capacity remaining for each enterprise capacity feature and the percent utilization for each enterprise feature. For the displayed usage level for each enterprise capacity feature the GUI provides the date time that the usage data was collected. The GUI enables the user to allocate enterprise features and capacities to any of the media servers in the licensed enterprise network subject to a number of selected rules. The rules include the total number of media servers with a given activatable enterprise feature activated cannot exceed the value defined in the master enterprise license file the total allocated capacity for each enterprise capacity feature cannot exceed the total capacity for that feature as defined in the master enterprise license file allocated enterprise feature capacity cannot be less than current usage for that feature on a media server enterprise feature capacity can only be allocated to a system whose SID appears in the master enterprise license file the allocation of enterprise features and capacities to spare media servers in a system shall be identical to the allocation to the corresponding main media server and the calculation of the total allocation for a given feature shall be based only on the allocations to main servers or the allocation to spare media servers shall not be counted against the total allocation for the enterprise .

Other aspects of the architecture are described in the copending applications referenced above and incorporated herein by this reference.

The process for generating and installing standard and master enterprise license files on the master license server will now be described with reference to .

In step the remote feature activation system creates system records for all servers and in the enterprise network using orders one order per system record . A unique hardware ID such as a processor serial number is added to each system record.

In step the system creates an enterprise record for the enterprise using an order and adds to the record the unique hardware identifier associated with each master license server.

In step the system records are linked to the corresponding enterprise record. After the records are linked the standard and master enterprise license files are generated by the license generation agent .

In step the application software e.g. Avaya Inc. s Communication Manager or Multi Vantage software is installed on the master license server . As part of this step and where the master license server is co resident on a media server the remote feature activator delivers the standard license file to the license installation and configuration agent in the master license server and the agent unpackages and installs the standard license file so that the master license server can run the application software. The master license server is selected to have network access to all of the media servers in the enterprise network.

In step the activator delivers the master enterprise license file to the license installation and configuration agent in the master license server .

In step the agent unpackages and installs the master enterprise license file . The installation process is discussed below with reference to .

In step after the master license server is enabled by the installed master enterprise license file the application software is installed on the media servers .

In step an appropriate standard license file is delivered to the license installation agent in each of the media servers . The agent unpackages and installs the standard license file so that the application software can run. To generate an allocation license file the agent after receiving input from the customer generates in one configuration an allocation license request and forwards the request to the remote feature activation system where an allocation license is generated by the license generation agent . Allocation license requests include the ESID for the enterprise the SID and MID associated with the media server that will be the subject of the allocation license the expiration date of the allocation license and the enterprise feature allocations and settings including those requested by the customer. The request includes all of the active features contained in the master enterprise license file. In the feature mask of the allocation license file Type I feature settings are locked and Type II and III feature settings have V1 equal to V2. In another configuration the agent generates allocation license files without involvement of the remote feature activation system .

In step enterprise network connectivity is configured for the media servers using techniques known to those of ordinary skill in the art.

In step enterprise features and capacities are allocated by the customer to each of the primary media servers in the enterprise network . In response to user input the license installation and configuration agent in the master license server generates appropriate allocation license files for each of the affected media servers. The process to install an allocation license file on a media server is discussed below with reference to .

When the file is received the agent unpackages the license file and in decision diamond determines whether the license file is valid readable and in the proper format.

When the license file is valid readable and properly formatted the agent in decision diamond determines whether the hardware ID in the file matches the hardware ID of the license server .

When the hardware ID s match the agent in decision diamond determines whether the feature and capacity limits in the master enterprise license file are less than the current allocations in the enterprise network .

When the feature and capacity limits are not less than the current allocations the agent in decision diamond determines whether the master enterprise license has expired. This is done by comparing the expiration date in the license file with the system clock of the license server.

When the license is not expired the agent in decision diamond determines if the license generation date is before within some tolerance the current date on the system clock of the license server .

If so and after all of the other checks are successful the agent finds in step the installation of the master enterprise license file to be successful.

When any of the checks is not successful the agent finds in step the installation of the master enterprise license file to be unsuccessful.

The distribution of allocation license files will now be discussed with reference to . The figure assumes that the allocation license file has been received by an agent in a media server . Although these steps are described as being performed by the agent they could alternatively or additionally be performed by the agent in the master license server before distribution to the media server identified in the license file.

In decision diamond the agent determines whether the corresponding media server already has installed a valid standard license file .

When a valid standard license file exists the agent in decision diamond determines whether enterprise licensing is activated in the standard license file .

When enterprise licensing is activated the agent in decision diamond determines whether the digital signature on the allocation license file is valid. This is done by decrypting the digital signature using the public key in the public certificate of the digitally signing entity which is commonly the remote feature activation system and confirming that the decrypted hash value is correct.

When the digital signature is verified successfully the agent in decision diamond determines whether the enterprise and system identification information e.g. ESID SID and MID of the media server in the allocation license match the enterprise and system identification information in the standard license .

When the enterprise and system identification information matches the same information in the standard license the agent in decision diamond determines whether the system is currently in a license error or no license mode due to a hardware ID mismatch.

When the system is not currently in a license error or no license mode the agent determines in decision diamond whether the allocation license is expired.

When the allocation license is not expired the agent in decision diamond determines whether the generation date of the allocation license is past the current time on the media server by more than a specified limit.

When the generation date of the allocation license is not past the current time on the media server by more than a specified limit the agent in decision diamond determines whether installation of the allocation license file will cause a license error on the system. For example a license error can be caused by a feature limit being exceeded. When a feature and or capacity limit will be exceeded the customer must increase the feature and or capacity limit in the allocation license file for the media server.

If so and after all of the other checks are successful the agent finds in step the installation of the allocation license file to be successful.

When any of the checks is not successful the agent finds in step the installation of the master enterprise license file to be unsuccessful.

A number of variations and modifications of the invention can be used. It would be possible to provide for some features of the invention without providing others.

For example in one alternative embodiment the various modules referenced herein are implemented as software hardware e.g. a logic circuit or a combination thereof.

In another alternative embodiment the division of the various functions performed by the various modules in the enterprise licensing system is different.

In other embodiments the present invention is used to license computational components such as software and or hardware distributed in an enterprise network other than media servers. Examples of such components include personal computers laptops packet switched and or circuit switched communication devices such as IP hardphones digital phones and Personal Digital Assistants gateways voice messaging servers instant messaging servers email servers adjunct processors and peripherals such as printers .

The present invention in various embodiments includes components methods processes systems and or apparatus substantially as depicted and described herein including various embodiments subcombinations and subsets thereof. Those of skill in the art will understand how to make and use the present invention after understanding the present disclosure. The present invention in various embodiments includes providing devices and processes in the absence of items not depicted and or described herein or in various embodiments hereof including in the absence of such items as may have been used in previous devices or processes e.g. for improving performance achieving ease and or reducing cost of implementation.

The foregoing discussion of the invention has been presented for purposes of illustration and description. The foregoing is not intended to limit the invention to the form or forms disclosed herein. In the foregoing Detailed Description for example various features of the invention are grouped together in one or more embodiments for the purpose of streamlining the disclosure. This method of disclosure is not to be interpreted as reflecting an intention that the claimed invention requires more features than are expressly recited in each claim. Rather as the following claims reflect inventive aspects lie in less than all features of a single foregoing disclosed embodiment. Thus the following claims are hereby incorporated into this Detailed Description with each claim standing on its own as a separate preferred embodiment of the invention.

Moreover though the description of the invention has included description of one or more embodiments and certain variations and modifications other variations and modifications are within the scope of the invention e.g. as may be within the skill and knowledge of those in the art after understanding the present disclosure. It is intended to obtain rights which include alternative embodiments to the extent permitted including alternate interchangeable and or equivalent structures functions ranges or steps to those claimed whether or not such alternate interchangeable and or equivalent structures functions ranges or steps are disclosed herein and without intending to publicly dedicate any patentable subject matter.

