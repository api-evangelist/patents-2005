---

title: System and method for applying an OMA DRM permission model to JAVA MIDP applications
abstract: A system and method of applying a permission model to an application operating on a mobile electronic device. When an application is launched on the mobile electronic device, it is determined whether the mobile electronic device possesses execution rights for the application. If the mobile electronic device does not possess valid execution rights for the application, the application is closed. If valid execution rights for the application expire after the application has been launched, a system is provided to inform the user that the rights have expired. The application with expired rights is then closed, unless the user obtains a new and valid rights object for the application.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07600265&OS=07600265&RS=07600265
owner: Nokia Corporation
number: 07600265
owner_city: Espoo
owner_country: FI
publication_date: 20050309
---
The present invention relates to digital rights management and device management. More particularly the present invention relates to use of permission models in electronic devices using JAVA MIDP technology.

Open Mobile Alliance OMA Digital Rights Management DRM is a technology that allows control over the consumption of various media objects such as ring tones images and other objects by mobile terminals. DRM is a term used to describe a range of techniques that use information about rights and rights holders to manage copyright material and the terms and conditions on which the material is made available to users. More specifically DRM involves the description layering analysis valuation trading and monitoring of an owner s property rights to an asset. DRM covers the management of the digital rights to the physical manifestation of a work e.g. a textbook or the digital manifestation of a work e.g. an Internet web page . DRM also covers the management of an asset whether the asset has a tangible or an intangible value. Current DRM technologies include languages for describing the terms and conditions for an asset tracking asset usage by enforcing controlled environments or encoded asset manifestations and closed architectures for the overall management of the digital rights.

In OMA DRM technology control is exercised by supplementing each media object with a rights object. The rights object defines rules according to which the media object is consumed. With some adjustments this technology can also be applied to Java Mobile Information Device Profile MIDP applications. MIDP provides the core application functionality required by mobile applications including the user interface network connectivity local data storage and application lifecycle management. This functionality is packaged as a standardized Java runtime environment and set of Java technology application programming interfaces APIs .

Currently OMA DRM is not used for the protection of Java MIDP applications. Before OMA DRM can be used for such protection a system and method is needed for applying the OMA DRM permission model to applications. This includes both the selection of applicable permissions and the definition of rules for the enforcement of these permissions

According to the principles of the present invention among permissions defined in OMA DRM specifications only execute is applied to MIDlets which are applications which operate on mobile devices. Any of three constraints together or separately defined in the OMA DRM specifications can be used in conjunction with the execute permission. Permission enforcement occurs generally as follows Permissions and constraints are checked each time a MIDlet is launched. If execution rights are found to be invalid a MIDlet is not permitted to be launched. In the event that execution rights expire while the MIDlet is still running the MIDlet is closed and the user is notified with a special prompt and or the application at issue is closed. The user may also be provided with the opportunity to request a new rights object. In this case the MIDlet is put into a paused states until rights arrive.

With the present invention usage of OMA DRM is possible for the protection of MIDlet suites which is not possible with conventional systems. Additionally the present invention also ensures that no application is permitted to continue operating after its execution rights have expired.

These and other objects advantages and features of the invention together with the organization and manner of operation thereof will become apparent from the following detailed description when taken in conjunction with the accompanying drawings wherein like elements have like numerals throughout the several drawings described below.

For exemplification the system shown in includes a mobile telephone network and the Internet . Connectivity to the Internet may include but is not limited to long range wireless connections short range wireless connections and various wired connections including but not limited to telephone lines cable lines power lines and the like.

The exemplary communication devices of the system may include but are not limited to a mobile telephone a combination PDA and mobile telephone a PDA an integrated messaging device IMD a desktop computer and a notebook computer . The communication devices may be stationary or mobile as when carried by an individual who is moving. The communication devices may also be located in a mode of transportation including but not limited to an automobile a truck a taxi a bus a boat an airplane a bicycle a motorcycle etc. Some or all of the communication devices may send and receive calls and messages and communicate with service providers through a wireless connection to a base station . The base station may be connected to a network server that allows communication between the mobile telephone network and the Internet . The system may include additional communication devices and communication devices of different types.

The communication devices may communicate using various transmission technologies including but not limited to Code Division Multiple Access CDMA Global System for Mobile Communications GSM Universal Mobile Telecommunications System UMTS Time Division Multiple Access TDMA Frequency Division Multiple Access FDMA Transmission Control Protocol Internet Protocol TCP IP Short Messaging Service SMS Multimedia Messaging Service MMS e mail Instant Messaging Service IMS Bluetooth IEEE 802.11 etc. A communication device may communicate using various media including but not limited to radio infrared laser cable connection and the like.

According to the principles of the present invention among permissions defined in the OMA DRM specifications only execute is applied to MIDlets. Any of the constraints together or separately defined in the OMA DRM specifications can be used in conjunction with the execute permission. Permission enforcement occurs generally as follows. Permissions and constraints are checked each time a MIDlet is launched. If execution rights are found to be invalid a MIDlet is not permitted to be launched. In the event that execution rights expire while the MIDlet is still running the MIDlet is closed and the user is notified with a special prompt. Alternatively and instead of having the application close the user may also be provided with the option of requesting a new rights object. In this case the applicaton is put into a paused state until rights arrive.

At step the Java application manager JAM learns that the MIDlet s execution rights have expired by polling the DRM engine. Alternatively at step the DRM engine notifies the JAM that the MIDlet s execution rights have expired. When either steps or occur the JAM learns that the running MIDlet needs to be closed. At step if the MIDlet is not in the foreground when step or occurs the MIDlet is brought to the foreground. If the MIDlet is already in the foreground when the JAM learns that the execution rights have expired then the application proceeds to close at step .

If when the closing begins the MIDlet is displaying a Canvas based screen then at step a Canvas.hideNotify instruction is called to let the MIDlet know about the loss of control over the terminal display. A prompt can then be provided to the user indicating that execution rights are no longer active. The message can declare that rights for this MIDlet expired for example. If the MIDlet is protected using an OMA DRM forward lock or combined delivery protection method the prompt includes a single Close command at step in . When the user selects this command at step the MIDlet is closed at step . This is accomplished by having the JAM call the MIDlet.destroyApp true instruction. Alternatively the closing can occur automatically without a close command being presented to the user. Once the application is closed the user is notified about the closing. The user is then not permitted to launch any more MIDlets from the suite to which the closed MIDlet belongs.

On the other hand if the MIDlet is protected using an OMA DRM separate delivery protection method a prompt including two commands Get Rights and Close is provided at step . If the user selects the Close prompt at step the JAM closes the MIDlet at step by calling the MIDlet.destroyApp true instruction. After this is completed the user is not permitted to launch any more MIDlets from the suite to which the closed MIDlet belongs. However the user is still capable of requesting additional rights for the suite.

If the user selects the Get Rights prompt at step on the other hand a browser on the terminal is opened and an attempt to contact the URL of the Rights Issuing Service for the particular MIDlet suite is made at step . If the attempt is successful the user has an opportunity to request buy a desired level of rights for the MIDlet suite at step . After rights are requested or if some error has occurred the user closes the browser at step . After the browser is closed the initial prompt changes its appearance to state Waiting for rights to arrive . . . or a similar message and has two commands Request Again and Close. This occurs at step . The Request Again command works in the same manner as Get Rights. The Close command works in the same manner as the corresponding command in the initial prompt. If as represented at step the requested rights object arrives before the user selects either command another prompt saying Rights have arrived usage of application can continue appears at step . At this point all windows obscuring the MIDlet window disappear and the MIDlet continues to run. If the MIDlet displays a Canvas based screen then a Canvas.showNotify instruction is called to let the MIDlet know that it now controls the terminal s display. In each of these scenarios the close function can also occur automatically with options such as Get Rights being presented to the user after the application has been closed.

Implementation of the present invention requires integration between the JAM and the DRM engine software component. The JAM needs to be able to check execution rights whenever a DRM protected MIDlet is launched. In one embodiment of the present invention the JAM also needs to poll the DRM engine while a MIDlet is running to ensure that rights are still valid. Alternatively and as discussed above the DRM engine may instead notify the JAM about expiration of execution rights. The JAM also contains a DRM related user interface such as the prompt shown to the user in cases where execution rights for a running MIDlet expire.

The present invention is described in the general context of method steps which may be implemented in one embodiment by a program product including computer executable instructions such as program code executed by computers in networked environments.

Generally program modules include routines programs objects components data structures etc. that perform particular tasks or implement particular abstract data types. Computer executable instructions associated data structures and program modules represent examples of program code for executing steps of the methods disclosed herein. The particular sequence of such executable instructions or associated data structures represents examples of corresponding acts for implementing the functions described in such steps.

Software and web implementations of the present invention could be accomplished with standard programming techniques with rule based logic and other logic to accomplish the various database searching steps correlation steps comparison steps and decision steps. It should also be noted that the words component and module as used herein and in the claims is intended to encompass implementations using one or more lines of software code and or hardware implementations and or equipment for receiving manual inputs.

The foregoing description of embodiments of the present invention have been presented for purposes of illustration and description. It is not intended to be exhaustive or to limit the present invention to the precise form disclosed and modifications and variations are possible in light of the above teachings or may be acquired from practice of the present invention. The embodiments were chosen and described in order to explain the principles of the present invention and its practical application to enable one skilled in the art to utilize the present invention in various embodiments and with various modifications as are suited to the particular use contemplated.

