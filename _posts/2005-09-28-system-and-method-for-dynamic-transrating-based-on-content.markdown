---

title: System and method for dynamic transrating based on content
abstract: Exemplary techniques for modifying multimedia data based on content are disclosed. One technique comprises determining whether a first portion of multimedia content of multimedia data has a first content characteristic and performing one or more content actions associated with the first content characteristic when the first portion of the multimedia content is determined to have the first content characteristic, wherein the one or more content actions modify a first portion of the multimedia data associated with the first portion of the multimedia content.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07707485&OS=07707485&RS=07707485
owner: VIXS Systems, Inc.
number: 07707485
owner_city: Toronto, Ontario
owner_country: CA
publication_date: 20050928
---
The present disclosure relates generally to data processing and more particularly to processing multimedia information.

Current trends in multimedia content distribution are directed to the storage of multimedia content for subsequent access or distribution. Presently many households utilize personal video recorders PVRs also referred to as digital video recorders DVRs to store multimedia content received from a terrestrial broadcast as digital data. This data then may be accessed at a later date for display or transmission to another device such as a cell phone or a portable video player. Current multimedia storage solutions face a choice of either content quality or storage space. As such these conventional solutions either elect to indiscriminately reduce content quality content thereby reducing the space required to store the data or they elect to retain content quality thereby limiting the amount of data that may be stored in a cost effective manner. Accordingly an improved technique for processing multimedia data for storage or distribution would be advantageous.

The following description is intended to convey a thorough understanding of the present disclosure by providing a number of specific embodiments and details involving modifying multimedia content based on one or more rule sets associated with content characteristics. It is understood however that the present disclosure is not limited to these specific embodiments and details which are exemplary only. It is further understood that one possessing ordinary skill in the art in light of known systems and methods would appreciate the use of the disclosure for its intended purposes and benefits in any number of alternative embodiments depending upon specific design and other needs.

Referring to an exemplary multimedia processing system is illustrated in accordance with at least one embodiment of the present disclosure. As exemplary depicted the system can include a multimedia processing device a content provider and one or more storage devices . The multimedia processing device in one embodiment includes a transrater and a rules template database. Implementations of the multimedia processing device may include for example a set top box a personal versatile recorder PVR a television tuner card a video card and the like. The content provider can include for example a satellite video feed a cable television head in a digital versatile disk DVD drive and the like. The storage device may include for example memory a hard disc a DVD drive and the like.

In operation the multimedia processing device receives multimedia data from the content provider where the multimedia data may be provide in for example an MPEG data stream format. Program information associated with the multimedia data also can be provided with the multimedia data or as a separate transmission. The program information provides an indication or description of the programmatic details of the multimedia data . To illustrate the multimedia data may represent for example a particular football game and the program information therefore can identify the multimedia data generally as a sports program more particularly as a football program and more specifically as for example a NFL football program for a particular television network e.g. Monday Night Football . The program information can include electronic program guide EPG information or information transmitted as closed captioning information during vertical blanking intervals.

Based on the program information the transrater identifies a particular rules template from the rules template database that is applicable to the program type of the multimedia data . Using the example provided above the rules template selected may be a rules template that is applicable to sports programs in general a rules template that is applicable to football games or a rules template that is applicable to the particular type of football game e.g. a college football game or a football game program provided by a particular television network . After identifying the appropriate rules template the transrater analyzes one or more portions of the content of the multimedia data to determine if one or more content characteristics identified by the rules of the rules template are present in an analyzed portion. To illustrate the rules template can include a rule that provides that if the analyzed content portion includes a change in average audio volume that is greater than a given threshold one example of a content characteristic then the bit rate of the content portion is reduced by a provided amount one example of a content action . This rule may be utilized for example to identify the presence of a commercial which often is preceded by a change in volume and if so present the bit rate of the multimedia data representing the commercial content may be reduced so as to reduce the overall amount of multimedia data without materially affecting the multimedia content of the program that a viewer is likely to care about i.e. non commercial content .

If the content characteristic of an applied rule is present in the analyzed portion of the multimedia content the transrater may perform one or more content actions associated with the rule with respect to the multimedia content. For example using the change in volume content characteristic described above a corresponding content action can include for example a reduction in the bit rate of the multimedia data representing the commercial content. As a result the data representing the commercial content can be reduced without materially affecting the user s enjoyment of the program because users typically do not pay as much attention to commercials as they do the remainder of the program and the commercials therefore do not need to be of the same or similar quality as the rest of the program.

The transrater thus can apply the rules template to the multimedia data by analyzing the multimedia content of the data in view of some or all of the rules of the template thereby generating modified multimedia data from the received multimedia data . The modified multimedia data then may be provided for storage in the storage device for subsequent access.

Referring to another exemplary multimedia processing system is illustrated in accordance with at least one embodiment of the present disclosure. As illustrated the system includes the multimedia processing device having an input connected to a storage device and an output connected to at least one multimedia device via a network . In the illustrated example the transrater may access multimedia data stored in the storage device identify the appropriate rules template from the template database using program information associated with the multimedia data and apply the identified template to the multimedia content of the multimedia data to generate modified multimedia data as described above. Further in addition to or instead of providing the modified multimedia data for storage in a local storage device the modified multimedia data may be transmitted for storage in the multimedia device via the network where the network may include for example a wireless network the Internet a universal serial bus USB and the like. Accordingly the modified multimedia data subsequently may be accessed by the multimedia device for processing for display or for transmission to another device.

It will be appreciated that data storage limitations of the multimedia device and or bandwidth limitations of the network may require additional consideration when transrating the input multimedia data to generate the output modified multimedia data so as to comply with these limitations. Accordingly in at least one embodiment the template database may include templates indexed not only by for example program type but also by one or more characteristics of the multimedia device and or the network . For example a given news program may have a plurality of different rules templates that can be applied where some rules templates are directed to portable multimedia devices that have limited storage and other rules templates are directed to multimedia devices or storage devices that have less limited storage or higher bandwidth network connections. Those rules template directed to portable device can have for example rules that have more aggressive data reducing content actions whereas those rule templates directed to high capacity devices can have for example rules that are less aggressive with respect to data reduction and focus more on total image quality.

Table 1 below provides a non limiting list of exemplary rules used to process the content of multimedia data.

Referring to an exemplary implementation of the transrater of is illustrated in accordance with at least one embodiment of the present disclosure. The exemplary transrater includes a rules table identifier module a rules table buffer a content analyzer an input data buffer a transcoder an output data buffer a system layer formatter and an indexer .

In operation multimedia data is received and buffered in the input data buffer . Program information associated with the input multimedia data is provided to the table identifier module . Based on the program information the table identifier indexes the rules table database to identify an appropriate rules table to apply to the incoming multimedia data . The identified rules table can be provided for storage in the table buffer for use by the content analyzer . Alternately an indicator e.g. an address or pointer to the identified rules table may be provided to the content analyzer .

In at least one embodiment the table identifier has access to electronic programming guide EPG information so that the table identifier may identify one or more program types of the incoming multimedia data and identify the rules table accordingly. In at least one embodiment multiple rules tables may be appropriately applied to the multimedia data . In such instances the table identifier module can select the more appropriate template to apply to the multimedia data where the more appropriate template typically is the template aligned with the most specific program type. For example the EPG information may identify the incoming multimedia data as being associated with a sports program in general and a soccer game program specifically. The table identifier module therefore may identify a rules template associated with soccer game programs in particular. If such template is not available the table identifier module alternatively may select a rules template associated with sports programs in general.

Moreover in one embodiment when no rules template is identified based on specific program information the table identifier may select a default rules template. For example if the multimedia data represents a news broadcast from a particular television network for which there is no corresponding rules template in the template database the table identifier module may select a default template that may be generally associated with for example the type of multimedia device that is expected to receive the resulting modified multimedia data.

An exemplary implementation of the rules template is depicted by . As illustrated some or all of the rules templates of the template database may include one or more rules e.g. rules entries also identified as Rule 1 Rule N each rule having a content characteristic descriptor e.g. content characteristic descriptors CC CCfor rule entries respectively and one or more content action descriptors CA associated with each content characteristic descriptor. The content characteristic descriptors typically represent a content characteristic which if found in an analyzed content portion results in the performance or the avoidance of the performance of one or more content actions represented by the one or more content action descriptors. The content characteristic descriptors typically include information describing a characteristic of the multimedia content such as for example a descriptor indicating that if an optical character recognition analysis of the top portion of successive frames indicates that the score of a game has changed . The content characteristic descriptors may include for example microcode a pointer to a memory location storing a routine for performing the one or more content actions or information used in processing the multimedia data such as for example a quantization scaling factor or a resolution scaling factor to be applied by the transcoder .

Each rule further may include a link field to indicate if the rule is linked to any other links and a link type field to indicate the type of link e.g. an AND relationship or an OR relationship . For example Rule 1 may be linked to Rule 2 in an AND relationship whereby if the content characteristic of Rule 1 is found the content characteristic of Rule 2 also must be found before the content actions of Rule 1 can be performed. As another example Rule 1 may be linked to Rule 2 in an OR relationship whereby if the content characteristic of Rule 1 is identified as present in the analyzed content portion Rule 2 is not to be applied to the content portion.

Although the exemplary rules described above have a condition the presence of the content characteristic before the corresponding one or more content actions can be performed in at least one embodiment one or more of the rules may be unconditional rules whose content action s are always performed without a corresponding condition being met. For example for multimedia content representing a new program the image portion of successive frames that represents for example a stock ticker can be transrated so as to automatically reduce the image portion s resolution with an analysis of the content of the image portion.

The content analyzer in one embodiment analyzes the multimedia content of the multimedia data in view of some or all of the rules of the rule template . Accordingly in one embodiment the content analyzer obtains rule information from the table buffer or alternatively from the template database directly and analyzes the content of the multimedia data to determine if content characteristics associated with the applied rules are present in one or more portions of the multimedia content.

In some instances the content analyzer can analyze the multimedia data for certain content characteristics while the multimedia data is in encoded form. To illustrate an exemplary content characteristic to be identified can be an amount of motion between successive frames that is greater than a certain threshold. In this case the content analyzer may analyze for example the motion vector information of the encoded multimedia data to determine if there is substantial motion between image frames. However in other instances identifying certain content characteristics can require that the multimedia data be in decoded form. For example in one embodiment the content characteristic may be the identification of the word goal in the audio content of the multimedia data . In this case the content analyzer typically would access decoded audio information to perform an audio analysis for the word goal . Accordingly the transcoder may decode some or all of the multimedia data and store the decoded multimedia data in a frame buffer exemplary illustrated as part of the data buffer . The content analyzer then may access the decoded multimedia data in the frame buffer to perform the content analysis.

The portion of the content of the multimedia data analyzed for any particular content characteristic typically is dependent on the particular characteristic. To illustrate the content characteristic of a change in displayed text representing for example a score or a stock value may be identified by an OCR analysis of a certain segment of two successive image frames. Thus the content portion for this characteristic would be two or more frames. As another example the content characteristic may be the presence of a yellow line indicating the line of scrimmage in a football game. In this instance the yellow line may be detected by analyzing a particular portion of a single image frame e.g. the center column of an image frame . In this case the analyzed content portion can include the center column of the image frame.

In the event that the content analyzer detects that a content characteristic of a rule is present in an analyzed portion of the multimedia data the content analyzer provides the transcoder an indication of the one or more content actions to be performed. The transcoder then processes some or all of the multimedia data in accordance with the content actions to generate modified multimedia data . The multimedia data then may be stored in the outgoing data buffer before it is formatted for transmission as for example an MPEG program stream by the system layer formatter .

In at least one embodiment a content action to be performed includes embedding a content characteristic index in the modified multimedia data where the content characteristic index identifies the corresponding portion of multimedia data as representing multimedia content having the indicated content characteristic. For example the content analyzer may analyze the audio content of the multimedia data to identify rapid increases in the average volume of the audio. In the event that such an average volume increase is found the corresponding content action can include inserting a content characteristic that identifies the multimedia data portion representing for example the next thirty seconds of content as a commercial. Thus the multimedia data subsequently can be rapidly searched to identify the data associated with commercial content and this content may be filtered by for example removing the commercial content reducing the audio volume of the commercial content reducing the resolution and or bit rate of the commercial content and the like. Alternately the content action can include the creation of a separate index table to a location of the commercial content.

Accordingly upon identifying a content characteristic present in a portion of the multimedia content that has a corresponding content index action the content analyzer may provide index information to the indexer which then manages the insertion of the appropriate content characteristic index into the multimedia data using for example the system layer formatter .

Referring to an exemplary dynamic transrating method is illustrated in accordance with at least one embodiment of the present disclosure. The method initiates at step whereby multimedia data is received and temporarily buffered. At step the appropriate rules template for the multimedia data is selected based on program information such as for example program type associated with the multimedia data. As noted above there can be a number of rules templates appropriate for application to the multimedia data. In such instances the rules template more aligned with the program characteristics e.g. a rules template specifically for a football game rather than a general sports program template is selected. In the event that a specific rules template is not available or appropriate in one embodiment a default general rules template may be selected.

At step a rule from the selected rules template is accessed and a portion of the content of the multimedia data is analyzed to determine whether the content characteristic associated with the rule is present in the analyzed content portion. If the content characteristic is not present in the analyzed content portion the method continues to step . Otherwise when the content characteristic is present one or more of the content actions associated with the rule are performed at step . In one embodiment rules may be linked using logical operations such as AND operations and or OR operations. Accordingly if so linked the content actions of the rule may not be performed at step until the conditions of other linked rules are confirmed.

At step the rules template is checked to determine if the last rule to be applied has been applied. If not the method repeats steps for the next rule to be applied. If it is determined at step that content portions of the multimedia data have yet to be analyzed the method repeats steps to apply the appropriate rules to the next multimedia content portion to be analyzed.

At step the resulting modified multimedia data is provided for storage in a storage device such as a hard disc or a DVD disc or provided for transmission to one or more multimedia devices such as a cellular phone or PDA via a network. As a result the original multimedia data may be modified so as to reduce its size while retaining suitable content quality.

Other embodiments uses and advantages of the present disclosure will be apparent to those skilled in the art from consideration of the specification and practice of the disclosure disclosed herein. The specification and drawings should be considered exemplary only and the scope of the disclosure is accordingly intended to be limited only by the following claims and equivalents thereof.

