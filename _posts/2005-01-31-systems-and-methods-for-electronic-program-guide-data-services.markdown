---

title: Systems and methods for electronic program guide data services
abstract: EPG services are provided, which enables a device such as a computer, a set top box or the like to collect EPG data from multiple EPG data providers or sources. The EPG data is collected at the device by EPG loaders. Each EPG loader collects EPG data from a particular source. The EPG loaders deliver the EPG data to a writer module, which performs scaling and formatting functions to the EPG data. The writer module also stores the scaled and formatted EPG data in a database or other storage. Once stored, applications gain access to the EPG data through a control module. The writer module may also be implemented by chaining EPG loaders in a priority scheme. However, EPG loader interaction reduces independence and forces more rigid interface and implementation constraints upon the design of EPG loaders. The control module provides the accessed EPG data to the applications. EPG services function to isolate the operation of the applications from the EPG data sources. Because the EPG data is stored by the writer module and accessed by the control module, the applications and EPG data sources can change independently of one another without having an effect on the ability of EPG services to collect and provide access to EPG data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07603687&OS=07603687&RS=07603687
owner: Microsoft Corporation
number: 07603687
owner_city: Redmond
owner_country: US
publication_date: 20050131
---
The present application is a continuation application of commonly assigned U.S. patent application Ser. No. 09 527 313 filed Mar. 16 2000 entitled Systems and Methods for Electronic Program Guide Data Services . That patent application claims priority to United States provisional patent application Ser. No. 60 125 062 entitled Filtering Scaling and Loading of Electronic Guide Data filed Mar. 18 1999 both of which are incorporated herein by reference.

The present invention relates to electronic program guides. More specifically the present invention relates to receiving electronic program guide data from multiple sources to temporal filtering of the Electronic program guide data and to extensible scalability of electronic program guide data.

Electronic program guides EPGs are designed to permit television viewers as well as Internet webcast viewers to browse and select from television listings which are displayed on a television screen. Before being displayed the EPG data is downloaded from an EPG source such as a head end or a server to a destination device such as a television computer or set top box. The EPG source which may receive EPG data from a number of different EPG data providers usually consolidates and encrypts the EPG data before transmitting it to the destination device. In conventional systems the destination device is capable of receiving EPG data from only one EPG data source which indicates that the destination device must accept the format of the EPG data provided by the EPG source. More importantly the EPG data received by a user cannot be tailored to that user s particular tastes.

The ability to retrieve data from a single source in a particular format is not the only drawback of this arrangement. Many destination devices which receive interactive EPG data have limited storage capacity. For this reason the EPG data downloaded from a data broker or source is typically compressed such that the destination device may store more EPG data in the limited storage space. This selective compression is primarily performed however by the EPG data source. This leaves the destination device with the ability to only alter the amount of EPG data downloaded as opposed to the content of the downloaded EPG data.

In addition to being unable to alter the content of the downloaded EPG data a destination device is limited in other significant ways. EPG data from multiple EPG data providers must first be collected and consolidated by a particular EPG source before it is downloaded to a destination device. Destination devices are only capable of receiving EPG data from a single EPG data source. Because destination devices can only receive from one data provider destination devices are limited to a single data transmission format.

Another limitation of current destination devices is that the applications on the destination device that utilize the EPG data must be updated when the EPG data source is changed or altered. Additionally the applications on the destination device must also be updated when the format of the data source is altered or changed. EPG data is currently being transmitted by various EPG data sources across various transport mediums but destination devices are unable to take advantage of these sources and mediums because destination devices are limited to one data provider and one format.

EPG data typically includes a title a description and attributes such as closed captioning rating and the like. EPG data can be collected from in band and out of band television signals HTTP or FTP TCP IP sockets or any other communications protocol. The internet in particular has become a significant source of EPG data. In fact EPG data is expanding to include reviews of programs the names of the actors and other types and classes of information. Much of this information is readily available but destination devices are frequently unable to take advantage of that information because as previously mentioned the destination devices are limited to a particular EPG data source and a particular EPG data format.

It would be an advance in the art for a destination device to be able to receive EPG data from multiple EPG data sources and not be confined to a particular EPG data source or EPG data format. It would also be an advance in the art for a destination device to be able to tailor the content of the EPG data by permitting the EPG data to be scaled both temporally and extensibly. Scaling the EPG data in this manner provides a user at a minimum with EPG data that is tailored to the user.

The present invention provides EPG services which allows destination devices to overcome present limitations by enabling a destination device to receive EPG data from multiple EPG data sources or providers including web sites and other conventional EPG data providers. In order to receive EPG data from multiple EPG data sources a software loader module is loaded or initiated for each EPG data source. The loader module is capable of retrieving EPG data from a particular EPG data source in its native transmission format. The loadable modules interface with an EPG writer module that collects the EPG data from the loader modules and stores the retrieved EPG data locally on the destination device.

The interface or EPG writer module comprises a writer application programming interface API that establishes a standard access point for each loader module. This permits a single EPG writer module to interface with the loader modules of multiple EPG data sources. In this manner a destination device can receive EPG data from multiple EPG data sources which have different transmission mediums and formats because a loader module may be created or adapted to each separate EPG data source. The loader modules may receive EPG data in different formats but all loader modules interface with the EPG writer.

Once the EPG data has been locally stored on the destination device by the EPG writer or the EPG writer API an application may access the EPG data via a controller module which comprises a controller API. The controller API is an interface that allows many different applications to access the locally stored EPG data. The writer API and the controller API also allow applications to be independent of the EPG data sources. This independence allows an application to continue to have access to EPG data even if the EPG source or the format of the EPG data provided by the EPG source is changed.

EPG services also introduces significant scalability to the EPG data. Typically the EPG data stored by EPG services is for a particular time period dictated by the supplier of the EPG data. EPG services allows this time period to be adjustable by a user or an application. For example a device application developer or a user may choose a time period of 2 days to conserve memory on the destination device even if the EPG data source provides a 5 day block of EPG data. A device application developer or a user may also choose to alter the amount of data stored for titles descriptions and other program attributes. The settings selected by a developer or an end user can be applied to a specific channel to favorite channels or to all channels. In other words the EPG data stored by EPG services can be customized to a particular application or user. At a minimum a user is provided with enhanced EPG data listings that can be tailored by the user by many factors including but not limited to content time and geography.

The ability to tailor the content of the EPG data using these attributes significantly enhances how a user may make use of EPG data. For example an application developer or a user may decide to download detailed information for programs occurring in the next two days and to download less detailed information for programs occurring on days three through five. In this example the EPG data is temporally scaled or customized by the application. In addition to being able to temporally scale or filter EPG data EPG services allows EPG data to be scaled by several factors including but not limited to channel richness language and time.

Additional features and advantages of the invention will be set forth in the description which follows and in part will be obvious from the description or may be learned by the practice of the invention. The features and advantages of the invention may be realized and obtained by means of the instruments and combinations particularly pointed out in the appended claims. These and other features of the present invention will become more fully apparent from the following description and appended claims or may be learned by the practice of the invention as set forth hereinafter.

Electronic program guides EPGs are used to convey data to a user. Primarily the data typically transmitted by an EPG data source is related to television programming and may include the titles of the television programs the descriptions of the television programs and other attributes and properties of the television programs. The Epos are usually developed by EPG data providers that are responsible for the content of the EPG data. For instance EPG data provided by an EPG data provider may be devoted exclusively to movie channels or EPG data can be devoted to public or free television channels. Currently a recipient of EPG data is restricted to the format and content of a single EPG data provider.

EPGs however can also be used to convey other types of information such as radio schedules Internet streaming media event schedules information related to the Internet or the content of the Internet. This document focuses on EPG data relating to television programming but other data that may be included in EPGs is within the scope of the present invention. The television programming represented by EPG data is frequently displayed in table form. Each row of the table contains a type of information such as the title of the television programs or a description of the television program while each column is usually represents a time period or time block. As described previously a destination device is currently unable to alter these characteristics and must accept the EPG data as it is formatted by an EPG data source.

EPG services overcomes the limitations of the prior art in at least two ways. Instead of simply receiving what an EPG data provider is transmitting EPG services allows incoming EPG data to be extensibly scaled according to several different factors or axes. For example if the EPG data is temporally scaled EPG services may receive detailed EPG data about television programs airing in the near future and coarse EPG data related to television programs airing further in the future.

In addition EPG services permits a recipient of EPG data to determine the amount of descriptive EPG data such as titles descriptions and attributes that is received. For television programs airing in the near future the EPG data may be rich in content by including detailed descriptions while the EPG for television programs airing in the more distant future may include the titles and exclude the descriptions.

In addition to providing temporal and selective scalability EPG services is capable of receiving EPG data from more than one EPG data source or provider. EPG services provides a loader module for each EPG data source and an abstraction layer or writer interface that interfaces with all of the loader modules. The writer interface or abstraction layer allows the EPG data received by the loader modules to be stored in the memory or storage of the destination device. Applications may then access the EPG data through another abstraction layer or control interface. The EPG data source or provider may change over time but the application using EPG data provided by that source or provider is unaffected by those changes because the EPG data is accessed through EPG services rather than from the EPG data source or provider directly. Correspondingly the application can be updated without regard to the EPG data provider because the EPG data is stored via the writer interface.

The invention is described using block diagrams and flow charts. Using the block diagrams and flow charts in this manner to describe and represent the invention should not be construed as limiting the scope of the invention. Rather the block diagrams and flow charts are intended to illustrate exemplary embodiments of the present invention.

The embodiments of the present invention may comprise a special purpose or general purpose computer comprising various computer hardware. Embodiments within the scope of the present invention also include computer readable media having computer executable instructions or data structures stored thereon. Such computer readable media can be any available media which can be accessed by a general purpose or special purpose computer. By way of example and not limitation such computer readable media can comprise RAM ROM EPROM CD ROM or other optical disk storage magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired executable instructions or data structures and which can be accessed by a general purpose or special purpose computer such as one included in a set top box. Computer readable media may also include remote data stores such as web servers and other remote data stores. When information is transferred or provided over a network or other communications connection to a computer the computer properly views the connection as a computer readable medium. Thus such a connection is also properly termed a computer readable medium. Combinations of the above should also be included within the scope of computer readable media. Computer executable instructions comprise for example instructions and data which cause a general purpose computer special purpose computer or special purpose processing device to perform a certain function or group of functions. The computer executable instructions and associated data structures represent an example of program code means for executing the steps of the invention disclosed herein.

Although not required the invention can be described in the general context of computer executable instructions such as program modules being executed by one or more processors included for example in a set top box. Generally program modules include routines programs objects components data structures etc. that perform particular tasks or implement particular abstract data types. Moreover those skilled in the art will appreciate that the invention may be practiced with other computer system configurations including general purpose computers personal computers hand held devices multi processor systems microprocessor based or programmable consumer electronics network PCs minicomputers mainframe computers and the like.

As used herein EPG data refers to television programming information radio programming information Internet content scheduling information titles descriptions movie reviews ratings information MPEG Streams and any other type of data that may be retrieved from a source by an electronic device. The embodiments of the present invention described herein refer to television programming information but the embodiments of the present invention easily extend to other types of EPG data. As used herein digital recording refers to copies or recordings of the data represented by the EPG data and includes but is not limited to television programming radio programming and the like.

EPG data may be scaled in this example according to the factors or axes of time richness channels and language. In time is depicted as the horizontal axis of EPG table . Typically EPG data is stored for two to seven days but time can be adjusted in one minute intervals to any desired interval. In addition time can be divided into shorter time intervals. The richness of the EPG data refers to the amount of data that is stored for television program titles descriptions and attributes and the like. The richness of the EPG data can be varied according to title description and attributes as well as according to time . Thus various intervals of time may have varying levels of richness.

The channels is another scalable factor. In a default condition EPG data is stored for viewable channels and no EPG data is stored for hidden or test channels. A user however may choose to remove a particular channel from the EPG data. In one embodiment a removed channel is treated differently from a test or hidden channel. EPG data is still stored for removed channels but the EPG data is not necessarily displayed to a user or an application. Another aspect of the scalability of EPG services is related to favorite or preferred channels. A channel that is designated as preferred or favorite may have EPG data that is more rich than the EPG data stored for other channels. In addition a user has the ability to exclude certain channels or other attributes from being included in the EPG data.

The EPG data is also scalable with regard to language. This setting only applies however to the storage of textual data that describes a television program. The language used in the programming itself does not affect the scalability of the EPG data. The language setting only permits EPG data to be stored if the language matches the system language preferences. The described scalability factors of time richness channels and language are exemplary factors and do not limit the factors with which EPG data may be scaled.

EPG data table in further illustrates an example of EPG data that has been scaled according to richness and time. The amount of data is in this illustration indicative of the richness of the EPG data. Column contains attributes descriptions and titles . The time period for column is in this example the next two days of EPG data. The EPG data in column is rich in that descriptions are extremely detailed titles are complete and many attributes are detailed. Exemplary attributes include closed captioning rating stereo and more.

Column is indicative in this example of a time period from day 3 to day 5. As illustrated the amount of data is less and is coarser or less rich than the EPG data stored in column . Descriptions in column are not as detailed but titles are still complete and column contains no attributes . Similarly column is indicative of a time period from day 6 to day 7. Only titles are stored in column . Thus the EPG data stored in column is less rich than the EPG data in column . EPG data table therefore illustrates EPG data that has been scaled with respect to time and richness or content.

The following table is another illustration of EPG data that has been scaled according to time richness and channel. The EPG data displayed to a user will reflect the EPG data indicated in the following table.

The above table illustrates a scenario where no EPG data is stored for hidden channels the richness of the EPG data stored for normal channels is greater for television programs airing in the near future and the EPG data stored for favorite channels is very rich for the entire time period stored. In this manner the EPG data can be scaled and stored in a variety of different combinations using a variety of factors. EPG services allows EPG data to be custom tailored for a particular application or user. Channels or other attributes or descriptions that are not of interest to a particular application or user may be excluded.

Device typically has at least one application which is capable of utilizing the EPG data provided by EPG data provider . EPG services acts as an intermediary between EPG data provider and application . In this manner both application and EPG data provider may change independent of the other without creating an incompatibility that may render application incapable of receiving EPG data because EPG data provider and application interact with EPG services rather than with each other.

One embodiment of EPG services provides modules for pluggable EGP loaders EPG writer storage and EPG control . EPG loaders provide the ability to receive EPG data from EPG data providers. As new EPG data providers become available to device a new EPG loader is added to EPG services . The EPG loader added to the system for the new EPG data provider is capable of collecting the EPG data from the new EPG data provider. For example an EPG loader may be added to EPG services which is capable of retrieving or collecting movie review data from an HTTP address. In addition EGP loaders can be added and removed from EPG services as needed. When an EPG data provider is no longer available for example the EPG loader corresponding to that EPG provider is removed from EPG services .

EPG writer is a component or module that stores the EPG data collected by EPG loaders in storage which is a database containing EPG data in one embodiment. Storage is also an example of a computer readable medium. EPG writer is responsible in this example for enforcing the scaling of the EPG data as well as the maximum amount of storage that may be used for storing EPG data. Thus if an EPG loader attempts to store EPG data that is greater in size than the maximum amount of EPG data allowed then EPG data relating to television programming furthest in the future is removed until the EPG data being stored does not exceed the maximum storage amount allowed.

EPG writer also removes EPG data from storage that is no longer needed or usable. For instance EPG writer deletes the EPG data from storage for all television programs which have aired before the current half hour block. For example at 8 15 a.m. EPG writer will delete all EPG data relating to television programming occurring prior to 8 00 a.m. At 8 35 a.m. EPG writer deletes television programming prior to 8 30 a.m. One reason for deleting EPG data and for limiting the amount of EPG data that can be downloaded is because storage of device is typically limited.

Because EPG services may have a plurality of EPG loaders it is possible that one or more EPG loaders will attempt to add EPG data to the same record or storage locations. More simply it is possible for a conflict to arise with respect to the EPG data in a variety of contexts. For this reason EPG services provides various schemes for resolving conflicts. For example multiple loaders may attempt to update the description for the same program. To resolve this conflict the EPG writer may be implemented to treat each EPG loader with a different priority. The EPG writer may permit higher priority loaders to take precedence. Another conflict resolution alternative for EPG loaders with equal priorities is to permit the last EPG data written to take precedence and be stored in storage . Another alternative is to allow a user or application to select a conflict resolution scheme if conflicting EPG data sources are present. Simply stated the user could designate a particular EPG data source or provider as having priority over another EPG data source or provider. These are examples of conflict resolution but other methods or schemes may be employed.

It is also possible for EPG loaders to implement a priority scheme independent of the EPG writer. This implementation however reduces the independence of the EPG loaders and forces more rigid interface and implementation constraints upon the development and design of EPG loaders. In addition EPG loaders may be time based threads that activate and deactivate at predetermined times.

The retrieval of EPG data from storage is performed by a control module illustrated as EPG control which is an example of a controller API in some embodiments. EPG control may access EPG data related to the available channels including channel number channel station network identification station broadcast times and associated Uniform Resource Locators URLs EPG data related to information related to programming information including title description length rating and other air times or EPG data relating to whether the television program is purchasable such as a pay per view movie or event. The EPG data can be accessed and retrieved by EPG control in a variety of different combinations.

The ability to access and retrieve EPG data is enhanced by the querying capabilities supplied by EPG control. EPG data can be searched by many parameters including but not limited to time title description category or other attribute which may be user defined. In this manner the EPG data retrieved by an application can be extremely customized for an application. For high performance applications EPG control is also capable of notifying application when the EPG data within a particular range changes. This enables applications to maintain up to date EPG data available.

The EPG data provided by EPG data providers is received at device by EPG services which comprises EPG loaders . An EPG loader or loader module has the responsibility of collecting EPG data from its native transmission format. EPG loaders comprises one or more specific EPG loaders because as illustrated by the various EPG data providers EPG data can be transmitted in a variety of different methods and formats and new sources or providers of EPG data may become available in the future. For these and other reasons each loader module collects EPG data in this embodiment from a particular source or provider.

In addition to understanding the transmission medium and format of a particular EPG data provider Each EPG loader module optionally comprises the hardware and software necessary to accomplish this task. This is illustrated by HTTP loader module which comprises a protocol a device driver and a modem . For HTTP loader module protocol may be HTTP and TCP IP if the transmission medium is the Internet. Typically modem is the hardware required to access the Internet but access can be accomplished with other hardware components such as network interface cards. Device driver is typically a software module designed for a particular hardware component such as modem .

Conflict resolution is an optional pluggable component that permits a user to specify the actions to be taken when one or more EPG data providers conflict. The action taken by conflict resolution can be specified by the user the application or the supplier of the EPG data. For instance the user could specify that conflict resolution cause movie descriptions provider to have priority over satellite listings provider . In this instance the portions of the EPG data provided by satellite listings provider that conflict with the EPG data provided by movie descriptions provider are discarded or otherwise handled. Conflict resolution is extensible and can be implemented by attribute as well as by EPG data provider. Conflict resolution can also be implemented at the EPG loader level whereby the EPG loaders resolve conflicts.

Each EPG loader is capable of interacting with EPG writer . EPG writer comprises an applications programming interface API in one embodiment which is used by EPG loaders to interface with EPG writer . The collected EPG data is placed in storage by EPG writer . Typically EPG loader creates an instance of EPG writer to perform updates to storage which may be a local or remote data store. EPG writer provides methods having one or more parameters that allow the EPG data collected by EPG loaders to be placed in storage such that the EPG data may be queried and retrieved by EPG control .

While EPG loaders place EPG data in storage via EPG writer EPG control performs the functions necessary to retrieve the EPG data from storage . EPG control in one embodiment also comprises an API that provides functions and methods to application that assist in the access and retrieval of EPG data. For example it is necessary in many instances for EPG control to determine if the necessary EPG data is available in storage . Functions and methods are also provided by EPG control that are able to access and retrieve EPG data relates to channels.

In one embodiment these methods and functions provided by EGP writer and EPG control are implemented in a writer API and a controller API which are further described in U.S. patent application Ser. No. 09 527 137 now issued U.S. Pat. No. 6 990 677 entitled Application Programming Interfaces for Electronic Program Guide Data Services filed on the same day as this application and also in U.S. Provisional Patent Application Ser. No. 60 125 062 entitled Filtering Scaling and Loading of Electronic Program Data filed Mar. 18 1999 both of which are incorporated herein by reference.

The EPG data provided by EPG data providers can also be used in digital recordings. Frequently digital recordings are made of television programming or other types of information or programming which is described by EPG data. Storing or recording EPG data with the programming that is digitally recorded enables the stored EPG data to be queried in a manner similar to other EPG loaders. In a sense the digital recording becomes an EPG data provider. In another embodiment the EPG data relating to digital recordings can be stored in storage . In this manner the EPG data for the digital recordings is also available to the applications through EPG control .

While a program is typically a unique event programs may be repeated by a television station and may therefore correspond to one or more schedule entries. To retrieve EPG data concerning a program EPG control provides methods and functions for use with schedule entries. Programs may also belong to one or more categories or subcategories and EPG control provides functions to retrieve the valid category and subcategory pairs.

Programs also may have one or more ratings which correspond to different rating authorities and EPG control has functions and methods to access ratings. Some applications may request notification of changes to the EPG data that may occur within a particular time range. EPG control services these requests and fires an event when the EPG data changes. Typically only one event may be requested for each instance of EPG control .

EPG services is intended to provide extensibility to EPG data. As illustrated new sources of EPG data are easily accommodated by a device. The EPG data can be scaled and formatted in a variety of ways. Extensible properties can be added to the channel program schedule entry or weblink data and multiple properties may be added to the same set of EPG data which enhances the ability of applications to search and utilize the stored EPG data.

The present invention may be embodied in other specific forms without departing from its spirit or essential characteristics. The described embodiments are to be considered in all respects only as illustrative and not restrictive. The scope of the invention is therefore indicated by the appended claims rather than by the foregoing description. All changes which come within the meaning and range of equivalency of the claims are to be embraced within their scope.

