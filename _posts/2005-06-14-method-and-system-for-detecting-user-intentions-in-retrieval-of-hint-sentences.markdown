---

title: Method and system for detecting user intentions in retrieval of hint sentences
abstract: A method of constructing a confusion set database for use in detecting user query intentions includes obtaining a bilingual database having aligned word pairs in first and second languages. Second language word pairs in the bilingual database are aligned with corresponding correct translation first language word pairs. First language human translation word pairs corresponding to each of the second language word pairs in the bilingual database are obtained. Each first language human translation word pair for a particular second language word pair in the bilingual database is aligned with the correct translation first language word pair to define first language set pairs in the confusion set database. Methods, systems and computer readable medium for constructing the confusion set database and for retrieving sentences using the confusion set database are also disclosed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07562082&OS=07562082&RS=07562082
owner: Microsoft Corporation
number: 07562082
owner_city: Redmond
owner_country: US
publication_date: 20050614
---
The present application is a divisional of and claims priority of U.S. patent application Ser. No. 10 247 595 filed Sep. 19 2002 the content of which is hereby incorporated by reference in its entirety.

Reference is hereby made to the following co pending and commonly assigned patent applications filed on Sep. 19 2002 U.S. application Ser. No. 10 247 684 entitled METHOD AND SYSTEM FOR RETRIEVING HINT SENTENCES USING EXPANDED QUERIES for inventor Ming Zhou and U.S. application Ser. No. 10 247 596 entitled METHOD AND SYSTEM FOR RETRIEVING CONFIRMING SENTENCES for inventors Ming Zhou Hua Wu Yue Zhang Jianfeng Gao and Chang Ning Huang.

The present invention relates to machine aided writing systems and methods. In particular the present invention relates to systems and methods for aiding users in writing in non native languages.

With the rapid development of global communications the ability to write in English and other non native languages is becoming more important. However non native speakers for example people who speak Chinese Japanese Korean or other non English languages often find it very difficult to write in English. The difficulty is frequently not in spelling nor in grammar but in idiomatic usage. Therefore the biggest problem for these non natives while writing in English is determining how to polish sentences. While this can be true regarding the process of writing in any non native language the problem is described primarily with reference to English writing.

Spelling check and grammar check are helpful only when the user misspells a word or makes an obvious grammar mistake. These checking programs cannot be depended on for help in polishing sentences. A dictionary can be helpful as well but mostly only for resolving reading and translation issues. Normally looking up a word in a dictionary provides the writer with multiple explanations about the usages of the word but without contextual information. As a result it s too confusing and time consuming for users to get any solution.

Generally writers find it very helpful to have good example sentences available while writing for reference in polishing sentences. The problem is that those example sentences are hardly available at hand. In addition up to now no effective software has existed that supports English polish and it is believed that few researchers have ever worked on this area.

There are numerous challenges to realizing a system capable of aiding users in polishing English sentences. First given a user s sentence it must be determined how to retrieve confirming sentences. Confirming sentences are used to confirm the user s sentences. Confirming sentences should be close in sentence structure or form to the user s input query or intended input query. Given a limited example base it is hard to retrieve totally similar sentences so it is typically only possible to retrieve sentences containing some similar parts to the sentence being written the query sentence . Then two interrelated questions arise. The first question is that if the user s sentence is too long and complex which part should be taken as the user s focus The second question is that if a large number of sentences are matched how can or should they be ranked precisely and efficiently in order to maximize their usefulness to the writer 

A second challenge is determining how to retrieve hint sentences. Hint sentences are used to provide expanded expressions. In other words hint sentences should be similar in meaning to the user s input query sentence and are used to provide the user with alternate ways to express a particular idea. A more complicated case is determining how to detect the user s real intention in order to retrieve appropriate hint sentences when the user s sentence contains confusing expressions or even if the user s sentence is written in English but employs a sentence structure or grammar appropriate for another language for example a Chinese like English sentence . A third challenge relates to the fact that a user may search with a query written in his or her native language. To realize a precise translation query understanding and translation selection are two big technical obstacles.

Although the aforementioned problems are described with reference to English language writing by people for whom English is not their native language for example native Chinese Japanese or Korean speaking people these problems are common for people who are writing in a first non native language but who are native speakers of a second native language. In light of these problems or others not discussed a system or method which aids non native speakers in writing in English or other non native languages by providing relevant confirming and or hint sentences would be a significant improvement in the art.

The methods computer readable medium and systems of the present invention aid users in retrieving hint sentences from a sentence database in response to a query. The methods computer readable medium and systems are useful in determining the user s query intentions particularly in instances where the user is writing in a first language but is a native speaker of a second language.

A method of constructing a confusion set database for use in detecting user query intentions includes obtaining a bilingual database having aligned word pairs in first and second languages. Second language word pairs in the bilingual database are aligned with corresponding correct translation first language word pairs. First language human translation word pairs corresponding to each of the second language word pairs in the bilingual database are obtained. Each first language human translation word pair for a particular second language word pair in the bilingual database is aligned with the correct translation first language word pair to define first language set pairs in the confusion set database.

A method of and system for providing to a user sentences from a sentence database in response to a query are also disclosed. An input component receives the query while a comparison component compares word pairs in the query with human translation word pairs in a confusion set database to identify matches between word pairs in the query with human translation word pairs in the confusion set database. The confusion set database includes a plurality of first language set pairs. Each of the plurality of first language set pairs includes a correct translation first language word pair aligned with a first language human translation word pair. For each word pair in the query which matched with a human translation word pair in the confusion set database a query expansion component adds to the query the correct translation first language word pair corresponding to the matched human translation word pair to obtain an expanded query. A sentence retrieving component then retrieves at least one sentence from the sentence database in response to the expanded query.

The present invention provides an effective system which helps users write in a non native language and polish their sentences by referring to suggestive sentences. The suggestive sentences which can be confirming sentences and hint sentences are retrieved automatically from a sentence database using the user s sentences as queries. To realize this system several technologies are proposed. For example a first is related to improved example sentence recommendation methods. A second is related to improved cross lingual information retrieval methods and technology which facilitate searching in the user s native language others are also proposed.

The invention is operational with numerous other general purpose or special purpose computing system environments or configurations. Examples of well known computing systems environments and or configurations that may be suitable for use with the invention include but are not limited to personal computers server computers hand held or laptop devices multiprocessor systems microprocessor based systems set top boxes programmable consumer electronics network PCs minicomputers mainframe computers telephony systems distributed computing environments that include any of the above systems or devices and the like.

The invention may be described in the general context of computer executable instructions such as program modules being executed by a computer. Generally program modules include routines programs objects components data structures etc. that perform particular tasks or implement particular abstract data types. The invention may also be practiced in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network. In a distributed computing environment program modules may be located in both local and remote computer storage media including memory storage devices.

With reference to an exemplary system for implementing the invention includes a general purpose computing device in the form of a computer . Components of computer may include but are not limited to a processing unit a system memory and a system bus that couples various system components including the system memory to the processing unit . The system bus may be any of several types of bus structures including a memory bus or memory controller a peripheral bus and a local bus using any of a variety of bus architectures. By way of example and not limitation such architectures include Industry Standard Architecture ISA bus Micro Channel Architecture MCA bus Enhanced ISA EISA bus Video Electronics Standards Association VESA local bus and Peripheral Component Interconnect PCI bus also known as Mezzanine bus.

Computer typically includes a variety of computer readable media. Computer readable media can be any available media that can be accessed by computer and includes both volatile and nonvolatile media removable and non removable media. By way of example and not limitation computer readable media may comprise computer storage media and communication media. Computer storage media includes both volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. Computer storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CD ROM digital versatile disks DVD or other optical disk storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by computer . Communication media typically embodies computer readable instructions data structures program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term modulated data signal means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example and not limitation communication media includes wired media such as a wired network or direct wired connection and wireless media such as acoustic RF infrared and other wireless media. Combinations of any of the above should also be included within the scope of computer readable media.

The system memory includes computer storage media in the form of volatile and or nonvolatile memory such as read only memory ROM and random access memory RAM . A basic input output system BIOS containing the basic routines that help to transfer information between elements within computer such as during start up is typically stored in ROM . RAM typically contains data and or program modules that are immediately accessible to and or presently being operated on by processing unit . By way of example and not limitation illustrates operating system application programs other program modules and program data .

The computer may also include other removable non removable volatile nonvolatile computer storage media. By way of example only illustrates a hard disk drive that reads from or writes to non removable nonvolatile magnetic media a magnetic disk drive that reads from or writes to a removable nonvolatile magnetic disk and an optical disk drive that reads from or writes to a removable nonvolatile optical disk such as a CD ROM or other optical media. Other removable non removable volatile nonvolatile computer storage media that can be used in the exemplary operating environment include but are not limited to magnetic tape cassettes flash memory cards digital versatile disks digital video tape solid state RAM solid state ROM and the like. The hard disk drive is typically connected to the system bus through a non removable memory interface such as interface and magnetic disk drive and optical disk drive are typically connected to the system bus by a removable memory interface such as interface .

The drives and their associated computer storage media discussed above and illustrated in provide storage of computer readable instructions data structures program modules and other data for the computer . In for example hard disk drive is illustrated as storing operating system application programs other program modules and program data . Note that these components can either be the same as or different from operating system application programs other program modules and program data . Operating system application programs other program modules and program data are given different numbers here to illustrate that at a minimum they are different copies.

A user may enter commands and information into the computer through input devices such as a keyboard a microphone and a pointing device such as a mouse trackball or touch pad. Other input devices not shown may include a joystick game pad satellite dish scanner or the like. These and other input devices are often connected to the processing unit through a user input interface that is coupled to the system bus but may be connected by other interface and bus structures such as a parallel port game port or a universal serial bus USB . A monitor or other type of display device is also connected to the system bus via an interface such as a video interface . In addition to the monitor computers may also include other peripheral output devices such as speakers and printer which may be connected through an output peripheral interface .

The computer may operate in a networked environment using logical connections to one or more remote computers such as a remote computer . The remote computer may be a personal computer a hand held device a server a router a network PC a peer device or other common network node and typically includes many or all of the elements described above relative to the computer . The logical connections depicted in include a local area network LAN and a wide area network WAN but may also include other networks. Such networking environments are commonplace in offices enterprise wide computer networks intranets and the Internet.

When used in a LAN networking environment the computer is connected to the LAN through a network interface or adapter . When used in a WAN networking environment the computer typically includes a modem or other means for establishing communications over the WAN such as the Internet. The modem which may be internal or external may be connected to the system bus via the user input interface or other appropriate mechanism. In a networked environment program modules depicted relative to the computer or portions thereof may be stored in the remote memory storage device. By way of example and not limitation illustrates remote application programs as residing on remote computer . It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers may be used.

Memory is implemented as non volatile electronic memory such as random access memory RAM with a battery back up module not shown such that information stored in memory is not lost when the general power to mobile device is shut down. A portion of memory is preferably allocated as addressable memory for program execution while another portion of memory is preferably used for storage such as to simulate storage on a disk drive.

Memory includes an operating system application programs as well as an object store . During operation operating system is preferably executed by processor from memory . Operating system in one preferred embodiment is a WINDOWS CE brand operating system commercially available from Microsoft Corporation. Operating system is preferably designed for mobile devices and implements database features that can be utilized by applications through a set of exposed application programming interfaces and methods. The objects in object store are maintained by applications and operating system at least partially in response to calls to the exposed application programming interfaces and methods.

Communication interface represents numerous devices and technologies that allow mobile device to send and receive information. The devices include wired and wireless modems satellite receivers and broadcast tuners to name a few. Mobile device can also be directly connected to a computer to exchange data therewith. In such cases communication interface can be an infrared transceiver or a serial or parallel communication connection all of which are capable of transmitting streaming information.

Input output components include a variety of input devices such as a touch sensitive screen buttons rollers and a microphone as well as a variety of output devices including an audio generator a vibrating device and a display. The devices listed above are by way of example and need not all be present on mobile device . In addition other input output devices may be attached to or found with mobile device within the scope of the present invention.

In accordance with various aspects of the present invention proposed are methods and systems which provide practical tools for assisting English writing for non natives. The invention does not focus on assisting the user with spelling and grammar but instead focuses on sentence polish assistance. Generally it is assumed that users who need to write in English from time to time must have basic knowledge of English vocabulary and grammar. In other words the users have some ability to discern good sentences from bad sentences given a choice.

The approach used with embodiments of the invention is to provide appropriate sentences to the user whenever and whatever he or she is writing. The scenario is very simple Whenever a user writes a sentence the system detects his or her intention and provides some example sentences. Then the user polishes his or her sentences by referring to the example sentences. This technology is called intelligent recommendation of example sentences .

A query processing component provides the query either in whole or in related component parts to search engine . Search engine searches a sentence database using the query terms or information generated from the query terms. In embodiments in which the entire input query is provided to search engine for processing and searching query processing component can be combined with input . However in some embodiments query processing component can perform some processing functions on the query for example extracting terms from the query and passing the terms to search engine . Further while the invention is for the most part described with reference to methods implemented in whole or in part by search engine in other embodiments some or all of the methods can be implemented partially within component .

The database contains a large number of example sentences extracted from standard English documents. The search engine retrieves user intended example sentences from the database. The example sentences are ranked by the search engine and are provided at a sentence output component for reference by the user in polishing his or her written sentences.

The user enters a query by writing something in a word processing program running on a computer or computing environment such as those shown in . For example he or she may input one single word or a phrase or a whole sentence. Sometimes the query is written in his or her native language even though the ultimate goal is to write a sentence in the first or non native language e.g. English . The user s input will be handled as a query to the search engine . The search engine searches the sentence base to find relevant sentences. The relevant sentences are categorized into two classes confirming sentences and hint sentences.

Confirming sentences are used to confirm or guide the user s sentence structure while the hint sentences are used to provide expanded expressions. Confirming sentences should be close in sentence structure or form to the user s input query or intended input query in order to serve as a grammatical example. Hint sentences should be similar in meaning to the user s input query and are used to provide the user with alternate ways to express a particular idea. Aspects of the present invention are implemented in the search engine component as is described below. However certain aspects of the present invention can be implemented in query processing component in other embodiments. Notice that although the invention is described in the context of Chinese and English the invention is language independent and can be extended easily to other languages.

To provide solutions to one or more of the previously discussed challenges system and the methods it implements utilize a natural language processing enabled NLP enabled cross language information retrieval design. It uses a conventional information retrieval IR model as a baseline and applies NLP technology to improve retrieval precision.

The baseline system upon which search engine improves is an approach used widely in traditional IR systems. A general description of one embodiment of this approach is as follows.

The whole collection of example sentences denoted as D consists of a number of documents with each document actually being an example sentence in sentence database . The indexing result for a document which contains only one sentence with a conventional IR indexing approach can be represented as a vector of weights as shown in Equation 1 D d d . . . d Equation 1 where d 1 k m is the weight of the term tin the document D and m is the size of the vector space which is determined by the number of different terms found in the collection. In an example embodiment terms are English words. The weight dof a term in a document is calculated according to its occurrence frequency in the document tf term frequency as well as its distribution in the entire collection idf inverse document frequency . There are multiple methods of calculating and defining the weight dof a term. Here by way of example we use the relationship shown in Equation 2 

As is also common in TF IDF weighting schemes the query Q which is the user s input sentence is indexed in a similar way and a vector is also obtained for a query as shown in Equation 3 Q q q . . . q Equation 3

The similarity Sim D Q between a document sentence Din the collection of documents and the query sentence Qcan be calculated as the inner product of their vectors as shown in Equation 4 

In addition to or instead of using a baseline approach to sentence retrieval such as the one described above search engine builds upon that approach by using an NLP enabled cross language information retrieval method or approach. The NLP technology methodology improves retrieval precision as explained below. To enhance the retrieval precision system utilizes alone or in combination two extended indexing unit methods. First to reflect the linguistic significance in constituting a sentence different types of indexing units are assigned different weights. Second to enhance hint sentence retrieval a new approach is employed. For a query sentence all of the words are replaced with their similar or related words for example synonyms from a thesaurus. Then a dependency triple database is used to filter illegal collocations in order to remove possible noisy expansions.

To improve query translation in search engine or in component a new dependency triple based translation model is employed. First the main dependency triples are extracted from the query then translation based on those triples is performed. A discussion of the dependency triples database is provided below.

A dependency triple consists of a head a dependant and a dependency relation between the head and the dependant. Using a dependency parser a sentence is analyzed into a set of dependency triples trp in a form such as illustrated in Equation 5 trp w rel w Equation 5 For example for an English sentence I have a brown dog a dependency parser can get a set of triples as is illustrated in . The standard expression of the dependency parsing result is have sub I have obj dog dog adj brown dog det a . Similarly for a Chinese sentence In English The nation has issued the plan a dependency parser can get a set of dependency triples as illustrated in . The standard expression of the dependency parsing result is sub obj comp .

In some embodiments the search engine of the present invention utilizes a dependency triples database to expand the search terms of the main dependency triples extracted from the query. Thus the dependency triples database can be included in or coupled to either of query processing component and search engine . illustrates a method of creating the dependency triples database . described later illustrates the search engine coupled to the triples database .

As shown in each sentence from a text corpus is parsed by a dependency parser and a set of dependency triples is generated. Each triple is put into a triple database . If an instantiation of a triple has already existed in the triple database the frequency of this triple increases. After all the sentences are parsed a triples database including thousands of triples has been created. Since the parser may not be 100 correct some parsing mistakes can be introduced at the same time. If desired a filter component can be used to remove the noisy triples introduced by the parsing mistakes leaving only correct triples in the database .

In accordance with the present invention search engine utilizes one or both of two methods to improve the confirming sentence retrieval results. One method utilizes extended indexing terms. The other method utilizes a new ranking algorithm to rank the retrieved confirming sentences.

Using conventional IR approaches the search engine would search sentence base using only the lemma of the input query to define indexing units for the search. A lemma is the basic uninflected form of a word also known as its stem. To improve the search for confirming sentences in sentence database in accordance with the present invention the one or more of the following are added as indexing units in addition to the lemmas 1 lemma words with part of speech POS 2 phrasal verbs and 3 dependency triples.

For instance consider an input query sentence The scientist presided over the workshop. Using a conventional IR indexing method as in the baseline system defined above only the lemmas are used as indexing units i.e. the function words are removed as stop words . Table 1 illustrates the lemmas for this example input query sentence 

Using the extended indexing method of the present invention for the same example sentence the indexing terms illustrated in Table 2 are also employed in the database search by search engine 

While one or more of the possible extended indexing units lemma words with POS phrasal verbs and dependency triples can be added to the lemma indexing units in some embodiments of the invention advantageous results are obtained by adding all three types of extended indexing units to the lemma indexing units. The confirming sentences retrieved from sentence database by search engine using the extended indexing units for the particular input query are then ranked using a new ranking algorithm.

After search engine retrieves a number of confirming sentences from the database for example using the extended indexing units method described above or other methods the confirming sentences are ranked to determine the sentences which are the most grammatically or structurally similar to the input query. Then using output one or more of the confirming sentences are displayed to the user with the highest ranking most similar confirming sentences being provided first or otherwise delineated as being most relevant. For example the ranked confirming sentences can be displayed as a numbered list as shown by way of example in .

In accordance with embodiments of the present invention a ranking algorithm ranks the confirming sentences based upon their respective similarities Sim Di Qj with the input query. The ranking algorithm similarity computation is performed using the relationship shown in Equation 6 

The linguistic weights for different parts of speech in one example embodiment are provided in the second column of Table 3. The present invention is not limited however to any specific weighting.

Compared with conventional IR ranking algorithms for example as shown above in Equation 4 the ranking algorithm of the present invention which uses the similarity relationship shown in Equation 6 includes two new features which better reflect the linguistic significance of the confirming sentence relative to the input query. One is the linguistic weight Wof terms in the query Q. For example the verb object dependency triples can be assigned the highest weight while verbal phrases verbs etc. are respectively assigned different weights each reflecting the importance or significance of the particular type of term sentence component or POS relation in choosing relevant confirming sentences.

It is believed that users pay more attention to issues reflecting sentence structure and word combinations. For instance they focus more on verbs than on nouns. Therefore the linguistic weights can be assigned to retrieve confirming example sentences having the particular type of term sentence component or POS relation deemed to be most important for a typical user.

The second feature added to the similarity function is the sentence length factor or function L . The intuition used in one embodiment is that the shorter sentences should be ranked higher than the longer sentences in the same condition. The example sentence length factor or function L Lis but one possible function which will aid in ranking the confirming sentences at least partially based upon length. Other functions can also be used. For example other exponential length functions can be used. Furthermore in other embodiments the length factor can be chosen such that longer confirming sentences are ranked higher if doing so was deemed advantageous.

While the two new features Wand L used in this particular similarity ranking algorithm can be applied together as shown in Equation 6 to improve confirming sentence retrieval in other embodiments each of these features can be used without the other feature. In other words similarity ranking algorithms Sim Di Qj such as those shown in Equations 7 and 8 can be used instead.

In system search engine improves hint sentence retrieval using a query expansion method of the present invention. The query expansion method is illustrated generally in the block diagram of . The query expansion method provides alternative expressions for use in searching the sentence database .

The expansion procedure is as follows First as illustrated at we expand the terms in the query using synonyms defined in a machine readable thesaurus for example such as WordNet. This method is often used in query expansion in conventional IR systems. Alone however this method suffers from the problem of noisy expansions. To avoid the problem of noisy expansions method used by search engine implements additional steps and before searching the sentence database for hint sentences.

As illustrated at the expanded terms are combined to form all possible triples. Then as illustrated at all of the possible triples are checked against the dependency triple database shown in and . Only those triples which have ever appeared in the triple database are selected as expanded query terms. Those expanded triples which are not found in the triple database are discarded. Then the sentence database is searched for hint sentences using the remaining expanded terms as shown at .

Sometimes a user may input a query using a mix of words from a first language and grammatical structure from a second language. For example a Chinese user writing in English may enter a query in what is commonly referred to as Chinese like English . In some embodiments of the present invention search engine is designed to detect the user s intention before searching the sentence database for hint sentences. The search engine can detect the user s intention using either or both of two methods.

A first method of detecting the user s intention is illustrated in with an example. This is known as the translation method. Using this method the user s query is received as shown at and is translated from the first language with second language grammar structure collocation etc. into the second language as shown at . As shown at the query is then translated from the second language back into the first language. By way of example steps and are shown with respect to the Chinese and English languages. However it must be noted that these steps are not limited to any particular first and second languages.

In this first example the input query shown at and corresponding to step is a Chinese like English query Open the light which contains a common collocation mistake. As shown at and corresponding to step the Chinese like English query is translated into the Chinese query . Then as shown at corresponding to step the Chinese query is translated back into the English language query Turn on the light which does not contain the collocation mistake of the original query. This method is used to imitate the user s thinking behavior but it requires an accurate translation component. Method may create too much noise if the translation quality is poor. Therefore the method illustrated in can be used instead.

A second method which is referred to herein as the confusion method expands word pairs in the users query using a confusion set database. This method is illustrated in while a method of constructing the confusion set database is illustrated in . A confusion set is a database containing word pairs that are confusing such as open turn on . This can include collocations between words single words that are confusing to translate and other confusing word pairs. Generally the word pairs will be in the same language but can be annotated to a translation word if desired.

Referring first to shown is a method of constructing a confusion set database for use by search engine in detecting the user s intentions. The collection of the confusion set or construction of the confusion set database can be done with the aid of a word and sentence aligned bilingual corpus . In the example used herein corpus is an English Chinese bilingual corpus. At shown at the method includes the human translation of Chinese word pairs into English language word pairs human translation designated as Eng . The English translation word pairs Eng are then aligned with the correct English translation word pairs designated as Eng as shown at . This alignment is possible because the correct translations were readily available in the original bilingual corpus. At this point sets of word pairs are defined which correlate for a particular Chinese word pair the English translation to the English original word pair correct translation word pair as defined by its alignment in the bilingual corpus 

Search engine also uses query translation to improve the retrieval of sentences as shown in . Given a user s query shown at the key dependency triples are extracted with a robust parser as shown at . The triples are then translated one by one as shown at . Finally all of the translations of the triples are used as the query terms by search engine .

Suppose we want to translate a Chinese dependency triple c w rel w into an English dependency triple e w rel w . This is equivalent to finding ethat will maximize the value P e c according to a statistical translation model.

In single triple translation P e can be estimated using MLE Maximum Likelihood Estimation which can be rewritten as 

According to our assumption of correspondence between Chinese dependency relations and English dependency relations we have P rel rel 1. Furthermore we suppose that the selection of a word in translation is independent of the type of dependency relation therefore we can assume that wis only related to w and that wis only related to w. The word translation probability P c e can be estimated with a parallel corpus.

As shown n at an input query is received by search engine . As shown at search engine includes a language determining component which determines whether the query is in English or more generally in the first language . If the query is not in English or the first language for example if the query is in Chinese the query is translated into English or the first language as shown at query translation module or component . Query translation module or component uses for example the query translation method described above with reference to and Equations 10 14.

If the query is in English or the first language or after translation of the query to English or the first language an analyzing component or step uses a parser to obtain the parsing results represented in dependency triple form that is logical form . In embodiments in which the user is writing in English the parser is an English parser such as NLPWin developed by Microsoft Research Redmond though other known parsers can be used as well. After obtaining these terms pertaining to the query a retrieving component of search engine retrieves sentences from sentence base . For confirming sentence retrieval retrieval of the sentences includes retrieval using the expanded indexing terms method described above. The retrieved sentences are then ranked using a ranking component or step for example using the ranking method described with reference to Equations 6 8 and provided as examples at This process realizes the confirming sentence retrieval.

To retrieve hint sentences the terms list is expanded using an expansion component or step . Term expansion is carried out using either of two resources a thesaurus as discussed above with reference to and the confusion set as discussed above with reference to and . Then the expanded terms are filtered using a filtering component or step with triple database as described above for example with reference to . The result is a set of expanded terms which also exist in the triples database. The expanded terms are then used by the retrieving component to retrieve hint sentences for examples . The hint sentences can be ranked at in the same manner as the confirming sentences. In an interactive search mode if the retrieved sentences are not satisfactory the user can highlight the words he or she wishes to focus on and searches again.

Although the present invention has been described with reference to particular embodiments workers skilled in the art will recognize that changes may be made in form and detail without departing from the spirit and scope of the invention. For example examples described with reference to English language writing by a Chinese speaking person are applicable in concept to writing in a first language by a person whose native language is a second language which is different from the first language. Also where reference is made to identifying or storing a translation word in a first language for a word in a second language this reference includes identifying or storing phrases in the first language which correspond to the word in the second language and identifying or storing a word in the first language which corresponds to a phrase in the second language.

