---

title: Apparatus and method for communications control
abstract: An apparatus and method for controlling telecommunications is provided. The apparatus, which in one embodiment is a switch, may be connected between a computer-telephony integrated (CTI) workstation and multiple communication lines to elements such as Central Offices. The switch may be manipulated either manually or by the CTI workstation to connect to one of the multiple communication lines.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07684386&OS=07684386&RS=07684386
owner: Plant Equipment, Inc.
number: 07684386
owner_city: Temecula
owner_country: US
publication_date: 20050118
---
This invention generally relates to the field of telecommunications control whereby a communication device may be connected to a selected one of a plurality of communication lines which may each be coupled to different Central Offices.

In general telecommunications control involves computer telephony integration CTI which is the integration of computer and telephone systems. For example CTI systems enable computers to know about and control telephony functions such as making and receiving voice fax and data calls telephone directory services and caller identification. CTI systems provide enhanced capability and flexibility to pass data from a telephone network to a workstation for the purposes of obtaining data and properly routing telephone calls. CTI systems provide an important interconnection between voice and data in order to ensure more efficient and increased communication.

CTI was first commercialized in the 1970 s to provide remote control of private branch exchange PBX systems for mainframe computers. Then in the 1990s personal computer technology was integrated into CTI devices thereby providing accessible solutions for telecommunications. Now CTI devices provide many different functions and a better way to interface with several types of communication. For example a CTI device may provide a platform that allows quick deployment for flexible telephone services such as call control media processing and customer data management.

To provide these services a CTI system typically includes several components a switch a switch to CTI interface an application programming interface API and a CTI application. The switch provides an interface between an incoming communication line and a destination communication line where an incoming call may be routed. The switch to CTI interface provides connection between the switch and a CTI server. The API allows a software developer to create new functions services for the CTI system. The CTI application operates on one or more of the computing devices in the CTI system and enables users to manage the telephony and computing resources.

Traditionally telecommunication networks provided intelligence within switches by way of circuits within the switch. These types of switches are not flexible enough to provide the expanding services in an efficient manner as demanded by modern CTI systems. Thus there is a need for a switch that is better able to communicate and interface with a CTI system such as a switch and switch to CTI interface that allows a CTI station to programmatically control the switch.

An apparatus and method for controlling telecommunications is provided. Embodiments of the invention provide the ability to connect a communication device to one of multiple Central Offices. This adds flexibility by combining the expanding services of a CTI system with the ability to communicate with at least one of a multitude of Central Offices coupled to the CTI system. A Central Office is defined by a broadest sense of its ordinary meaning including but not limited to a common carrier switching center in which trunks and loops are terminated and switched. A Central Office is also known as an exchange or switching center. For example an improved 911 emergency call center utilizing an embodiment of the invention benefits from having more than one path to receive emergency calls without increasing the number of required communication devices.

In the apparatus and methods disclosed herein a CTI device may communicate with the switch which programmatically couples the CTI system to a selected one of multiple Central Offices. Moreover the switch is configured to allow manual control. By way of either manual or CTI control the switch is designed to allow connection of at least one communication device to at least one of multiple Central Offices.

In one embodiment a CTI system for selectively allowing communication of a workstation with one of a plurality of Central Offices is provided the CTI system comprising a one or more workstations a switch coupled to the workstations and to the plurality of Central Offices wherein the switch is configured to provide a connection between one of the CTI workstations and a selected one of the plurality of Central Offices in response to a command from a CTI workstation.

In another embodiment a method of controlling communication within a CTI system is disclosed comprising receiving a request within the CTI system for connection to a particular Central Office selected from among a plurality of Central Offices transmitting a command from the CTI system to a switch wherein the command indicates the particular Central Office and providing a connection between the CTI system and the particular Central Office through the switch in response to the command from the CTI system.

In another embodiment a switch for directing communication within a computer telephony integration system is disclosed comprising a plurality of first connectors each configured to connect to a separate Central Office a second connector configured to connect to a communication line a power receptacle and a control port configured to connect to a workstation wherein the workstation controls the switch by communicating through the control port and wherein the switch is configured to connect the communication line to a selected one of the plurality Central Offices in response to a command sent to the switch by the workstation.

In another embodiment an apparatus for controlling communication within a CTI system is disclosed comprising means for receiving a request in the CTI system for connection to a particular Central Office selected from among a plurality of Central Offices means for transmitting a command from the CTI system to a switch wherein the command indicates the particular Central Office and means for providing a connection between the CTI system and the particular Central Office through the switch in response to the command from the CTI system.

In another embodiment a method of controlling communication within a CTI system is disclosed comprising receiving a request transmitted through a communication line coupled to the CTI system wherein the request is for connection to one Central Office selected from among a plurality of Central Offices coupled to the CTI system transmitting a command from the CTI system to a switch through a universal serial bus wherein the command indicates the request for connection to the one Central Office providing a connection between the CTI system and the one Central Office through the switch in response to the command from the CTI system and sending a communication report from the switch to the CTI system through the universal serial bus wherein the communication report comprises a status report of the connection between the CTI system and the one Central Office.

In an exemplary embodiment a switch is connected to a workstation and multiple communication lines. The switch may be manipulated either manually or by the workstation to allow connection of a communication device to one of the multiple communication lines. In one embodiment the switch may be connected via a universal serial bus USB to a CTI workstation. This CTI workstation may be a VESTA DMS manufactured by and commercially available from Plant Equipment Inc. or any other workstation that provides local exchange capabilities for call centers and other Central Offices. Central office services may be provisioned on a DMS 100 Meridian Digital Centrex MDC circuit delivered by the local exchange carrier LEC . In one embodiment the switch is configured to allow the workstation to switch between multiple Central Offices connecting the CTI workstation to the selected Central Office. The switch may also be manually manipulated by a user to select the desired Central Office. The switch and CTI workstation may also provide other functionalities including but not limited to monitoring reporting and updating the communication system.

These and other objects and features of the invention will become more fully apparent from the following description and appended claims taken in conjunction with the following drawings where like reference numbers indicate identical or functionally similar elements.

Embodiments of the invention will now be described with reference to the accompanying Figures wherein like numerals refer to like elements throughout. The terminology used in the description presented herein is not intended to be interpreted in any limited or restrictive manner simply because it is being utilized in conjunction with a detailed description of certain specific embodiments of the invention. Furthermore embodiments of the invention may include several novel features no single one of which is solely responsible for its desirable attributes or which is essential to practicing the invention herein described.

A block diagram illustrating components of an exemplary communication system is provided in . In the exemplary communication system a switch is either operated by a CTI system which is electronically coupled to the switch or is operated manually by a user. In the embodiment of the switch is electronically coupled to a workstation within the CTI system such that communication between the switch and the workstation travels on a communication line . In one embodiment communication line is a universal serial bus USB that facilitates USB communication between the switch and the workstation . In one embodiment communication line is a standard USB peripheral interface which includes circuitry and firmware allowing it to communicate with a compliant USB host such as a Microsoft Windows workstation.

Also coupled to the switch is a data interface unit that is part of the CTI system . The data interface unit is also coupled to the workstation via a communication line . The data interface unit is also coupled to another communication device within the CTI system such as a telephone as depicted in . Although this communication device is illustrated as comprising a telephone it may alternatively be any type of communication device. Moreover in alternative embodiments the data interface unit may be eliminated. With an alternative communication device it is possible that the data interface unit would not be installed and instead the communication device would connect directly to the switch .

In other alternative embodiments the switch may integrate multiple data interface units thereby providing the ability to connect a selected Central Office A or B to one of a plurality of communication lines such as multiple communication lines within a PBX network. Moreover in alternative embodiments the switch may be connected to more than two Central Offices. Thus a skilled technologist would be able to fabricate a switch that connects to a multitude of Central Offices other than the Central Offices A and B and that connects to a multitude of other communication devices other than communication device .

The switch is also connected to communication lines and that are located outside the CTI system . In these communication lines and are each connected to a separate Central Office such as Central Office A or Central Office B . Finally the switch is connected to a power supply such as a 24 Volt Direct Current VDC for example. The power supply alternatively may comprise any of the numerous well known and commercially available power supplies that find application for this type of use.

In the exemplary embodiment illustrated in the CTI system may be any form of a communication system where connection to one of a multitude of communication lines and or Central Offices and is desirable. For example in a 911 emergency call center receiving calls from an alternate Central Office may be desirable. With the communication system of the CTI system and switch are coupled and configured to provide a communication path between the switch and the workstation via communication line . The workstation may then programmatically control the switch thereby providing a communication path between the CTI system to one of the Central Offices and through the corresponding communication lines and that are coupled to the switch . This communication path to one of the Central Offices and may travel through the switch into the CTI system arriving at the communication device through the data interface unit that is coupled to both the switch and the communication device . In addition to programmatic control by the CTI system the switch also provides a way for a user to manually select a communication path.

Described below is an embodiment of with reference to using exemplary proprietary components. The following description is for illustrative purposes only and is not intended to limit the scope and methods described herein. In one embodiment the system may include two Central Offices and which may each be a DMS 100. Each of these Central Offices and is connected via a separate Meridian Digital Centrex communication line and to the switch . The switch is connected to a VESTA workstation such as the VESTA DMS 100 via a USB and a data interface unit that is connected to a local Meridian Business Set communication system . The data interface unit is also connected to the VESTA workstation . The switch is powered via a local 24VDC power supply or a power supply provided by the USB connection . In this configuration the switch is operated either by the VESTA workstation or manually through the toggle switch . The switch is therefore computer telephony integrated allowing the VESTA workstation to manipulate the switch in order to affirmatively communicate with one of the Central Offices or . The VESTA workstation may then connect the Meridian Business Set to either of the Central Office lines or .

In one embodiment the switch workstation receptacle in is a series B USB receptacle that allows for use of a standard detachable USB cable not depicted . In this embodiment and with reference to the USB detachable cable connects the switch to the workstation or to a USB hub not depicted which is connected to the workstation . However USB is not necessary to communicate between the switch and workstation . There are many different ways to communicate between the elements of this communication system. As long as the elements are able to communicate with one another and perform their functions then the communication system will perform its desired functions.

If the switch workstation receptacle is a USB receptacle and connected to a self powered USB hub the switch may receive its power through the USB. This is not required however if the switch is also connected to a DC power supply at the power receptacle . For the switch to function it needs to be powered thus providing the redundancy of multiple power supplies is helpful. Other embodiments of the power receptacle may include locking features to prevent accidental disconnections.

Also if the switch workstation receptacle is a USB receptacle a USB protocol preferably comprises a hardware version a firmware version and a protocol version embedded in a product version ID field of a USB device descriptor. The 16 bit product version ID preferably contains bits for the hardware version bits for the firmware version and bits for the protocol version.

As for the series of LEDs and illustrated on the back panel in one LED indicates that the switch is properly powered a pair of LEDs indicate whether information is being received or sent to the workstation and the remaining LED indicates whether the DC power supply flowing through communication line is functioning.

As depicted in an embodiment of the first receptacle depicted in may be a 6 wire modular jack. This modular jack carries the tip and ring depicted as pins and from a communication line as well as a plus minus voltage depicted as pins and from a DC power supply or any other power supply. As depicted in an embodiment of the second receptacle depicted in may also be a 6 wire modular jack. This modular jack carries a tip and ring depicted as pins and from another communication line such as the second communication line depicted in .

Although some embodiments depict a connection by the switch to one of two Central Offices such as in a skilled technologist would also be able to fabricate a switch that connects to a multitude of Central Offices other than the Central Offices A and B .

In an embodiment of the modular jack for the third receptacle is depicted. In the embodiment of with reference to the third receptacle comprises a 6 wire modular jack that carries a plus minus voltage depicted as pins and from a power supply line that is connected through the modular jack of the first receptacle . The modular jack at the third receptacle also carries a tip and ring depicted as pins and from either the first communication line of Central Office A or the second communication line of Central Office B depending upon the connection status of the connection circuitry of the switch .

Although and depict modular jack embodiments which may be standard RJ25C connectors in one embodiment there are many different ways to communicate between the elements of this communication system. As long as the elements are able to communicate with one another and perform their functions then the communication system will perform its desired functions.

In other embodiments the switch is capable of communicating various types of information to the workstation for monitoring reporting and updating the communication system. Table 1 illustrates an example of how information may flow between the switch and the workstation with one input report generated by the switch for each output report received from the workstation 

With reference to Table 1 and the switch may be able to monitor and report the health of the power supply . In one embodiment the switch may detect that the power supply is correct or that the power supply is above or below a desired value. The switch may then make a record of the status of the power supply which is then sent to the workstation in the form of the input report 0 illustrated in Table 1. After the workstation receives the power status record from the switch the workstation may generate a signal not depicted indicating the power status. For example the workstation may signal an alarm indicating that the power supply is failing. Similarly if the switch communicates to the workstation that the power supply is at a desired value the workstation may generate a message not depicted that the power supply is normal or has been restored. In other embodiments the switch may also communicate the current health of other power supplies such as the power supply depicted in .

The switch and workstation may also similarly communicate information on the status of the communication lines connected to the switch . For example as illustrated by the output report 0 in Table 1 the workstation may request the status of the switch as to which communication line is currently selected. In one embodiment the switch may comprise the first and second communication lines and coupled to Central Office A and Central Office B respectively as depicted in . The switch may then communicate to the workstation the input report 0 from Table 1 containing information as to which communication line is currently active. The input report 0 may also communicate the current health of the active communication line such as whether it is properly connected to its Central Office.

The flow diagram in illustrates one embodiment of a method of passing information within an embodiment of a communication system. An embodiment of the switch may be designed to work with a human interface device HID class driver supplied by an operating system such as the Windows operating system. This may eliminate the need for a custom driver.

With the use of the HID driver data is exchanged between the switch and the workstation using HID reports. With reference to the workstation may send an output report to the switch through the HID driver . This output report may be a programmatic request for the switch to select a particular Central Office such as Central Office A or Central Office B or it may be a request for the status of either the switch or the power supply . This output report results in an input report being generated by the switch to be sent to the workstation through the HID driver . During this exchange the input report from the switch is sent to the workstation where it is provided to an application programming interface API not depicted which in turn calls an API read file . In an exemplary embodiment the API read file may be part of a CTI application stored in the memory of the workstation that programmatically controls the switch or provides some other service such as media processing or customer data management. A call to an API read file does not initiate traffic on the communication line which may be a USB because the API read file is part of the CTI application being processed within the workstation . Rather it generates an API write file that is a product of the API read file input and the CTI application processing. The API write file may then transferred to the switch in the form of an output report for additional programmatic control or status requests. This output report is sent to the switch through the HID driver where the output report may programmatically control the switch by requesting that the switch select Central Office A or Central Office B or that the switch provide another input report regarding current Central Office selection and or status of the power supply .

After receiving the workstation s output report the switch replies by sending an input report to the workstation . Input reports are only generated once for each reception of output reports. The task responsible to receive the input report within the workstation is asynchronous from the task responsible to send the output report . Therefore it is possible for multiple input reports to be received by the HID driver without being read by the application. The ring buffer provides momentary storage to hold one or many input reports allowing the application to call the API read file at its earliest convenience thus preventing input report from being overwritten and lost.

As for controlling which Central Offices or communication lines are active within the switch there are many options provided in this flexible system. First in some configurations the switch may be controlled by the workstation . is a flow chart illustrating one embodiment of a method of programmatic selection of a Central Office in an exemplary communication system. More specifically with reference to and workstation in the CTI system programmatically controls the switch to connect to one particular Central Office from among a plurality of Central Offices coupled to the switch such as Central Offices and that are coupled to the switch through the communication lines and . The switch then performs a series of steps not in any particular order to perform the requested function.

For example starting at step in the programmatic selection proceeds to step where the workstation sends a request to the switch to connect to one particular Central Office from among a plurality of Central Offices coupled to the switch . The switch receives the request from the workstation at step and then at step the switch turns off a status LED such as the LEDs or depicted in associated with the unselected Central Office. At step the switch breaks the connection on the unselected Central Office and corresponding communication line and applies a 900 Ohm termination to that unselected Central Office and corresponding communication line. Conversely at step the switch removes a 900 Ohm termination from the selected Central Office and corresponding communication line and makes a connection to the selected Central Office and corresponding communication line. The switch then turns on a status LED associated with the selected Central Office at step thereby visually indicating the selected Central Office. The switch updates its state at step to identify the chosen Central Office and to indicate that it was most recently activated by the workstation . The switch then generates a status report at step that indicates the current state of the switch and the status report is communicated to the workstation at step . The workstation receives the status report sent by the switch and the workstation may generate an error message at step if the status report indicates a failure to connect to the selected Central Office or if there are other problems in completing the connection. The exemplary programmatic selection illustrated by then ends at step . If there is a problem completing the connection to the selected Central Office by programmatic control of the switch by the workstation a user may manually select a Central Office with the toggle switch .

In addition to programmatic control of the switch by a workstation a user may also manually instruct the switch to connect to a particular Central Office and its corresponding communication line. A flow chart illustrating a method of operation of an exemplary communication system with manual selection is shown in . With reference to and a user not depicted activates the toggle switch selecting a Central Office from a plurality of Central Offices including Central Office A or Central Office B . In response to this manual activation the switch performs a series of functions not necessarily in any particular order.

For example starting at step in the manual selection proceeds to step where the user activates the toggle switch thereby selecting for connection one particular Central Office from among a plurality of Central Offices coupled to the switch . The switch detects the manual activation of the toggle switch at step and then at step the switch turns off a status LED such as the LEDs or depicted in associated with the unselected Central Office. At step the switch breaks the connection on the unselected Central Office and corresponding communication line and applies a 900 Ohm termination to that unselected Central Office and corresponding communication line. Conversely at step the switch removes a 900 Ohm termination from the selected Central Office and corresponding communication line and makes a connection to the selected Central Office and corresponding communication line. The switch then turns on a status LED associated with the selected Central Office at step thereby visually indicating the selected Central Office. The switch updates its state at step to identify the chosen Central Office and to indicate that it was most recently activated by a manual selection at the toggle switch . The switch then generates a status report at step that indicates the current state of the switch and the status report is communicated to the workstation at step . The workstation receives the status report sent by the switch and the workstation generates a message at step that the last Central Office selection was at the toggle switch . The workstation may also generate an error message at step if the status report indicates a failure to connect to the selected Central Office or if there are other problems in completing the connection. The exemplary programmatic selection illustrated by then ends at step .

Resulting from the exemplary methods of operation illustrated in in the event of a power outage or if the switch hardware resets or reboots the previously selected communication line will continue to be the selected communication line within the switch . This is because the last activation of a Central Office will result in a 900 Ohm termination on the unselected Central Office and corresponding communication line with an absence of a 900 Ohm termination on the selected Central Office and corresponding communication line until there is another Central Office and corresponding communication line selected either manually through the toggle switch or programmatically through the CTI system or workstation .

In the embodiments illustrated by the exemplary methods of operation in the 900 Ohm termination may include a resistance and capacitance. In one embodiment for example in the resistance and capacitance may be a 900 Ohm resistance in series with a 2.2 uF capacitor capable of withstanding a high voltage such as 100VDC between the Tip signal and a Ring signal depicted as pins and . It is understood however that one of reasonable skill in the art will be able to define several different types of termination.

The communication lines and from Central Office A and B both normally expect a communication device such as communication device to be attached to the end of the communication line as depicted in . Because the switch causes one of the two communication lines or to be disconnected from the communication device the open ended communication line or may be affected by transient noise and other interfering signals and may cause the unselected Central Office to detect false transmission errors. To reduce the risk of false transmission errors a termination of 900 Ohm is connected to the unused communication line or to closely simulate the impedance that would normally be provided by the communication device if it was connected to the line. In one embodiment the communication device is a Meridian Business Set telephone instrument with a normal termination of documented by Nortel as 900 Ohms and 2.2 uF.

Specific parts shapes materials functions and modules have been set forth herein. However a skilled technologist will realize that there are many ways to fabricate the system of the present invention and that there are many parts components modules or functions that may be substituted for those listed above. While the above detailed description has shown described and pointed out the fundamental novel features of the invention as applied to various embodiments it will be understood that various omissions and substitutions and changes in the form and details of the components illustrated may be made by those skilled in the art without departing from the spirit or essential characteristics of the invention.

