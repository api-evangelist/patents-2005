---

title: System and method for multimedia delivery in a wireless environment
abstract: A multimedia processing system and method thereof are provided. The system and method provide for synchronizing a first clock of a multimedia decoder of a first multimedia processing device to a second clock of a multimedia encoder of a second multimedia processing device, synchronizing a first timing reference of the multimedia decoder to a second timing reference of the multimedia encoder, receiving, at a network interface of the first multimedia processing device, an encoded multimedia data stream from a network interface of the second multimedia processing device, wherein the encoded multimedia data stream is encoded by the multimedia encoder based on the second clock and the second timing reference, and decoding the encoded multimedia data stream at the multimedia decoder based on the first clock and the first timing reference.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07421048&OS=07421048&RS=07421048
owner: ViXS Systems, Inc.
number: 07421048
owner_city: Toronto, Ontario
owner_country: CA
publication_date: 20050120
---
Related subject matter is found in a co pending U.S. patent application having application No. 09 823 646 filed Mar. 20 2001 entitled ADAPTIVE BANDWIDTH FOOTPRINT MATCHING FOR MULTIPLE COMPRESSED VIDEO STREAMS IN A FIXED BANDWIDTH NETWORK which is hereby incorporated herein by reference in its entirety. Related subject matter is found in a co pending U.S. patent application having application No. 09 864 524 filed May 24 2001 entitled METHOD AND APPARATUS FOR A MULTIMEDIA SYSTEM which is hereby incorporated herein by reference in its entirety. Related subject matter is found in a co pending U.S. patent application having application No. 09 864 602 filed May 24 2001 entitled METHOD AND APPARATUS OF MULTIPLEXING A PLURALITY OF CHANNELS IN A MULTIMEDIA SYSTEM which is hereby incorporated herein by reference in its entirety. Related subject matter is found in a co pending U.S. patent application having application No. 09 864 476 filed May 24 2001 entitled METHOD AND APPARATUS FOR MANAGING RESOURCES IN A MULTIMEDIA SYSTEM which is hereby incorporated herein by reference in its entirety. Related subject matter is found in a co pending U.S. patent application having application No. 09 990 976 filed Nov. 21 2001 entitled SYSTEM AND METHOD FOR MULTIPLE CHANNEL VIDEO TRANSCODING which is hereby incorporated herein by reference in its entirety. Related subject matter is found in a co pending U.S. patent application having application No. 09 990 737 filed Nov. 21 2001 entitled METHOD AND SYSTEM FOR RATE CONTROL DURING VIDEO TRANSCODING which is hereby incorporated herein by reference in its entirety. Related subject matter is found in a co pending U.S. patent application having application No. 10 137 151 filed May 2 2002 entitled METHOD AND SYSTEM FOR PROTECTING VIDEO DATA which is hereby incorporated herein by reference in its entirety. Related subject matter is found in a co pending U.S. patent application having application No. 10 174 371 filed Jun. 18 2002 entitled DYNAMICALLY ADJUSTING DATA RATE OF WIRELESS COMMUNICATIONS which is hereby incorporated herein by reference in its entirety. Related subject matter is found in a co pending U.S. patent application having application No. 10 376 581 filed Feb. 28 2003 entitled METHOD AND APPARTUS FOR NON INTRUSIVE TRANSCEIVER PROPERTY ADJUSTMENT which is hereby incorporated herein by reference in its entirety. Related subject matter is found in a co pending U.S. patent application having application No. 10 376 853 filed Feb. 28 2003 entitled SYSTEM FOR PROVIDING DATA TO MULTIPLE DEVICES AND METHOD THEREOF which is hereby incorporated herein by reference in its entirety. Related subject matter is found in a co pending U.S. patent application having application No. 10 345 710 filed Jan. 16 2003 entitled METHOD OF MOTION VECTOR PREDICTION AND SYSTEM THEREOF which is hereby incorporated herein by reference in its entirety. Related subject matter is found in a co pending U.S. patent application having application No. 10 345 847 filed Jan. 16 2003 entitled METHOD OF VIDEO ENCODING USING WINDOWS AND SYSTEM THEREOF which is hereby incorporated herein by reference in its entirety. Related subject matter is found in a co pending U.S. patent application having application No. 10 375 582 filed Feb. 24 2003 entitled METHOD AND SYSTEM FOR TRANSCODING VIDEO DATA which is hereby incorporated herein by reference in its entirety. Related subject matter is found in a co pending U.S. patent application having application No. 10 461 095 filed Jun. 13 2003 entitled SYSTEM AND METHOD FOR PROCESSING AUDIO FRAMES which is hereby incorporated herein by reference in its entirety. Related subject matter is found in a co pending U.S. patent application having application No. 10 683 062 filed Oct. 10 2003 entitled METHOD AND APPARATUS FOR ACCURATELY DETECTING VALIDITY OF A RECEIVED SIGNAL which is hereby incorporated herein by reference in its entirety. Related subject matter is found in a co pending U.S. patent application having application No. 10 673 693 filed Sep. 29 2003 entitled METHOD AND SYSTEM FOR SCALING IMAGES which is hereby incorporated herein by reference in its entirety. Related subject matter is found in a co pending U.S. patent application having application No. 10 673 612 filed Sep. 29 2003 entitled METHOD AND SYSTEM FOR NOISE REDUCTION IN AN IMAGE which is hereby incorporated herein by reference in its entirety.

The present disclosure relates generally to multimedia data delivery and more particularly to multimedia delivery in wireless systems.

In order to achieve reliable broadcast quality motion picture experts group MPEG audio video A V distribution in an MPEG A V delivery system the audio and video received and encoded at an MPEG server typically must be played back at an MPEG client at substantially the same rate at which the MPEG data was received at the server. This matching rate significantly contributes to the reliable delivery of A V data as it allows the decoder at the MPEG client to consume A V data at the rate at which it was generated thereby reducing or avoiding buffer underflow or overflow and thus reducing or eliminating artifacts in the displayed video and audio. In view of the benefits of the matching rate requirement the MPEG standards e.g. ISO IEC 13818 typically institute a quality requirement that the jitter between the server and the client remain within 500 nanoseconds ns . Accordingly the MPEG standards implement elaborate mechanisms in an effort to fulfill this jitter requirement in standard broadcast systems. These mechanisms typically are satisfactory in satellite cable or terrestrial delivery systems due to the near constant delay between the server and the client. However in wireless networks and other similar networks these mechanisms often fail because the wireless links typically do not exhibit a substantially constant delay between wireless devices. To illustrate in IEEE 802.11 applications the frequency and thus the symbol rate used to transmit information is dependent on the distance between the transmitter and the receiver. Accordingly as the distance between the server and client varies so does the jitter in the transmission of MPEG data between the server and client. Similarly obstructions between the server and the client may cause dynamic changes in the symbol rate thereby resulting in dynamic changes in the transmission time and therefore the jitter of MPEG data.

The magnitude of jitter also may increase as a result of the implementation of MPEG delivery systems within a network such as a local area network LAN a wide area network WAN a metropolitan area network WAN the Internet and the like. In these instances the transmission of MPEG data from a server to a client typically would require the processing of the MPEG data at various layers of the network stack e.g. the telecommunications protocol internet protocol TCP IP stack at the server the transmission of the processed MPEG data via a wireless medium and then the subsequent processing of the MPEG data at various layers of the network stack at the client. Considerable additional jitter maybe introduced due to variances in the software and hardware implementing these network stacks. The overall jitter resulting from these variances may be of such magnitude so as to prevent the client from synchronizing to the server. Accordingly improved techniques for synchronizing devices in wireless environments so as to reduce jitter would be advantageous.

The following description is intended to convey a thorough understanding of the present disclosure by providing a number of specific embodiments and details involving synchronized multimedia data delivery. It is understood however that the present disclosure is not limited to these specific embodiments and details which are exemplary only. It is further understood that one possessing ordinary skill in the art in light of known systems and methods would appreciate the use of the disclosure for its intended purposes and benefits in any number of alternative embodiments depending upon specific design and other needs.

Referring now to an exemplary MPEG delivery system is illustrated in accordance with at least one embodiment of the present disclosure. In the depicted example the delivery system comprises an MPEG server coupled to an MPEG client via a wireless link . The MPEG server comprises an audio video A V encoder a radio frequency RF transceiver a transmitter synchronization module clock sources and and an antenna . The MPEG client comprises an antenna an RF transceiver an input buffer an A V decoder a receiver synchronization module and clock sources and . The A V encoder may comprise any of a variety of MPEG encoders or transcoders and the A V decoder similarly may comprise any of a variety of MPEG decoders or transcoders. The RF transceivers and may include wireless transmitters compatible with one or more wireless protocols such as for example IEEE 802.11 a b c e g i collectively referred to herein as IEEE 802.11 and the like. The clock sources and may comprise any of a variety of crystals or oscillators that may be used to generate a clock signal including but not limited to overtone crystal oscillators fundamental crystal oscillators canned oscillators LC oscillators ceramic resonators VCXO oscillators and the like.

At the MPEG server the A V encoder receives input A V data and provides as an output an encoded or transcoded representation of the input A V data . The RF transceiver packetizes the encoded transcoded A V data and provides it for transmission over the wireless link via the antenna . The A V data may represent for example MPEG audio and or video data provided by a satellite feed a cable head end an Internet data stream a DVD player and the like. At the MPEG client the packetized A V data is received by the RF transceiver via the antenna . The A V data is depacketized and provided to the input buffer for storage. The A V data is provided from the input buffer to the A V decoder for decoding or transcoding and the resulting decoded transcoded A V data may be provided for display on one or more display devices stored on a hard disk or optical drive retransmitted to another device for further processing and the like.

As illustrated the A V encoder is clocked by clock signal having frequency provided by clock source and the transceiver is clocked by clock signal having frequency provided by clock source . At the MPEG client the A V decoder is clocked by clock signal derived from a clock signal having frequency provided by the clock source and the transceiver is clocked by clock signal having frequency provided by the clock source . For ease of discussion the frequencies and are assumed to be approximately 27 megahertz MHz in accordance with the MPEG standards and the frequencies and are assumed to be approximately 40 MHz. However clock signals having other frequencies may be used as appropriate without departing from the spirit or the scope of the present disclosure.

Ideally the clock sources and are perfectly synchronized and the clock sources and are perfectly synchronized thereby reducing or eliminating jitter between the encoding of the A V data at the MPEG server and the subsequent decoding of the A V data at the MPEG client . However process variations changes in temperature voltage and manufacturing defects typically result in the production of clock sources that do not maintain an exactly constant frequency. This frequency drift typically is not mirrored between the clock sources of the MPEG server and the MPEG client and therefore potentially results in unacceptable jitter in the absence of a technique for adjusting the clock sources of the MPEG client to more closely match the clock sources of the MPEG server . Accordingly in at least one embodiment the MPEG distribution system employs a synchronization technique based on the frequency offsets between multiple clocks.

In at least one embodiment the transceiver synchronization module receives as inputs the clock signals and and from these clock signals determines a clock offset value herein referred to ppm between the clock signals and . The clock offset value ppmpreferably is represented as parts per million ppm but in other instances may be represented as a frequency value or clock tick value. An exemplary technique for determining the clock offset value ppmis discussed below with reference to . In at least one embodiment the clock offset value ppmis representative of the variance between the clock signals and i.e. whether the clock source is slower or faster relative to the clock source .

The synchronization module then provides the clock offset value ppmto the RF transceiver for transmission to the MPEG client . In at least one embodiment RF transceiver packetizes the clock offset value ppmby embedding it within a maintenance message between the MPEG server and the MPEG client . To illustrate depicts an exemplary maintenance message packet having in its payload an absolute server time field for providing an indication of the time at the MPEG server and a ppmoffset field for providing an indication of the value of ppm. At the MPEG client the RF transceiver receives the packetized clock offset value ppm depacketizes the clock offset value ppmand provides it to the receiver synchronization module . In addition the RF transceiver or the synchronization module determines a second clock offset herein referred to as ppm between the clock signals and . As with the clock offset ppm the clock offset ppmpreferably is represented as ppm but also may be represented by for example a frequency value or a clock tick value. The RF transceiver then provides the clock offset value ppmto the synchronization module . In at least one embodiment the synchronization module utilizes the clock offset values ppmand ppmto adjust the clock signal provided to the A V decoder to adjust for the jitter present between the clock sources and and the clock sources and as discussed in greater detail below.

It will be appreciated that the use of the clock offset values ppmand ppmmay result in substantial frequency drift over time as there is no feedback loop between the clocks and the clocks and . Accordingly in at least one embodiment the synchronization module monitors the fullness of the input buffer to gauge the effective synchronization of the clocks to the clocks . Generally when the clock signal of an MPEG decoder is adequately synchronized to the clock signal of an MPEG encoder the buffer supplying MPEG data to the decoder typically remains within a certain buffer fullness because the data typically is output from the buffer at the same rate it is input due to the adequate clock synchronization. However when the clock signals are not adequately synchronized buffer overflow or underflow may result. Accordingly when the synchronization module detects that the input buffer may be heading toward a buffer underflow or overflow condition the synchronization module may implement a clock correction procedure as described in detail below.

Referring to an exemplary operation of the MPEG delivery system of is illustrated in accordance with at least one embodiment of the present disclosure. The method representing the exemplary operation initiates at step wherein the clock of the MPEG client is synchronized to the clock of the MPEG server using any of a variety of techniques known to those skilled in the art. At step the decoder timing reference e.g. derived from clock of the MPEG client is synchronized to the encoder timing reference e.g. clock of the MPEG server . Exemplary techniques for achieving this synchronization are described in greater detail below with reference to . After the clocks of the MPEG server and the MPEG client are synchronized MPEG data streams may be encoded at the MPEG server and transmitted via the wireless network for example to the MPEG client for subsequent decoding and display. In at least one embodiment the timing reference values embedded in the MPEG data stream e.g. program clock references PCRs or system clock references SCRs may be converted from absolute values i.e. values that refer directly to a fixed timing to relative values i.e. timing values that are relative to a particular timing point . Thus an absolute time reference may be viewed as a measurement of a single clock at a particular time while a relative time reference may be viewed as a calculation of the difference between two clocks measured simultaneously. As described in greater detail below with reference to this conversion may be implemented by subtracting the local clock reference of the MPEG server from the absolute timing values in the MPEG data stream at the MPEG server prior to providing the MPEG data stream to the MPEG client .

At step the MPEG data stream is packetized and provided to the MPEG client via the wireless network . At step the relative timing reference values in the MPEG data stream are converted back to absolute timing reference values. As described below with reference to the MPEG client may convert the relative timing reference values back to absolute timing values by adding the client s local clock reference at the MPEG client to the relative timing reference values. The MPEG data stream then may be buffered in the input buffer and then provided to the A V decoder at the appropriate time for decoding and display.

Referring now to an overview of an exemplary method for synchronizing the timing reference used by the A V decoder of the MPEG client to the timing reference used by the A V encoder of the MPEG server is illustrated in accordance with at least one embodiment of the present disclosure. The illustrated method initiates at step wherein a first offset between the clock and the clock is determined. As described in detail with reference to this first offset may be derived from a ratio of the number of clock ticks or cycles of the clock to the number of clock ticks or cycles of the clock over a predetermined period. The first offset therefore may represent a relative synchronization between the clocks and .

At step a representation of the first offset is provided to the MPEG client . To illustrate the first offset representation may be packetized and transmitted as one or more packets via the wireless transceivers and . At step a second offset between the clock of the MPEG server and the clock of the MPEG client is determined. The second offset may be determined using any of a variety of techniques known to those skilled in the art such as for example by using time domain correlation on a short synch training period to determine rough time and frequency alignment and then using time domain correlation in conjunction with frequency domain analysis to determine fine timing and frequency alignment. Time domain correlation and phase information from the OFDM pilot signal and OFDM constellation then may be used to drive an increasingly finer frequency offset between the transceivers and . The second offset therefore may represent a relative synchronization between the clocks and .

As noted above the first offset represents the relative synchronization between the clocks and and the second offset may represent the relative synchronization between the clocks and . Accordingly at step the first and second offsets may used to adjust the timing reference of the A V decoder e.g. clock signal so as to synchronize it with the clock of the MPEG server as described in greater detail with reference to . Moreover as noted below the fullness of the input buffer may be monitored and used to detect an error which may be used to further adjust the clock signal . In this instance a trend toward a potential buffer underflow or overflow may be used to detect whether or not the clock synchronizations is operating properly and the client clock can be artificially slowed down or sped up to compensate for the error and thus avoid the underflow and overflow. Moreover the MPEG client may implement a crash lock mechanism whereby the MPEG client after first connecting to the MPEG server may utilize the absolute server time and the ppmvalue in the first received heartbeat message to set it s local absolute time equal to the absolute time of the MPEG server plus some additional predetermined time e.g. 0.5 seconds corresponding to the network s buffer size. The MPEG client further may use this crash lock technique after a channel change or if it is determined that the absolute time of the MPEG client is too far out of synch with the absolute time of the MPEG server .

Referring now to an exemplary implementation of the transmitter synchronization module is illustrated in accordance with at least one embodiment of the present disclosure. In the illustrated example the synchronization module comprises a scaling PLL counters a latch and a clock offset calculation module . The scaling PLL receives as an input the clock signal and outputs a clock signal scaled by a predetermined scaling factor. In the illustrated example the frequency of the clock signal is approximately 40 MHz and the scaling factor of the scaling PLL is four resulting in the scaled clock signal having a frequency of approximately 160 MHz. The clock signal is used to increment the counter and the clock signal having a frequency of approximately 27 MHz is used to increment the counter . The counter has a programmable maximum count register and when the counter reaches this maximum count a ripple carry output RCO is provided at the output of the counter . The RCO is input to the latch causing the latch to latch to the current count of the counter and further causing the counters and to reset to zero. The current count of the counter is provided to the clock offset calculation module whereupon the clock offset value ppmis calculated.

It will be appreciated that the current count of the counter is representative of the number of clock cycles of the clock signal during a predetermined number of clock cycles of the clock signal which was scaled to improve its resolution . From the current count of the counter the clock offset calculation may determine the clock offset value ppmin accordance with the following equations 1 Bit Count Freq Freq Freq ppm 16 EQ. 1 2 Bit Count Freq Freq Freq ppm 16 EQ. 2 Gain ppm 1 2 EQ. 3 ppm Freq2 Gain ppm 2 EQ. 4 where Bit Count represents the maximum unsigned number that may be represented by the number of bits in registers and e.g. Bit Count 2for a 30 bit register Freqrepresents the frequency of clock signal e.g. 27 MHz Freqrepresents the frequency of the scaled clock signal e.g. 160 MHz ppmrepresents the maximum ppm offset of the clocks and and ppmrepresents the minimum ppm offset of the clocks and and ppmrepresents the spread between ppmand ppm. As an example ppmtypically would be approximately 40 ppm ppmmight be approximately 40 ppm for a total ppmof approximately 80 ppm.

Referring now to an exemplary implementation of the receiver synchronization module is illustrated in accordance with at least one embodiment of the present disclosure. In the illustrated example the synchronization module comprises a PHY processor a MAC processor a numerically controlled oscillator NCO a PLL a transport module and buffer monitor .

Upon reception of a wireless signal an orthogonal frequency division multiplexing OFDM demodulator of the RF transceiver demodulates the wireless signal and provides the resulting A V data to the MAC processor which in turn buffers the A V data in the input buffer . As discussed in detail below the MAC processor or alternatively the PHY processor may convert the timing reference values e.g. PCRs or SCRs embedded in the A V data from relative values back to absolute values. As noted above the data also may include a representation of the clock offset value ppm which the MAC processor uses to control the NCO . The OFDM demodulator further provides a phase offset or frequency offset to the PHY processor where the phase frequency offset is determined from timing circuits of the OFDM demodulator such as detectors synchronizers and PLLs that continuously run to correctly recover the data. Typically this phase frequency offset is averaged over a number of packets to obtain a frequency or phase offset accurate within fractions of a ppm. The PHY processor determines the clock offset value ppmfrom this phase frequency offset and provides the clock offset value ppmto control the NCO . The buffer monitor in one embodiment monitors the fullness of the buffer to determine whether the fullness of the buffer has fallen below a lower threshold or has risen above a higher threshold. Based on this comparison the buffer monitor provides an error e to the NCO .

The NCO output frequency is adjusted based on the clock offset values ppmand ppmand the error e. It will be appreciated that the resulting signal output by the NCO will be dirty i.e. having a periodic clock cycles and therefore is smoothed by the PLL . The resulting clock signal then may be provided to the transport module which uses the clock signal for timing the removal of A V data from the buffer . The clock signal is also provided to the A V decoder for use in timing the decoding and display of the A V data provided by the transport module .

Referring now to an exemplary implementation of the NCO is illustrated in accordance with at least one embodiment of the present disclosure. The NCO comprises two summation modules an offset register an ACC register and a divider . In operation the clock offset values ppmand ppmand the error e are summed by the summation module and loaded into the offset register . Although not illustrated the summation module may comprise an additional input e.g. a nominal ppm input such that the summation module outputs a nominal ppm value when the inputs for error e ppmand ppmare zero so that the nominal frequency will be output. The contents of the offset register are continually added to the ACC register by the summation module which in turn updates at a rate determined by a clock signal which represents a scaled representation of the clock signal . At each occurrence of a RCO the state of the divider changes thereby creating the clock signal which has the desired ppm offset from the clock signal . The clock signal being substantially synchronized to the clock signal using the techniques described above then may be provided to the A V decoder for accurate timing of its decoding operations.

Referring now to exemplary general methods and summarizing the above described techniques are illustrated. Method initiates at step wherein the number of clock cycles of the clock signal over a predetermined time period are measured. At step the number of clock cycles of the clock signal are measured over the same time period. At step the clock offset value ppmis determined from a comparison of the clock cycles measured in steps and as discussed above with respect to . At step the clock offset value ppmis provided from the MPEG server to the MPEG client via the wireless link for use in adjusting one or more of the clock sources of the MPEG client .

Method initiates at step whereupon the MPEG client receives the clock offset value ppm. At step the clock offset value ppmis determined. Meanwhile at step the fullness of the buffer is monitored by comparing the fullness with one or more low and high thresholds to detect a potential buffer underflow or overflow. Based on this comparison an error value e is generated. At step the clock signal provided to the A V decoder is adjusted based on the clock offset values ppm ppmand the error value e so as to more closely synchronize the clock signal to the clock signal .

Referring now to an exemplary technique for converting the timing reference values e.g. PCRs or SCRs of an MPEG data stream from absolute values to relative values and vice versa is illustrated in accordance with at least one embodiment of the present disclosure. For ease of illustration the technique is described in the context of PCRs in an MPEG transport stream TS . However using the guidelines provided herein this technique may be utilized to convert SCRs in MPEG program streams PS without departing from the spirit or the scope of the present disclosure.

As illustrated an MPEG transport stream comprising a plurality of PCR values also referred to herein as PCR PCR respectively is provided from the A V encoder to the transmitter synchronization module . A component of the synchronization module converts the PCR values from absolute timing reference values to relative PCR values respectively also referred to herein as PCR PCR . In at least one embodiment the PCR values are converted to relative PCR values by subtracting the local timing reference herein referred to as the real time protocol RTP clock of the MPEG server which in one embodiment comprises the counter incremented by the local clock . To illustrate each PCR value may be converted in accordance with the following equation EQ. 5 where RTPrepresents the value of the RTP counter incremented by local clock .

The resulting MPEG TS stream then is packetized and transmitted between the RF transceiver of the MPEG server and the RF transceiver of the MPEG client . At the MPEG client the MPEG stream is depacketized and a component of the receiver synchronization module converts the relative PCR values back to absolute PCR values also referred to herein as PCR PCR . In one embodiment the synchronization module converts the PCR values back to absolute values by adding the client RTP counter value incremented by the clock of the MPEG client to generate the PCR values in accordance with the following equation EQ. 6 where RTPrepresents the value of the RTP by the local clock .

Note that when EQ. 6 is substituted into EQ. 7 the following equation results EQ. 7 Thus presuming that RTPand RTPare synchronized i.e. RTP RTP EQ. 8 simplifies to EQ. 8

Thus as EQ. 9 demonstrates the conversion from absolute PCR values to relative PCR values at the MPEG server and the subsequent conversion of the relative PCR values back to absolute PCR values recovers the original PCR values assuming the server and client RTP counters are synchronization while reducing or eliminating the effects of jitter and propagation delay between the MPEG server and the MPEG client on the PCR values in the resulting MPEG transport stream .

Referring now to an exemplary packet retransmission method is illustrated in accordance with at least one embodiment of the present disclosure. Many packet switched network protocols provide for a packet retransmission technique wherein a receiving device may request the retransmission of a packet upon the determination that the packet was not received or was received in a corrupted form. However these conventional retransmission techniques simply provide that the same exact packet be retransmitted. However this may result in timing issues at the receive if the packet contains absolute timing reference values such as the network heartbeat message as the subsequent retransmission of packets having the same absolute timing reference value may cause undesirable time shifts at the receiving device.

Accordingly in one embodiment the MPEG server implements method in order to adjust the value of absolute timing references in retransmitted packets so as to reduce the occurrence and magnitude of such timing issues. At step a packet is transmitted from the MPEG server to the MPEG client . At step the MAC processor determines that the packet was not received or was corrupted. Accordingly the MAC processor provides a retransmit packet request to the MPEG server . A MAP processor at the MPEG server determines whether the packet contains an absolute timing reference value. If so the absolute timing reference value is adjusted based on the local clock at step and the packet is retransmitted at step . If not the packet is retransmitted without alteration at step .

Other embodiments uses and advantages of the present disclosure will be apparent to those skilled in the art from consideration of the specification and practice of the disclosure disclosed herein. The specification and drawings should be considered exemplary only and the scope of the disclosure is accordingly intended to be limited only by the following claims and equivalents thereof.

