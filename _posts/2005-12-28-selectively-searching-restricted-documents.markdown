---

title: Selectively searching restricted documents
abstract: A first subset of attributes of documents responsive to at least one restriction may be displayed. Thereafter, a selection of a graphical user interface element associated with one of the attribute in the first subset may be received resulting in a display of a window comprising an alphanumeric input element. A key word search query may be received in the input element so that a second subset of attributes of documents responsive to the at least one restriction, the attribute associated with the selected graphical user interface element, and the key word search query may be displayed. Related methods, apparatuses, computer program products, and computer systems are also described.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07895233&OS=07895233&RS=07895233
owner: SAP AG
number: 07895233
owner_city: Walldorf
owner_country: DE
publication_date: 20051228
---
The subject matter described herein relates to a selective searching of a plurality of documents responsive to one or more restrictions.

Search queries are continually being generated and executed in relation to expanding numbers of documents and other data sources. However difficulties arise when large numbers of matching documents are presented in response to a query. In particular it is often difficult to categorize and traverse various groups of responsive documents in an efficient and user friendly fashion.

In one aspect a first subset of attributes of documents responsive to at least one restriction may be displayed. Thereafter a selection of a graphical user interface element associated with one of the attribute in the first subset may received. After this selection a window comprising an alphanumeric input element may be displayed so that a key word search query may be received in the input element. In response to this key word search query a second subset of attributes of documents responsive to the at least one restriction the attribute associated with the selected graphical user interface element and the key word search query may be displayed.

In some variations the at least one restriction and the attribute associated with a selected graphical user interface element may be displayed in a breadcrumb. The breadcrumb and or the displayed attributes may also include a numerical indication of a number of associated documents so that a user may if desired navigate into areas where there are more responsive documents. The restrictions may be based on key word search queries and or based on navigation through a virtual taxonomy of the documents. Furthermore in some variations information characterizing at least a portion of the documents responsive to the at least one restriction the attribute associated with the selected graphical user interface element and the key word search query may be displayed e.g. title of documents passages containing restriction and or query etc. .

The attributes may in some implementations be pairwise disjoint so that each document is only associated with a single attribute. Additionally or in the alternative the displayed attributes e.g. integer attributes alphanumeric attributes etc. may be each associated with a substantially identical number of documents and or separated by a pre determined fixed interval. Moreover only those attributes having greater than or equal to a pre determined number of associated documents may be displayed.

Access to documents may also be based on permission levels associated with the user. In such arrangements only those documents to which a user has permission to access may be considered and or displayed in determining the attributes of responsive documents.

In an interrelated aspect a first subset of attributes of documents responsive to at least one restriction. A selection of a graphical user interface element associated with one of the attribute in the first subset may be received. In response to this selection a second subset of attributes of documents responsive to the at least one restriction query and the attribute associated with the selected graphical user interface element may be displayed according to a pre determined prioritization ranking. This pre determined ranking may be based on factors such as number of responsive documents containing the displayed attributes most recently accessed documents containing the displayed attributes most frequently accessed documents containing the displayed attributes alphabetical order and the like.

In yet another interrelated aspect a first subset of attributes of documents responsive to at least one restriction may be displayed. Thereafter a selection of a graphical user interface element associated with one of the attribute in the first subset may be received. This selection may result in the display of a second subset of attributes of documents responsive to the at least one restriction query and the attribute associated with the selected graphical user interface element each attribute having a substantially equal number of documents associated therewith.

Computer program products which may be embodied on computer readable material are also described. Such computer program products may include executable instructions that cause a computer system to conduct one or more of the method acts described herein.

Similarly computer systems are also described that may include a processor and a memory coupled to the processor. The memory may encode one or more programs that cause the processor to perform one or more of the method acts described herein.

The subject matter described herein provides many advantages. The techniques for selectively displaying documents responsive to a search query as described herein prevent overly complex combinatorial arrangements of documents. Moreover flexible navigation alternatives are provided thereby increasing usability when traversing a large number of documents responsive to a search query. Such improvements in navigation may be used for a wide variety of applications including internal enterprise portals and auction and other websites selling a large number of goods and services. In particular the subject matter described herein allows for taxonomies to be computed on the fly during navigation so that documents may be categorized according to time intervals such as last week last day last seven hours week before from 10 to 5 days before and the like.

The details of one or more variations of the subject matter described herein are set forth in the accompanying drawings and the description below. Other features and advantages of the subject matter described herein will be apparent from the description and drawings and from the claims.

The input processor may receive a restriction from one of the plurality of clients via the communications network . This search query restriction may then be provided to the engine which via the output processor polls the data repository to obtain responsive documents. The engine in some variations may additionally poll the data repository for one or more indexes which may be used to identify documents responsive to the restriction as well as any preceding and subsequent restrictions in the sequence. The engine also constructs a breadcrumb and or a virtual taxonomy for the identified responsive documents and generates data to be provided to the requesting client so that the client can in turn render a graphical representation of at least a portion of the breadcrumb and or virtual taxonomy. Optionally information characterizing documents associated with each restriction or category may be displayed.

The virtual taxonomy may be defined on the application programming interface API level via an XML file that specifies one or more indexes containing the documents as well as the properties used to structure the documents. For the example above only the properties Company and Price were defined. For Company it was specified that it should be used as the first listed attribute whereby all values of the documents in the index should be listed. For Price it was specified that it should be used as the second listed attribute whereby price ranges should be determined.

The structure of the taxonomy may be computed on the fly during navigating through the virtual taxonomy . Therefore the structure of the virtual taxonomy is always adapted to a current document set. If for example documents of a further company are added to one of the identified indexes these documents are immediately visible.

In some variations the order of the taxonomy levels is pre defined. For example illustrates XML code in which a fixed order taxonomy is defined. With this arrangement a VIR DEFINITION part may specify one or more of the following 

The next part of the XML code is a list of indexes which specifies the documents used in the virtual taxonomy. By including multiple indexes a single taxonomy containing documents from all of these indexes may be specified. Thereafter the XML code specifies the different levels e.g. category levels of the virtual taxonomies. The order of these definitions determines the order of the levels in the taxonomy. Every level may be either an attribute or query level.

An attribute level may use the tag VIR ATTR . It may defines taxonomy level for a property using one or more of the following settings 

A query level may be defined by a set of queries. Each query may define a subnode containing only those child nodes fulfilling the query. A query level may be specified via the tag VIR QUERY with a name. Such a query level may contain a list of VIR QUERY RID s each specifying a node for that level via one or more of the following 

If the demo001 folder is selected a further level of the taxonomy as illustrated in may be displayed. This taxonomy level also includes a breadcrumb header which additionally includes the demo001 folder node. The folders displayed at this level of taxonomy may be built by separating the documents with respect to an attribute such as the last modified date. For such an attribute ranges may be determined as defined by proposeRanges . For date properties the documents may be separated into any pre defined granularities such as years quarter months days and the like. For other properties a start and end value may be provided. The displayName specified in the XML may be presented before the values. For every folder the number of documents below that folder i.e. fulfilling the restrictions of the folder may be presented. In Modified 2001 folder indicates that 5919 documents were modified in the year 2001.

If the Modified 2001 folder is selected a query level Countries a further level of the taxonomy is presented as illustrated in . This level includes a breadcrumb header that includes all of the traversed levels with Taxonomies as the senior folder and Modified 2001 as the junior folder. In this case the illustrated queries are content queries using the terms France Germany and Spain however it will be appreciated that any kind of query may be specified which are illustrated in their respective folders . The folder with the label Spain shows that only 51 documents modified in 2001 contain the term Spain .

If the Spain folder is selected the next subsequent and last level of the taxonomy is expanded as illustrated in which also includes a modified breadcrumb header . If any of the folders within this level are selected links to documents in such folder are shown as compared to another level of folders as illustrated in which also contains a revised breadcrumb header .

Returning to the level illustrated in if the Modified 2000 folder is selected and if there are no documents fulfilling one of the queries on the next level links to the corresponding documents are immediately presented as illustrated in which includes a corresponding breadcrumb header . With this arrangement because a documentSeparationNumber has been specified the document links are automatically subdivided into separation folders. If you select one these folders you will get the documents in it.

If the Modified 2004 folder is selected at level in is selected links to the associated documents are immediately presented because their number is below a number specified in the maxNumberOfFolderDocs field.

In some variations a full expansion virtual taxonomy may be utilized that does not define an order for the attribute and query levels in the taxonomy. With such an arrangement each property or query may be selected to further navigate at any point in the taxonomy. The documents e.g. links to documents may presented when their number under a folder is below the value specified with maxNumberOfFolderDocs .

With reference to all of the defined queries and properties may be displayed in the folders . Navigation may advance into the Topics query level by selecting the Topics folder . Once selected as illustrated in level in folders for different query RIDs may be displayed. Selection of the Test folder causes a new level as illustrated in to be displayed with includes folders corresponding to the defined queries and properties.

In yet other variations combinations of fixed order and fill expansions taxonomies may be utilized. For example the fixedOrderLevels attribute may specify by its number n that the first n property and query level definitions are used in fixed order. The remaining property and query definitions are used as in a full expansion taxonomy. XML code to generate such a combination taxonomy is illustrated in .

An execution plan as illustrated in may be utilized to define which attribute and query levels should be presented within a taxonomy. The execution plan may include a root node from which the various folder category nodes n n may be traversed as indicated by the interconnecting arrows. Sample XML code for implementing such a taxonomy is illustrated in .

The XML code provides that to enable a plan execution guidedNavStrategy is set to usePlan . A plan is defined by specifying a start node with two successors. Each successor defines a node by its name. Every node is defined by its name and a level. The level x specifies the x th defined attribute or query level starting with 0 e.g. node n specifies the level 1 which means that is specifies the Countries query level.

A first level of a taxonomy implementing the execution plan of is illustrated in . At this level folders corresponding to the two successors of the start node n and n are respectively presented as Countries folder and Modified folder . Selection of the Modified folder will result in an additional level being displayed as illustrated in which includes folders with different ranges for that attribute namely years . Selection of one of these folders will result in an additional level being displayed as illustrated in in which the successors of node n nodes n and n are respectively presented as a Countries folder and a Size folder . Selection of Countries folder permits the traversal to any of nodes n n and selection of Size folder permits the traversal to either of nodes n and n.

Variations may also be provided in which navigation through various folders of repositories that are used as data sources of the indexes which form the basis of the construction of a virtual taxonomy with only folders fulfilling specified restrictions being presented . In addition only folders and or documents for which a user has access rights are shown. To implement this functionality an entry folderNameForIndexing may be used and the corresponding type may be set to useSeparator . Furthermore an entry separator may be set to . XML code illustrating such properties is illustrated in with the display name Folders .

For example after selecting Folders under the node 10001 20000 Byte as illustrated in the breadcrumb navigation of the level in a first folder level of the repositories of the documents in the indexes is presented that only includes documents fulfilling the restriction defined by the query of the node 10001 20000 Byte . If the cnn folder is selected a new level as illustrated in will be presented that includes a series of folders which allows for the navigation for all alternatives as demo0031 is a full expansion taxonomy.

If the Folders folder in is selected a second level as illustrated in is displayed which includes a breadcrumb navigations and folders on a second level below the cnn folder . It will be appreciated that a folder structure is only an example for dividing an attribute into a hierarchy. If would also be possible with other attributes with some separator for example Company Project Phase which would be separated into three levels Company Project and Phase and the like.

Each node in the virtual taxonomy may be allow for a search to be executed within such node and its associated child nodes. For example with reference to a view is displayed in which a folder is activated by right clicking a mouse button which results in pop up menu being displayed. Pop up menu may include a menu item that causes one or more windows to be opened that allow for a search to be conducted from the selected node of the documents within that folder. Thereafter only documents responsive the search query that fall under the selected node may be displayed whether in a taxonomy or otherwise .

In addition the pop up menu may also include another menu item which when activated causes all documents under a certain folder to be displayed. If a docSeparationNumber number is defined the documents are subdivided into separation folders as explained above. Otherwise they are presented without separation folders.

For a specified attribute used in a virtual taxonomy it may be specified that further navigation is only executed with respect to that attribute by setting noIntermediateFolder true . Such an arrangement may be used for attributes that are not used in a fixed order part of a virtual taxonomy. With reference to the view in such a feature is used for the folder attribute providing a folder navigation without disturbing intermediate folders although it will be appreciated that this feature may be used for all kinds of attributes . Selection of the cnn folder will result in the view in which includes a plurality of folders which relate to the cnn category as well as a folder labelled Achim which was specified as forming part of the cnn category. Selection of a folder provides a view as illustrated in which includes a plurality of folders as well as a partial list of responsive documents within those folders .

In one alternative the folder attribute may be used for navigating in the folder structure so that only the deepest folders i.e. those folders farthest from a root node are presented. With such a variation any and all intermediate folders above without any documents therein are not shown. This arrangement can be defined by setting the type of the folder attribute on useDeepestSeparator. It will be appreciated that the folder structure is only one example for dividing an attribute into a hierarchy and that other attributes may be utilized.

It will also be appreciated that after navigating a particular restriction the order and maximum number of restrictions that will be offered for the next navigation may be predefined or otherwise determined based on previous traversals by a user. With such a variation the user is not overburdened with a plethora of options for further restriction.

Query level definitions may also be utilized so that a starting folder in a query based taxonomy may be specified. If such a specified query level is selected for further navigation the navigation proceeds as if the user started at the specified folder with all previously selected restrictions in the virtual taxonomy path.

While folders are typically displayed in the user interface by their display name other values may be displayed. For example if a folder name is comprised of integers alternative representations may be used in order to increase usability. With some virtual taxonomies a sort property virtualTaxSortString may be configured as sort property to ensure a reasonable sorting of folders. Other translations of integer values and other alphanumeric representations may be used in sorting and labelling the folders.

As described above every folder in a virtual taxonomy may include a corresponding number identifying an amount of documents within such folder. In some variations these numbers are omitted which may be for certain levels or folders or for an entire virtual taxonomy . In addition other information may be included under a column marked Documents such as in in which a number of stars correlate to a number of documents contained therein.

In some views values or ranges associated with displayed folders may omit units. However as illustrated in XML code of units of measurement may be defined by modifying the entry displayNameSuffix of the property contentlength to a identifier such as bytes .

Ranges which are used to determine a number of folders within a certain view may be defined in a variety of ways. Sample techniques for determining the number of folders include 

An optimal number of ranges may be set by setting an entry optimalRangeNumber . In some variations ten ranges are specified as an optimal number and so approximately ten ranges are provided whenever there are a sufficient number of responsive documents. In addition for integer properties an alternative range strategy equidistance may be implemented by setting the entry distributionAlgm on the value equidistance .

When ranges are specified for integers range borders may also be specified in order to avoid arbitrary ranges e.g. 1 to 10 000 bytes vs. 35 684 to 45 683 byes etc. . XML code illustrated in illustrates an arrangement in which border ranges may be specifically defined. In the XML code for the property level with display name Content Length 10000 the entry distributionAlgm is set to ranges indicating that ranges should be defined. This definition is accomplished with the entry rangeDefinition which is set to 10 interval 10000 start 0 end 100000 11 interval 1000 start 0 end 100000 . However such an arrangement requires advance information regarding possible integer values of responsive documents.

Sounds ranges may also be determined for strings as provided above for a property layer with display name Name Round . Therefore an entry distributionAlgm is set to round . illustrates a view in which ranges for folders are based on both integer and alphabetical indicators including a folder for the range L . illustrates a view that is displayed in response to the selection of the folder for the range L which includes folders that are based on alphabetical indicators within the designated range with one folder that is a folder for documents beginning with the word S. Selection of the S folder results in the view as illustrated in being displayed.

Ranges may also be defined with gaps for integer properties with a display name Content Length Separate . With this arrangement an entry distributionAlgm may be set to separateRanges and the entry rangeDefinition may be set to 

Gaps may also be implemented for string properties as shown for a property layer with display name Name Ranges . For string properties the following rangeDefinition may be used 

However one problem with string properties is that for example for the range a k all document which have a property value between a and k are in that range. Unfortunately documents with value ka are not in that range. To include all values starting with k the range definition may use a special character xfffd which is the last Unicode character as 

In some views intermediate folder may be bypassed so that only the deepest folders containing documents are displayed. XML code in illustrates an arrangement by which intermediate levels may be skipped by defining an entry noIntermediateFolder and as true . Navigation into a taxonomy generated using the XML code may appear as in the view in . As a further example if a user navigates down to modified in 2001 and all documents were modified in June 2001 then individual days in June may be displayed as restrictions. Similar arrangements may be provided for numerical or alphanumeric ranges.

The categories in the breadcrumb may include a graphical user interface element which when activated causes a menu to be displayed. This menu may list additional attributes. These attributes may be for documents containing each restriction prior to the graphical user interface element e.g. sap the identified attribute e.g. Active Global Support Consulting Custom Development Customer Services Network Education Ramp Up and each restriction subsequent to the graphical user interface element e.g. Other Global . In some variations the attributes are ranked according to factors such as number of responsive documents containing the displayed attributes most recently accessed documents containing the displayed attributes most frequently accessed documents containing the displayed attributes alphabetical order and the like. Optionally a number of responsive documents associated with each attribute in the menu may also be displayed. Selection of a category Education will result in a revised breadcrumb Education Other Global Support.

It will be appreciated that the variations for presenting documents within a virtual taxonomy also apply to a presentation of a breadcrumb. For example if a user applies a traversal i.e. a pivot in the middle of a breadcrumb 2001 June 10 and the first restriction in the breadcrumb is changed to 2002 and there are no documents responsive to the restrictions 2002 June 10th then for example the user may be presented with documents for just 2002 June. If there are no responsive documents in 2002 June then the user may be presented with documents from 2002.

Various implementations of the subject matter described herein may be realized in digital electronic circuitry integrated circuitry specially designed ASICs application specific integrated circuits computer hardware firmware software and or combinations thereof. These various implementations may include implementation in one or more computer programs that are executable and or interpretable on a programmable system including at least one programmable processor which may be special or general purpose coupled to receive data and instructions from and to transmit data and instructions to a storage system at least one input device and at least one output device.

These computer programs also known as programs software software applications or code include machine instructions for a programmable processor and may be implemented in a high level procedural and or object oriented programming language and or in assembly machine language. As used herein the term machine readable medium refers to any computer program product apparatus and or device e.g. magnetic discs optical disks memory Programmable Logic Devices PLDs used to provide machine instructions and or data to a programmable processor including a machine readable medium that receives machine instructions as a machine readable signal. The term machine readable signal refers to any signal used to provide machine instructions and or data to a programmable processor.

To provide for interaction with a user the subject matter described herein may be implemented on a computer having a display device e.g. a CRT cathode ray tube or LCD liquid crystal display monitor for displaying information to the user and a keyboard and a pointing device e.g. a mouse or a trackball by which the user may provide input to the computer. Other kinds of devices may be used to provide for interaction with a user as well for example feedback provided to the user may be any form of sensory feedback e.g. visual feedback auditory feedback or tactile feedback and input from the user may be received in any form including acoustic speech or tactile input.

The subject matter described herein may be implemented in a computing system that includes a back end component e.g. as a data server or that includes a middleware component e.g. an application server or that includes a front end component e.g. a client computer having a graphical user interface or a Web browser through which a user may interact with an implementation of the subject matter described herein or any combination of such back end middleware or front end components. The components of the system may be interconnected by any form or medium of digital data communication e.g. a communication network . Examples of communication networks include a local area network LAN a wide area network WAN and the Internet.

The computing system may include clients and servers. A client and server are generally remote from each other and typically interact through a communication network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client server relationship to each other.

Although a few variations have been described in detail above other modifications are possible. For example the logic flow depicted in the accompanying figures and described herein do not require the particular order shown or sequential order to achieve desirable results. Other embodiments may be within the scope of the following claims.

