---

title: Methods and apparatus for providing peer-to-peer data networking for wireless devices
abstract: A system for a server-less peer-to-peer data network for content transfer between wireless devices is described. The system includes a first wireless device having a first address and content, and a second wireless device. The first wireless device transmits a message including the first address over a first service. The second wireless device receives the message from the first wireless device and establishes a communication path to the first address over a second service to receive the content from the first wireless device. A method embodiment includes transmitting a message from a first wireless device to a second wireless device over a first service, wherein the message includes a first address. The method further includes establishing, by the second wireless device, a communication path over a second service to the first address to receive content from the first wireless device after receiving the message from the first wireless device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08589514&OS=08589514&RS=08589514
owner: Qualcomm Incorporated
number: 08589514
owner_city: San Diego
owner_country: US
publication_date: 20050812
---
The present Application for patent claims priority to Provisional Application No. 60 683 389 entitled METHODS AND APPARATUS FOR PROVIDING PEER TO PEER DATA NETWORKING FOR WIRELESS DEVICES filed May 20 2005 and assigned to the assignee hereof and hereby expressly incorporated by reference herein.

Advances in technology have resulted in smaller and more powerful personal computing devices. For example there currently exist a variety of portable personal computing devices including wireless computing devices such as portable wireless telephones personal digital assistants PDAs and paging devices that are each small lightweight and can be easily carried by users. More specifically the portable wireless telephones for example further include cellular telephones that communicate voice and data packets over wireless networks. Further many such cellular telephones are being manufactured with relatively large increases in computing capabilities and as such are becoming tantamount to small personal computers and hand held PDAs. However these smaller and more powerful personal computing devices are typically severely resource constrained. For example the screen size amount of available memory and file system space amount of input and output capabilities and processing capability may each be limited by the small size of the device. Because of such severe resource constraints it is often typically desirable for example to maintain a limited size and quantity of software applications and other information residing on such remote personal computing devices e.g. client devices.

After receipt of the SMS message from MMS wireless device establishes a data call connection with communication network sequence steps . After establishing the data call connection wireless device downloads the data file from MMS sequence step . After completing download of the data file wireless device transmits an acknowledgement sequence step to MMS . In response MMS transmits an acknowledgement sequence step to wireless device thereby indicating transmission of the data file to the specified destination i.e. wireless device .

As described transmission of the data file from wireless device to wireless device requires the use of a multimedia server for storage and retransmission of the data file. By following this approach additional hardware in the form of MMS computer system connected with communication network is required for storing the data file prior to transmission to the destination. Additionally message sequence steps are required for both the upload transmission from wireless device to MMS and download transmission from MMS to wireless device of the data file.

The present embodiments provide server less peer to peer data networking for content transfer between wireless devices.

A system embodiment for a peer to peer data network for wireless devices includes a first wireless device having a first address and content and a second wireless device. The first wireless device is configured to transmit a message including the first address over a first service. The second wireless device is configured to receive the message from the first wireless device and establish a communication path over a second service to the first address and sub address to receive the content from the first wireless device.

A method embodiment of communicating content between first and second wireless devices includes the steps of transmitting a message from a first wireless device to a second wireless device over a first service wherein the message includes a first address and establishing by the second wireless device a communication path over a second service to the first address and sub address to receive content from the first wireless device after receiving the message from the first wireless device.

A further method embodiment of communicating content on a peer to peer data network includes transmitting a message including an address to a wireless device over a first service establishing a communication path over a second service with the wireless device based on a received request at the address and transmitting content via the established communication path.

A further method embodiment of communicating content on a peer to peer data network includes establishing a communication path over a first address to an address based on a received message from a wireless device including the address wherein the received message is received over a second service and receiving content via the established communication path from the address and sub address.

A wireless device processor embodiment for a peer to peer data network includes a processor configured to transmit a message including an address over a first service establish a communication path over a second service with a wireless device based on a received request at the address and transmit content from the memory to the established communication path.

A further wireless device processor for a peer to peer data network includes a processor configured to establish a communication path over a first address to an address of a wireless device based on a received message including the address received over a second service and receive content via the established communication path from the address and sub address.

In a further embodiment a memory or a computer readable medium stores instructions which when executed by a processor cause the processor to transmit a message including an address over a first service establish a communication path over a second service with a wireless device based on a received request at the address and transmit content from the memory to the established communication path.

In a further embodiment a memory or a computer readable medium stores instructions which when executed by a processor cause the processor to receive a message including a first address of a wireless device over a first service establish a communication path over a second service to the first address and based on the received message receive content from the first address and via the established communication path.

In a further embodiment a method of communicating content between a first wireless device and a computer platform includes transmitting a message from a first wireless device over a first service and establishing by the first wireless device a communication path over a second service to a computer platform to transmit content from the first wireless device after a predetermined time period has elapsed. The message includes a first address and has an intended destination of a second wireless device.

In a further embodiment a method of communicating content between a computer platform and a first wireless device includes receiving a message from a second wireless device over a first service and establishing by the first wireless device a communication path over a second service to the computer platform to receive content from the computer platform. The message includes a first address of a computer platform.

Still other advantages of the disclosed embodiments will become readily apparent to those skilled in the art from the following detailed description wherein the preferred embodiments are shown and described simply by way of illustration of the best mode contemplated of carrying out the embodiments. As will be realized the embodiments are capable of other and different embodiments and the several details are capable of modifications in various obvious respects all without departing from the embodiments. The advantages of the disclosed embodiments may also be realized and attained by the means of the instrumentalities and combinations particularly pointed out in the appended claims.

The mechanism according to an embodiment provides a peer to peer communication of content between wireless devices using a communication network. In particular the present embodiments enable wireless devices to set up peer to peer communication paths to exchange content e.g. voice text video and other multimedia content without requiring a dedicated network server. Further embodiments enable wireless devices to set up communication paths using different services e.g. short message service and packet data service.

Message includes an indication of content e.g. by use of a particular message title subject type or other mechanism to be communicated from wireless device to wireless device . Message also includes the address of wireless device as well as a predetermined secondary address or sub address e.g. a port number at the wireless device address . In an embodiment sub address is a set value specified for such content transfers. In another embodiment sub address is a random value determined prior to transmission of message . In another embodiment message omits an indication of content to be transferred and includes only the address to which wireless device connects as described below. In an embodiment message is transmitted using a short message service such as an SMS message.

In a still further embodiment message content is encrypted to prevent eavesdropping of the message content. In another embodiment message content is digitally signed to prevent tampering with the message content.

Returning to the description of the message sequence diagram after receipt of message wireless device establishes a data call connection with communication network sequence steps . In an embodiment data call connection with communication network uses a different service from the transmission of message e.g. a packet data service. After establishing the data call connection wireless device establishes a connection such as a socket connection with wireless device at address and sub address specified in message using communication network sequence step . The term socket connection includes a communication connection between two uniquely identified endpoints. In an embodiment the connection setup includes the exchange of encryption information e.g. public and private key pairs. In respective embodiments the exchange of encryption information occurs using the service of message e.g. SMS messages or content communication e.g. the established data connection described immediately above.

After a connection is established PTP application on each wireless device are executed by the wireless device to communicate using the connection sequence step e.g. a packet data service connection. As such wireless device downloads content from wireless device using the established connection over communication network . In an embodiment the content transferred between wireless devices is encrypted. After completing download of content from wireless device wireless device transmits an acknowledgement sequence step to the originating wireless device thereby indicating completion of the transfer.

After establishing the data call connection wireless device transmits the message described above to destination wireless device using network and the process flow transitions to a transfer content step . As described above with respect to in an embodiment message is transmitted using a different service from the established data call connection e.g. using an SMS message as opposed to packet data. During step wireless device performs the sequence of steps as described above with respect to . Specifically for an incoming request from a destination wireless device wireless device executes a handle request transition to handle accepting and establishing the socket connection sequence step of and transfer the content sequence step of .

After receipt of an acknowledgement from destination wireless device the process flow transitions from step to idle state . It will be understood that in different embodiments different sequences of steps and transitions may be used to accomplish the embodiments described above. For example message may be transmitted to multiple destination wireless devices requiring the handling of multiple requests for the specified content . According to this embodiment the transition from step to step may occur after either receipt of a number of requests corresponding to the number of transmitted messages or a predetermined timeout period.

Additionally in another embodiment wireless device transitions from step to idle state without receipt of an acknowledgement from destination wireless device e.g. after a predetermined time period has elapsed etc. In a still further embodiment the acknowledgement may be received from wireless device using the same service as message e.g. an SMS message instead of over the packet data service.

Further although the foregoing discussion describes the transfer of content from an origination wireless device to a destination wireless device the transfer direction may in one or more embodiments occur in the other direction and or bi directionally. That is destination wireless device may connect to and transfer content to originating wireless device and or the wireless devices may transfer content to each other without requiring an intermediate server for storing the content to be transferred.

Originating wireless device establishes a data call connection with communication network sequence steps . During establishment of the data call connection wireless device obtains a network address e.g. an IP address designating the address of the wireless device on communication network . After establishing the data call connection e.g. a packet data service connection execution of PTP application by wireless device causes the wireless device to transmit sequence step a message e.g. an SMS message as described above to network intended for wireless device not shown however wireless device is not connected to network at the time. Message is as described above.

After a predetermined time period has elapsed without receiving a connection request e.g. connection of from destination wireless device as indicated by reference numeral wireless device transfers the content to computer platform sequence step . According to the second embodiment computer platform to which the content is transferred is a user designated device connected with wireless network or wired network both described with reference to below and reachable by wireless device via network . That is computer platform is a failover option to which originating wireless device may transfer the content destined for destination wireless device . For example computer platform may be a user designated desktop computer or laptop computer connected with the Internet. Further in keeping with the above described embodiment the content transferred to computer platform may be encrypted.

Finally originating wireless device transmits a message similar to message to network and destined for destination wireless device . Message includes the address of computer platform to which the content has been transferred thereby allowing destination wireless device upon connection to network to obtain the content from the computer platform.

After receipt of message by way of short message service destination wireless device establishes a data call connection with communication network sequence steps . After establishing the data call connection wireless device establishes a connection with computer platform using communication network sequence step . After a connection is established destination wireless device executes PTP application to communicate using the connection. As such destination wireless device downloads content from computer platform .

Some of the personal computing devices utilize application programming interfaces APIs sometimes referred to as runtime environments and software platforms that are installed onto their local computer platform and which are used for example to simplify operations of such devices such as by providing generalized calls for device specific resources. Further some such APIs are also known to provide software developers the ability to create software applications that are fully executable on such devices. In addition some of such APIs are known to be operationally located between the computing device system software and the software applications such that the computing device computing functionality is made available to the software applications without requiring the software developer to have the specific computing device system source code. Further some APIs are known to provide mechanisms for secure communications between such personal devices i.e. clients and remote devices i.e. servers using secure cryptographic information.

Examples of such APIs some of which are discussed in more detail below include versions of the Binary Runtime Environment for Wireless BREW developed by Qualcomm Inc. of San Diego Calif. BREW is sometimes described as a thin veneer existing over a computing device s typically a wireless cellular phone operating system which among other features provides interfaces to hardware features particularly found on personal computing devices. BREW is further characterized by at least the one advantage of being able to be provided on such personal computing devices at a relatively low cost with respect to demands on such device resources and with respect to the price paid by consumers for devices containing the BREW API. Other features known to be associated with BREW include its end to end software distribution platform that provides a variety of benefits for wireless service operators software developers and computing device consumers. At least one such currently available end to end software distribution platform includes logic distributed over a server client architecture where the server performs for example billing security and application distribution functionality and the client performs for example application execution security and user interface functionality.

One or more embodiments are used in conjunction with a runtime environment API executing on the computing device. One such runtime environment API is Binary Runtime Environment for Wireless BREW software previously discussed. However one or more of the described embodiments can be used with other types of runtime environments APIs that for example operate to control the execution of applications on wireless client computing devices.

The application download server is shown here on a network with other computer elements in communication with the wireless network . There can be a stand alone server and each server can provide separate services and processes to the client devices across the wireless network . System may also include at least one stored application database that holds the software applications e.g. a peer to peer application that are downloadable by the wireless devices the peer to peer application is indicated as being downloadable to the wireless devices by a dashed line . However those skilled in the art will appreciate that the configuration illustrated in is merely exemplary. Accordingly other embodiments can include one of more servers that can each perform all the described functions and contain all necessary hardware and software or can contain only selected functionality.

In a block diagram is shown that more fully illustrates system including the components of the wireless network and interrelation of the elements of the exemplary embodiments. System is merely exemplary and can include any system whereby remote client devices such as wireless client computing devices communicate over the air between and among each other and or between and among components connected via a wireless network including without limitation wireless network carriers and or servers. The application download server and the stored application database communicate with a carrier network through a data link such as the Internet a secure LAN WAN or other network. Stored application database includes a peer to peer application according to the above described embodiments for download to each of the wireless client computer devices . Wireless client computer devices download a copy of peer to peer application dashed line from stored applications database . In the embodiment shown a server can include the application download server distribution server and the stored application database . However these servers can also be independent devices.

Still referring to the embodiment of carrier network controls messages generally being data packets sent to a messaging service controller MSC . Carrier network communicates with the MSC through another communications link such as another network the Internet and or POTS plain ordinary telephone system . Typically the network or Internet connection between carrier network and MSC transfers data and the POTS transfers voice information. MSC may be connected to multiple base stations BTS such as by at least one communications link including both a data network and or the Internet for data transfer and POTS for voice information. BTS ultimately broadcasts messages wirelessly to the wireless communications devices such as cellular telephones in an over the air protocol such as short messaging service SMS etc.

In the embodiment of each wireless device such as cellular telephones may include a computer platform that can receive and execute software applications and display data transmitted from computer system or other network servers . Computer platform may include an application specific integrated circuit ASIC or other chipset processor microprocessor logic circuit or other data processing device. ASIC may be installed at the time of manufacture of cellular telephone . ASIC or other processor may execute an application programming interface API layer that interfaces with any resident programs e.g. PTP application in a memory of the wireless device. API is a runtime environment executing on the computing device or cellular telephone in this case. One such runtime environment is Binary Runtime Environment for Wireless BREW software although other runtime environments may be utilized that for example operate to control the execution of applications on wireless computing devices. Memory for example can be comprised of at least one of read only and random access memory RAM and ROM EPROM EEPROM flash cards and any memory common to computer platforms. The computer platform may also include a local database that can hold the software applications e.g. PTP application files or data not actively used in memory . Local database may include at least one of flash memory cells magnetic media EPROM EEPROM optical media tape a soft disk a hard disk and any other type of secondary or tertiary memory. Thus in the embodiment of each cellular telephone may be loaded with applications such as peer to peer application and or data from computer system in accordance with system .

It will be readily seen by one of ordinary skill in the art that the disclosed embodiments fulfill one or more of the advantages set forth above. After reading the foregoing specification one of ordinary skill will be able to affect various changes substitutions of equivalents and various other embodiments as broadly disclosed herein. It is therefore intended that the protection granted hereon be limited only by the definition contained in the appended claims and equivalents thereof.

