---

title: Mobile communication device receipt through second telecommunication network of call directed to registration in first telecommunication network
abstract: A network infrastructure device of an apparatus in one example comprises a first external interface and a second external interface. The network infrastructure device communicates with a first telecommunication network through the first external interface. The network infrastructure device communicates with a second telecommunication network through the second external interface. The network infrastructure device allows a mobile communication device that has a first registration in the first telecommunication network and a second registration in the second telecommunication network to receive, through the second telecommunication network, a call directed to the first registration. The first telecommunication network is unable to directly query the second telecommunication network for a status of the second registration.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08218462&OS=08218462&RS=08218462
owner: Alcatel Lucent
number: 08218462
owner_city: Paris
owner_country: FR
publication_date: 20050318
---
The invention relates generally to telecommunication and more particularly to call delivery in telecommunication networks.

In known telecommunication systems mobile service providers employ legacy cellular networks that co exist with Internet Protocol Multimedia Subsystem IMS networks. In one exemplary legacy cellular network a home location register maintains a first registration for a subscriber s mobile communication device. In an area where an IMS network co exists with the legacy cellular network the mobile communication device may comprise a second registration in the IMS network at the same time. Where the first registration and the second registration are associated with a single dialed number for the mobile communication device some calls may be initially delivered through the legacy cellular network. If the subscriber prefers to receive calls through the IMS network when possible calls must be redirected from the legacy cellular network to the IMS network.

The legacy cellular network employs an ANSI 41 protocol as a mechanism to locate subscribers. The IMS network employs a DIAMETER protocol as a mechanism to locate subscribers. To redirect the call from the legacy cellular network into the IMS network the legacy cellular network must determine a status of the second registration for example registered or unregistered to determine if the redirect of the call is possible. Since the legacy cellular network and the IMS network employ different protocols to locate subscribers the legacy cellular network is unable to query the IMS network for the status of the second registration without modification to both the legacy cellular network and the IMS network. Modification of the legacy cellular network and the IMS network incurs additional costs to the mobile service providers.

Thus a need exists for call delivery for a mobile communication device from a first telecommunication network to a second telecommunication network without modification of the first telecommunication network and or the second telecommunication network when the mobile communication device is registered in both the first telecommunication network and the second telecommunication network.

A mobile communication device is registered in both a first telecommunication network and a second telecommunication network. A call delivery to the mobile communication device from the first telecommunication network to the second telecommunication network is performed without modification of the first telecommunication network and or the second telecommunication network.

In one embodiment there is provided an apparatus comprising network infrastructure device. The network infrastructure device comprises a first external interface and a second external interface. The network infrastructure device communicates with a first telecommunication network through the first external interface. The network infrastructure device communicates with a second telecommunication network through the second external interface. The network infrastructure device allows a mobile communication device that has a first registration in the first telecommunication network and a second registration in the second telecommunication network to receive through the second telecommunication network a call directed to the first registration. The first telecommunication network is unable to directly query the second telecommunication network for a status of the second registration.

In another embodiment there is provided a method for receiving a query message for a call to a mobile communication device from a first telecommunication network through employment of a first network protocol. A registration status of the mobile communication device in a second telecommunication network is determined through employment of a second network protocol to allow for a call delivery of the call through the second telecommunication network wherein the first telecommunication network is unable to directly query the second telecommunication network for the registration status.

In yet another embodiment there is provided a method for receiving at a service control point component a first query message from a mobile switching center of a legacy cellular network through employment of a legacy network protocol of the legacy cellular network wherein the first query message comprises a dialed number associated with a call to a mobile communication device that is registered in the legacy cellular network. A second query message that comprises the dialed number is sent from the service control point component to an application server component. An existence of a recent failure flag associated with the dialed number is checked at the application server component upon receipt of the second query message. A temporary routing number is checked for availability by the application server component. A continue message is sent from the application server component to the mobile switching center of the legacy cellular network through the service control point component if the recent failure flag exists or the temporary routing number is not available to cause a routing of the call through the legacy cellular network. A call delivery of the call to the mobile communication device through an Internet Protocol Multimedia Subsystem network is performed at the application server component if the recent failure flag does not exist and the temporary routing number is available.

Turning to an apparatus in one embodiment comprises a first telecommunication network a second telecommunication network and a network infrastructure device . The first telecommunication network comprises a legacy cellular network for example a code division multiple access CDMA time division multiple access TDMA global system for mobile communication GSM or universal mobile telecommunications system UMTS network that employs a circuit switched communication protocol such as ANSI 41 or mobile application part MAP . The first telecommunication network comprises a mobile switching center a home location register and a serving mobile switching center . The second telecommunication network in one example comprises a packet switched network for example an Internet Protocol Multimedia Subsystem IMS network. The second telecommunication network comprises a home subscriber server HSS a media gateway control function MGCF an interrogating call session control function I CSCF and a serving call session control function S CSCF . The second telecommunication network in one example employs a session initiation protocol SIP communication protocol RFC 2543 Internet Engineering Task Force http www.ietf.org and a DIAMETER protocol RFC 3588 Internet Engineering Task Force http www.ietf.org .

The network infrastructure device in one embodiment comprises a first external interface second external interface a service control point component an application server component and an internal interface . In a further example the network infrastructure device comprises an instance of a recordable data storage medium as described herein. The first external interface is communicatively coupled with the first telecommunication network . The second external interface is communicatively coupled with the second telecommunication network . The network infrastructure device supports a plurality of network interface protocols to allow communication with both the first telecommunication network and the second telecommunication network . For example the network infrastructure device supports the ANSI 41 communication protocol through the first external interface and the SIP communication protocol and DIAMETER protocol through the second external interface . The first external interface and the second external interface in one example comprise logical interfaces. For example the network infrastructure device comprises one or more software applications and the first external interface and the second external interface comprise software interfaces or application programming interfaces APIs as will be appreciated by those skilled in the art.

The service control point component of the network infrastructure device communicates with the first telecommunication network through the first external interface . For example the service control point component emulates a service control point of the first telecommunication network . The application server component of the network infrastructure device communicates with the second telecommunication network through the second external interface . For example the application server component emulates an application server of the second telecommunication network . The service control point component and the application server component communicate with each other through the internal interface . The service control point component and the application server component in one example comprise software applications running on one or more network servers. The internal interface in one example employs a lightweight directory access protocol LDAP communication protocol and or an authentication authorization and accounting AAA communication protocol for example DIAMETER. In one embodiment communication between the service control point component and the application server component is not employed by the first telecommunication network or the second telecommunication network . Thus the communication protocol of the internal interface in one example comprises a proprietary or customized communication protocol as will be appreciated by those skilled in the art.

The first telecommunication network comprises a first registration associated with a mobile communication device . The second telecommunication network comprises a second registration associated with the mobile communication device. Both the first registration and the second registration are associated with a single dialed number for the mobile communication device. The first telecommunication network in one example employs the ANSI 41 protocol as a mechanism to locate subscribers. The second telecommunication network employs the DIAMETER protocol as a mechanism to locate subscribers. To redirect a call from the first telecommunication network into the second telecommunication network the first telecommunication network must determine a status of the second registration for example registered or unregistered to determine if the redirect of the call is possible. Since the first telecommunication network and the second telecommunication network employ different protocols to locate subscribers the first telecommunication network is unable to directly query the second telecommunication network for the status of the second registration without modification to both the legacy cellular network and the IMS network.

The network infrastructure device in one embodiment provides for an interface from the first telecommunication network to the second telecommunication network . When a call to the dialed number is routed to the mobile switching center the network infrastructure device allows the mobile communication device to receive the call through the second telecommunication network without modification to the first telecommunication network or the second telecommunication network . The network infrastructure device in one example queries the second telecommunication network on behalf of the first telecommunication network to determine if the call may be delivered through the second telecommunication network . For example the network infrastructure device determines a status of the second registration in the second telecommunication network .

An illustrative description of exemplary operation of the apparatus is presented for explanatory purposes. Turning to a message flow illustrates an exemplary call delivery from the first telecommunication network into the second telecommunication network by the network infrastructure device . The call delivery in one example comprises a call forward from the first telecommunication network to the second telecommunication network . A home mobile switching center of the mobile communication device for example the mobile switching center receives a call request message for the mobile communication device. The call request message in one example comprises an initial address message IAM of the integrated services digital network user part ISUP protocol. The call request message comprises an identifier for the first registration for example the dialed number and or mobile directory number associated with the first registration of the mobile communication device. The mobile switching center sends a query message for example a location request message with mobile termination trigger type with the identifier to the home location register . The home location register has been pre provisioned with an advanced termination trigger associated with the first registration. Upon receipt of the query message the home location register performs a lookup with the identifier and obtains the advanced termination trigger and an address of the service control point component . The home location register sends a trigger address message that comprises the advanced termination trigger and the address of the service control point component to the mobile switching center as will be understood by those skilled in the art.

Upon receipt of the trigger address message the mobile switching center sends a query message with the identifier to the service control point component . The query message in one example comprises an analyze digits message with the identifier of the mobile communication device. The service control point component receives the query message from the mobile switching center through the external interface . The service control point component sends a query message that comprises the dialed number to the application server component through the internal interface .

Upon receipt of the query message the application server component checks for an existence of a recent failure flag associated with the second registration as described herein. The application server component sends a query message to the home subscriber server of the second telecommunication network to request a status of the second registration for example registered or unregistered. The query message in one example comprises a user data request of the DIAMETER communication protocol. The home subscriber server replies to the query message with the status of the second registration for example in a user data acknowledgement message .

If the status of the second registration is active for example the mobile communication device is registered in the second telecommunication network the application server component allocates a temporary routing number from a pool of temporary routing numbers. The temporary routing numbers comprise routable telephone numbers associated with the application server component . In a further example the temporary routing numbers comprise public service identities associated with the application server component . The application server component associates the temporary routing number with the second registration for example with a public user ID of the mobile communication device. The application server component sends the temporary routing number to the service control point component in a message . In one example the application server component fails to allocate a temporary routing number for the mobile communication device. For example the pool of temporary routing numbers is empty and a temporary routing number is not available. The application server component then sends a continue message to cancel the call delivery into the second telecommunication network as described herein. In one example the application server component checks for the availability of a temporary routing number before sending the query message .

Upon receipt of the temporary routing number in the message the service control point component sends a reply message to the query message . The reply message comprises the temporary routing number. The mobile switching center receives the reply message and attempts call delivery to the temporary routing number. For example the mobile switching center sends a call request message to the media gateway control function of the second telecommunication network . The call request message in one example comprises an initial address message with the temporary routing number.

The media gateway control function determines that the call request should be passed to the interrogating call session control function based on the temporary routing number. The media gateway control function sends an invite message to the interrogating call session control function . The invite message in one example comprises a SIP invite message with the temporary routing number. The interrogating call session control function sends a query message with the temporary routing number to the home subscriber server to obtain an address of an application server that will handle the call request. The query message in one example comprises a Location Information Request message of the DIAMETER protocol. The home subscriber server has been pre provisioned to associate the temporary routing number with an address of the application server component . The home subscriber server responds to the query message with a response message that comprises the address of the application server component . The response message in one example comprises the Location Information Answer message of the DIAMETER protocol.

Upon receipt of the response message with the address of the application server component the interrogating call session control function sends an invite message for example a SIP invite message to the application server component . The invite message comprises the temporary routing number. The application server component sends the public user ID associated with the temporary routing number to the interrogating call session control function in an invite message . The invite message in one example comprises a SIP invite message. Upon sending the public user ID to the interrogating call session control function the application server component releases the temporary routing number back into the pool of temporary routing numbers as will be appreciated by those skilled in the art.

The interrogating call session control function sends a query message to the home subscriber server to obtain an address of the serving call session control function associated with the mobile communication device. The query message in one example comprises a Location Information Request of the DIAMETER protocol. The home subscriber server sends a response message that comprises the address of the serving call session control function . The response message in one example comprises a Location Information Answer of the DIAMETER protocol. The interrogating call session control function sends a call request message that comprises the public user ID of the mobile communication device to the serving call session control function to continue the call delivery to the mobile communication device as will be appreciated by those skilled in the art.

The network infrastructure device in one embodiment allows the call delivery from the first telecommunication network to the second telecommunication network without modification to the mobile switching center and home location register of the first telecommunication network or the home subscriber server media gateway control function and interrogating call session control function of the second telecommunication network . For example each of the messages and is compliant with the respective network protocols of the telecommunication network and as will be appreciated by those skilled in the art.

Turning to a message flow illustrates an exemplary failed call delivery from the first telecommunication network into the second telecommunication network by the network infrastructure device . In one example after the interrogating call session control function has sent the call request message to the serving call session control function the call delivery fails. Exemplary causes for a failure of the call delivery comprise the second registration is no longer active a user of the mobile communication device does not answer the call or the mobile communication device loses reception as will be appreciated by those skilled in the art.

Upon failure of the call delivery to the mobile communication device the serving call session control function sends a failure message to the interrogating call session control function . The failure message comprises the public user ID of the mobile communication device. The interrogating call session control function sends a failure message with the public user ID to the application server component to indicate the failure of the call delivery. The application server component sets a recent failure flag associated with the second registration for example the public user ID to indicate the failure of the call delivery through the second telecommunication network . In another example the application server component sets the recent failure flag if a timeout occurs while waiting for a response to the invite message for example either a failure message or a success message.

After setting the recent failure flag the application server component sends a redirect message with the dialed number of the mobile communication device to the interrogating call session control function . The redirect message in one example comprises a SIP response message. The interrogating call session control function sends a redirect message to a media gateway control function for example the media gateway control function that previously attempted delivery of the call. The media gateway control function sends a call request message into the first telecommunication network . For example the media gateway control function sends an IAM message to the mobile switching center associated with the dialed number of the mobile communication device.

The mobile switching center handles the call request in a similar manner to the call request message . The corresponding messages and are generated as described above. Upon receipt of the query message the application server component checks for the existence of the recent failure flag associated with the second registration. Since the recent failure flag exists the application server component sends a continue message to the service control point component . The service control point component sends a reply message to the query message . The reply message comprises a continue message.

Upon receipt of the continue message the mobile switching center sends a query message to the home location register to route the call in the first communication network . The query message in one example comprises a location request message with a location trigger type. The home location register sends a route request message to the serving mobile switching center associated with the first registration of the mobile communication device in the first telecommunication network . The first telecommunication network performs the call delivery as a normal call. In one embodiment each of the messages and is compliant with the respective network protocols of the telecommunication network and . For example no modification is needed to the mobile switching center and home location register of the first telecommunication network or the home subscriber server media gateway control function and interrogating call session control function of the second telecommunication network as will be appreciated by those skilled in the art.

After the recent failure flag has been set the application server component must clear the recent failure flag to allow attempted delivery of later calls into the second telecommunication network . In one example the application server component clears the recent failure flag after a pre determined time interval for example ten seconds. In another example the application server component clears the recent failure flag upon an event for example a notification of subscriber activity in the second telecommunication network such as receipt of a SIP NOTIFY message. In a further example the application server component starts a timer upon an event and clears the flag upon expiration of the timer. In yet another example the application server component performs periodic polls to the mobile communication device through the second telecommunication network for example use of the OPTIONS request message as described above. The duration of the recent failure flag must be long enough to avoid sending the call into an infinite loop. An infinite loop in one example could occur if the media gateway control function redirects a call back to the mobile switching center of the first telecommunication network and the mobile switching center then redirects the same call back to the second telecommunication network as will be appreciated by those skilled in the art.

Turning to a logic flow illustrates exemplary steps performed by the network infrastructure device for the call delivery from the first telecommunication network into the second telecommunication network . The service control point component of the network infrastructure device receives STEP the query message from the mobile switching center of the first telecommunication network . The query message comprises the dialed number associated with the mobile communication device. The service control point component sends a query message to the application server component . The query message comprises the dialed number associated with the mobile communication device. The application server component of the network infrastructure component checks STEP for the existence of the recent failure flag associated with the dialed number. The application server component sends STEP the continue message to the mobile switching center of the first telecommunication network through the service control point if the recent failure flag exists. If the recent failure flag does not exist the application server component checks STEP if a temporary routing number is available from the pool of temporary routing numbers. If a temporary routing number is not available the application server component sends STEP the continue message to the mobile switching center and the call delivery into the second telecommunication network is canceled as described above. The network infrastructure device performs STEP the call delivery of the call through the second telecommunication network if a temporary routing number is available.

The apparatus in one example comprises a plurality of components such as one or more of electronic components hardware components and computer software components. A number of such components can be combined or divided in the apparatus . An exemplary component of the apparatus employs and or comprises a set and or series of computer instructions written in or implemented with any of a number of programming languages as will be appreciated by those skilled in the art.

The apparatus in one example employs one or more computer readable signal bearing media. The computer readable signal bearing media store software firmware and or assembly language for performing one or more portions of one or more embodiments of the invention. Examples of a computer readable signal bearing medium for the apparatus comprise the recordable data storage medium of the network infrastructure device . The computer readable signal bearing medium for the apparatus in one example comprise one or more of a magnetic electrical optical biological and atomic data storage medium. For example the computer readable signal bearing medium comprise floppy disks magnetic tapes CD ROMs DVD ROMs hard disk drives and electronic memory. In another example the computer readable signal bearing medium comprises a modulated carrier signal transmitted over a network comprising or coupled with the apparatus for instance one or more of a telephone network a local area network LAN a wide area network WAN the Internet and a wireless network.

Numerous alternative embodiments of the present invention exist. For example where the home subscriber server automatically reports registration events of subscribers in the second telecommunication network the application server component would know the registration status of the mobile communication device prior to sending the query message . In this embodiment the application server component determines the registration status of the mobile communication device without sending the query message and receiving the user data acknowledgement message . In another embodiment the application server component performs a poll to the mobile communication device to determine availability for call termination to the mobile device. An exemplary poll to the mobile communication device comprises the OPTIONS request message of the SIP protocol as will be appreciated by those skilled in the art.

The steps or operations described herein are just exemplary. There may be many variations to these steps or operations without departing from the spirit of the invention. For instance the steps may be performed in a differing order or steps may be added deleted or modified.

Although exemplary implementations of the invention have been depicted and described in detail herein it will be apparent to those skilled in the relevant art that various modifications additions substitutions and the like can be made without departing from the spirit of the invention and these are therefore considered to be within the scope of the invention as defined in the following claims.

