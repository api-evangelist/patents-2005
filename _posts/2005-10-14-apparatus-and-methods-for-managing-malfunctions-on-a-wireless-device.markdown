---

title: Apparatus and methods for managing malfunctions on a wireless device
abstract: Apparatus and methods for managing predetermined malfunction events in a wireless device operating in a wireless communications network. Malfunction event data and operational data are recorded by the wireless device based on a selected malfunction event tracking configuration. Further, a recovery module associated with the wireless device operates to attempt to recover information leading up to and including the malfunction event. The collected information may be transmitted to a user manager in the form of a malfunction event log. The malfunction event log may be analyzed to characterize the malfunction, and is particularly useful for determining the sequence and identity of events leading to the malfunction, including a crash, freeze and reset.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07561877&OS=07561877&RS=07561877
owner: QUALCOMM Incorporated
number: 07561877
owner_city: San Diego
owner_country: US
publication_date: 20051014
---
The present Application for Patent claims priority to Provisional Application No. 60 663 506 entitled Methods And Apparatus For Tracking Configurable Events In A Wireless Device filed Mar. 18 2005 assigned to the assignee hereof and hereby expressly incorporated by reference herein.

The disclosed embodiments relate to wireless devices and wireless communication networks and more particularly to apparatus and methods for managing operational malfunctions on a wireless device on a wireless network.

Wireless communications devices such as mobile phones pagers handheld computers etc. have taken on great importance in individuals business and professional lives. The wireless aspect of wireless devices allows individuals to utilize these devices whenever and wherever desired. As the use of wireless devices grows and takes on ever increasing importance and as the associated wireless communications networks supporting and interacting with wireless devices grow users have an ever increasing expectation that wireless devices function flawlessly and without interruption. Thus one aspect of user satisfaction when utilizing a wireless device deals with the ability of the wireless device to be robust in operation and reliable for frequent usage.

As with other devices having electrical and mechanical components however wireless devices do malfunction. Particularly troubling are malfunctions in the manner of the wireless device stopping operations while staying powered on colloquially referred to as a freeze or in a worse scenario malfunctions in the manner of the wireless device stopping operations and powering down abruptly colloquially referred to as a crash. 

In these scenarios and other similar malfunctions the user is required to reset the wireless device in the manner of turning the device off and re powering the device. However the events leading to a freeze crash or similar malfunction have either not been kept track of in the device memory or such event information is lost from memory once the device is powered back up. The foregoing fact makes it difficult if not impossible for the network operators providing wireless service to customers the original manufacturers or producers of the wireless devices as well as the designers of the wireless devices to determine the cause of such freezes crashes or other malfunctioning events. Without such knowledge and ability to track such events the foregoing parties are not able to improve the design of wireless devices to prevent future malfunctions.

To address one or more of the drawbacks of the prior art the disclosed embodiments provide a system apparatus and method for keeping track of storing transmitting receiving malfunction related information and managing the occurrence of malfunctions on a wireless device.

In an embodiment a method for managing malfunctions on a wireless device comprises receiving a tracking configuration identifying a predetermined malfunction event parameter and a predetermined operational data parameter both relating to operation of the wireless device. The method further includes collecting operational data at predetermined times wherein the operational data is based on the operational data parameter and collecting malfunction event data when the predetermined malfunction event parameter is detected.

In another embodiment a computer program is resident in a computer readable medium that when executed directs a computer device to perform the actions of receiving an tracking configuration identifying a predetermined malfunction event parameter and an operational data parameter both relating to operation of the wireless device. The actions further include collecting operational data at predetermined times wherein the operational data is based on the operational data parameter and collecting malfunction event data when the predetermined malfunction event parameter is detected. Also the actions include recording the collected operational data in a first portion of a data repository associated with the wireless device wherein the first portion of data repository is unable to maintain the collected operational data during a power up operation of the wireless device. Additionally the actions include transferring the collected operational data to a second portion of the data repository when the predetermined malfunction event parameter is detected wherein the second portion of data repository is able to maintain the collected operational data during a power up operation of the wireless device. Similarly in another embodiment at least one processor is configured to perform the above stated actions.

In yet another embodiment a wireless device comprises a means for receiving an tracking configuration identifying a predetermined malfunction event parameter and an operational data parameter both relating to operation of the wireless device. The device further includes a means for collecting operational data at predetermined times wherein the operational data is based on the operational data parameter. The device also includes a means for collecting malfunction event data when the predetermined malfunction event parameter is detected. Additionally the device includes a means for recording the collected operational data in a first portion of a data repository associated with the wireless device wherein the first portion of data repository is unable to maintain the collected operational data during a power up operation of the wireless device. Further the device includes a means for transferring the collected operational data to a second portion of the data repository when the predetermined malfunction event parameter is detected wherein the second portion of data repository is able to maintain the collected operational data during a power up operation of the wireless device.

In still another embodiment a wireless device comprises a computer platform having a malfunction manager module operable to receive an tracking configuration identifying a predetermined malfunction event parameter and an operational data parameter both relating to operation of the wireless device. The malfunction manager module is further operable to collect operational data at predetermined times wherein the operational data is based on the operational data parameter. Additionally the malfunction manager module is further operable to collect malfunction event data when the predetermined malfunction event parameter is detected.

In another embodiment a method for managing malfunctions on a wireless device comprises generating a tracking configuration identifying a predetermined operational data parameter and a predetermined malfunction event parameter both relating to operation of the wireless device. The method further includes receiving operational data and malfunction event data collected by the wireless device based on the malfunction event configuration wherein the operational data corresponds to the predetermined operational data parameter and the malfunction event data corresponds to the predetermined malfunction event parameter. And the method includes generating a malfunction event report based on at least one of the collected operational data and the collected malfunction event data.

In yet another embodiment a computer program is resident in a computer readable medium that when executed directs a computer device to perform the actions of generating an tracking configuration identifying a predetermined operational data parameter and a predetermined malfunction event parameter both relating to operation of the wireless device. The actions further include receiving operational data and malfunction event data collected by the wireless device wherein the operational data is based on the predetermined operational data parameter and the malfunction event data is based on the predetermined malfunction event parameter. Additionally the actions include generating a malfunction event report having a malfunction event characteristic based on at least one of the collected operational data and the collected malfunction event data wherein the malfunction event characteristic is based on a comparison of at least one of the operational data and the malfunction event data with a malfunction standard. Similarly in another embodiment at least one processor is configured to perform the above stated actions.

In another embodiment an apparatus for managing malfunctions on a wireless device comprises a means for generating an tracking configuration identifying a predetermined operational data parameter a predetermined malfunction event parameter and an additional malfunction event parameter the predetermined operational data parameter corresponding to operational data generated during operation of the wireless device the predetermined malfunction event parameter corresponding malfunction event data generated during operation of the device and the additional malfunction event parameter corresponding to additional malfunction information to collect when the predetermined malfunction event is detected by the wireless device. The apparatus further includes a means for receiving the collected operational data the collected malfunction event data and the collected additional malfunction information collected by the wireless device based on the tracking configuration. Additionally the apparatus a means for generating a malfunction event report based on at least one of the collected operational data the collected malfunction event data and the collected additional malfunction event information.

In a further embodiment an apparatus for managing malfunctions on a wireless device comprises a configuration generator in communication with the computer platform and operable to generate a malfunction event configuration having a predetermined operational data parameter and a predetermined malfunction event parameter wherein the predetermined operational data parameter corresponds to operational data on a computer platform of the wireless device and wherein the predetermined malfunction event parameter corresponds to malfunction event data on the computer platform of the wireless device. The apparatus further includes a data repository operable to receive the operational data and the malfunction event data collected by the wireless device based on the malfunction event configuration wherein the operational data is based on the predetermined operational data parameter and the malfunction event data is based on the predetermined malfunction event parameter. The apparatus further includes an analysis engine operable to generate a malfunction event report based on at least one of the collected operational data and the collected malfunction event data.

Additional aspects and advantages of the disclosed embodiments are set forth in part in the description which follows and in part are obvious from the description or may be learned by practice of the disclosed embodiments. The aspects and advantages of the disclosed embodiments may also be realized and attained by the means of the instrumentalities and combinations particularly pointed out in the appended claims.

The disclosed embodiments include apparatus and methods for tracking and analyzing operational malfunctions in a wireless device such as wireless device freezes crashes resets and inadvertent power downs. The disclosed apparatus and methods are operable to log predetermined activities and operations occurring on the wireless device leading up to and including the operational malfunction. After the operational malfunction these logs may be retrieved and reviewed to reconstruct the state of the wireless device leading up to and at the time of the malfunction. Thus the disclosed apparatus and methods enable wireless device activity to be reviewed in order to determine a cause of the malfunction and in order to prevent future similar malfunctions.

The disclosed embodiments have particular relevance in determining the reasons for which a wireless device malfunction causes the device to stop operating and or power down. A normal cessation event on the wireless device occurs for example when a user powers down the wireless device voluntarily by for example pressing and holding the ON OFF switch or the wireless device power downs automatically due to low battery power. A malfunction event causing cessation of operation or loss of power on the other hand refers to a scenario where the wireless device locks up or powers down for any other reason. For example a malfunction event may occur when the wireless device halts operations while staying powered on referred to as a freeze or when the wireless device stops operations and powers down abruptly referred to as a crash or when the wireless device powers down abruptly and then re powers up on its own referred to as a reset. The described embodiments provide indicators to distinguish between normal cessation events and malfunction events thereby enabling a review of activities leading to malfunctions of the wireless device and enabling an understanding of how to avoid future malfunction events.

The following discussion is an overview of the disclosed embodiments. Referring to one embodiment of a device malfunction management system includes a plurality of wireless devices . Each of wireless devices has resident on it or remotely accessible by it a configurable malfunction management module for tracking and storing operational data and malfunction related information associated with a malfunction event and a recovery module for retrieving the operational data and malfunction related information upon powering up of the wireless device. System further includes a remotely located user manager server which has its own malfunction management module operable to dictate tracking and reporting conditions and operable to analyze the collected malfunction information results. Malfunction management module executes a configuration generator to generate and then transmit a tracking configuration to one or more of the plurality of wireless devices . For example the tracking configuration identifies a selected malfunction event parameter and or a selected operational data parameter to be tracked on a given wireless device .

Selected malfunction event parameter includes an identification of a malfunction related event which may include a single event input value or message or a predetermined sequence or combination of events inputs or messages. For example malfunction event parameter includes a crash event a freeze event a reset event a data abort message an interrupt handler message an error message and any other data that may indicate a malfunction event.

Similarly selected operational data parameter includes information relating to a general state or status of predetermined components of the respective wireless device which may include a single event input or message or a predetermined sequence or combination of events inputs or messages. For example operational data parameter may include a wireless device operational setting value a state of a wireless device component a statistic associated with a wireless device system or subsystem a call stack one or more register values a network component operational setting value and or state a network component system or subsystem statistic and any combination of data and events that may be configured by a user. Further one or more selected operational data parameters may depend on or correspond to the one or more selected malfunction event parameters .

In response to receiving the tracking configuration tracking storage reporting logic of resident malfunction manager module is executed to monitor processing engine of the respective wireless device to track operational data and malfunction events based on configuration . Tracking storage reporting logic is operable to use malfunction event parameter selected from a plurality of malfunction event parameters and operational data parameter selected from a plurality of operational data parameters to determine what data events to monitor. Further logic utilizes tracking parameter selected from a plurality of tracking parameters to determine how and when the data is to be collected and stored. Additionally logic utilizes reporting parameter selected from a plurality of reporting parameters to determine how and when the data is to be transmitted back to user manager server .

For example tracking storage reporting logic may identify malfunction event data and or operational data within processing engine and corresponding to malfunction event parameter and or operational data parameter by monitoring one or more processing subsystems . In one embodiment for example logic may monitor some predetermined input data from an input processing IP component and some predetermined call processing data from a call processing CP component . The identified malfunction event data and or operational data are then collected and stored in memory in active event log . For example memory may be fast read write memory associated with active programs and data. At some predetermined instance as dictated by configuration or when memory reaches a predetermined capacity logic transfers the contents of active event log to malfunction event log in first storage area . For example first storage area may be any type of persistent data repository resident on or otherwise connected with the respective wireless device.

Further resident malfunction management module includes recovery module that aids in identifying normal cessation events and malfunction events and in recovering information stored during malfunction events. Recovery module includes normal recovery logic that is operable to store one or more parameters such as normal event indicator corresponding to a normal power down of a wireless device in an available data repository such as in association with malfunction event log in first storage area . First storage area for example may be a persistent and non volatile data repository hard drive electronic file system etc. Further in one embodiment normal recovery logic includes functionality called out by API associated with one or more applets that handle a normal powering down of the device including generating normal power down event indicator . Similarly recovery module includes malfunction logic which may be operable to generate and record a malfunction indicator as will be discussed below. Additionally malfunction logic is operable to store information such as active event log and additional malfunction information corresponding to a power down or cessation of operation caused by a malfunction for example a crash freeze reset or inadvertent power down in any available memory or storage area. For instance malfunction logic may first attempt to save information in first storage area however during many malfunction scenarios first storage area may either not be available due to the malfunction or there may not be enough time to write to first storage area . In any case if first storage area is not available then malfunction logic looks to save information to any other available memory or storage area such as second storage area . Second storage area includes any type of memory or storage area that is available to receive and save the predetermined information during the given malfunction event and that further allows the predetermined information to be recovered once the respective device powers up again. For example second storage area may include but is not limited to an unused portion of RAM a memory card associated with the respective wireless device and a memory or storage remote from but in communication with the respective wireless device. In one embodiment besides the parameters being tracked in active event log based on configuration the configuration may dictate one or more additional malfunction data parameters to collect as additional malfunction information during abnormal losses of power or cessation of operations. For example additional malfunction information may be state information of one or more predetermined wireless device components the value of one or more predetermined subsystem registers such as program counters subsystem statistics etc. Further active event log may need to be moved from memory because memory may not be a persistent or non volatile type of memory. Alternatively the portion of memory where active event log is held may be an area that is over written or cleared during the normal power up operations of the respective device. As such malfunction logic looks to store the predetermined information in a memory or storage area such as first storage area and or second storage area that is a persistent or non volatile type of data repository and that is an area which is not overwritten or cleared during normal power up operations. Further in one example second storage area is a type of repository that allows for fast writes where second storage area has a faster writing capability than first storage area which may be a relatively long term storage area compared to second storage area . In one embodiment for example second storage area may comprise an unused portion of random access memory while first storage area may comprise an electronic file system. As such in one example during the short period of time during which the respective wireless device is losing functionality and or power due to a malfunction event when malfunction logic would not have enough time to transfer active event log and any additional malfunction information to first storage area second storage area provides a functional repository with non volatile or persistent capabilities and sufficient capacity to store this information until the respective wireless device can be powered up. In another example first storage area may be inaccessible due to the malfunction for example due to the inoperability of a component necessary to transfer the information to first storage area . In this example malfunction logic may transfer the predetermined information such as active event log and or additional malfunction information to any other available storage area where the information may be later recovered such as second storage area . In yet another example malfunction logic may transfer the predetermined information to a local memory card. In still another example malfunction logic may transfer the predetermined information to a remote memory or storage area in communication with the respective wireless device.

Upon powering up of a wireless device tracking storage reporting logic of resident malfunction manager module is operable to determine if a malfunction event caused the previous power down such as by checking first storage area for predetermined data such as normal event indicator and malfunction event indicator and or such as by checking second storage area for at least one of active event log additional malfunction information normal event indicator and malfunction event indicator . If a malfunction is detected then resident malfunction manager module is operable to transfer the information from second storage area to malfunction event log . Further based on configuration resident malfunction manager module is operable to selectively transmit log to user manager server for analysis.

Referring to malfunction manager module of user manager operates analysis engine to analyze according to predetermined or user defined malfunction sequences or standards the information included in malfunction event log received from one or more of wireless devices . For example predetermined standards may define at least one of a crash freeze reset normal power down etc. Analysis engine parses the information in malfunction event log compares it to predetermined standards and generates a malfunction event report based on this comparison. Malfunction event report may include a malfunction event characteristic that identifies and or quantifies the malfunction for example based on the above described comparison of event log with predetermined standard . For example malfunction event log may be a collection of information from one or more wireless devices and analysis engine may determine any type of relationship between a malfunction event and any one of each wireless device each type model of wireless device each carrier associated with the one or more wireless devices each communications protocol associated with each wireless device each version of hardware software firmware associated with the respective wireless devices and any other information which may be associated with a given wireless device. Malfunction event report may be reviewed manually such as by a technician or electronically for evaluation of the tracked communications and device state information including a determination of wireless device robustness and stability. Additionally analysis engine may execute configuration generator based on report to update monitoring and tracking of malfunction related information in the wireless device or to collect additional malfunction related information for further analysis.

Referring to wireless network includes any communications network operable at least in part for enabling wireless communications between a respective wireless device and any other device connected to wireless network . Further wireless network includes all network components such as a base transceiver station BTS and all connected devices that form the network. Wireless network may include at least one or any combination of a cellular telephone network a terrestrial telephone network a satellite telephone network an infrared network such as an Infrared Data Association IRDA based network a short range wireless network a Bluetooth technology network a home radio frequency HomeRF network a shared wireless access protocol SWAP network an ultra wide band UWB network a ZigBee protocol network a wideband network such as a wireless Ethernet compatibility alliance WECA network a wireless fidelity alliance Wi Fi Alliance network and a 802.11 network a public switched telephone network a public heterogeneous communications network such as the Internet a private communications network and land mobile radio network. Suitable examples of telephone networks include at least one or any combination of analog and digital networks technologies such as code division multiple access wideband code division multiple access universal mobile telecommunications system advanced mobile phone service time division multiple access frequency division multiple access orthogonal frequency division multiple access global system for mobile communication analog and digital satellite systems and any other technologies protocols that may be used in at least one of a wireless communications network and a data communications network.

Network interface may be any mechanism that allows user manager server to communicate across wireless network . For example network interface may include a local area network that connects user manager server through an Internet Service Provider to the Internet which in turn may be connected to a respective wireless device through a carrier network and a base station.

User manager server may be at least one of any type of server personal computer mini mainframes and the like. User manager server receives logs based on configuration for purposes such as identifying and reconstructing malfunction related events occurring on a wireless device in order to analyze them to improve the reliability and robustness of wireless devices functioning in wireless network area . Further there can be separate servers or computer devices associated with user manager server that work in concert to provide data in usable formats to parties and or a separate layer of control in the data flow between the wireless devices and user manager server . User manager server includes malfunction manager module and its corresponding components which can give a ready view of event tracking logs collected from the wireless devices in any form such as tables maps graphics views plain text or any other type of displayed and or printed and or interactive output. Module may include software hardware firmware and generally any executable instructions operable by one or more other processors located resident on user manager server or remotely accessible by it. In one embodiment for example malfunction manager module comprises malfunction data management logic which includes executable instructions and data for managing the generation and transmission of configuration to the respective wireless device as well as the collection storage and analysis of malfunction event log and malfunction event data and or operational data . Further malfunction management module and or user manager server or plurality of servers can send software agents or applications including 1 the resident malfunction manager module and 2 tracking configuration to wireless devices in the wireless network area such that the wireless devices return data from their resident applications and subsystems including event tracking logs bearing collected malfunction event data collected operational data as well as the associated tracking configuration. Malfunction manager module includes configuration generator which comprises any combination of software hardware firmware and generally any executable instructions operable by one or more additional processors resident on or remotely accessible from user manager server . Further user manager or malfunction manager module may include a data repository such as any type of local or remote memory and or storage device for storing event logs .

Additionally user manager or malfunction manager module may include analysis engine which may comprise at least one of an application specific integrated circuit ASIC a chipset a processor a microprocessor a logic circuit and any other data processing device. In one embodiment for example analysis engine may comprise analysis logic which includes software firmware executable instructions and data for analyzing log and or any component of the log and generating malfunction event report and or malfunction event characteristic .

Additionally malfunction manager module may include optimization module operable to access event record and or log and apply predetermined algorithms or programs to optimize the settings of one or more device and or network related configurations to reduce malfunction events such as by reducing access freeze resets and other unaccounted for power downs or crashes. Optimization module may include any executable instructions operable to analyze event record and or log and determine revised network specific operational configuration value changes and or wireless device specific operational configuration value changes to reduce the occurrence of malfunction events. Optimization module may include any hardware software firmware and or other set of executable instructions. Additionally optimization module may be operable to initiate further communications with respective wireless devices and or a network component such as a base station to retrieve additional event related data associated with the plurality of logs in order to perform further analysis and optimization of one or more event data and associated parameters. The optimizations performed by optimization module may also be performed all or in part by a technician manually reviewing the event record and any associated communications related data.

Further system may include a user or operator in communication with user manager and or wireless devices . For example operator may be a technician customer service representative etc. of a communications carrier responsible for providing service to wireless devices and or an equipment maker who manufactured the respective wireless device and or a component within the respective wireless device. Such a user or operator may be interested in malfunction events in order to improve the quality of service of the wireless network and or the respective wireless device. In any case user or operator may access user manager via a computer device having a direct or remote wired or wireless connection. As such user or operator may be able to access and manipulate malfunction manager module as described herein. Further user or operator may provide inputs to user manager through an input mechanism such as a keyboard mouse etc. and may receive outputs from user manager such as report and or event log through output mechanism such as a display an audio speaker a haptic feedback mechanism etc.

The wireless devices can include any mobile or portable communications device such as cellular telephone personal digital assistant two way text pager a laptop computer a tablet computer and even a separate computer platform that has a wireless communication portal and which also may have a wired connection to a network or the Internet. Additionally the wireless device can be a remote slave or other device that does not have an end user thereof but simply communicates data across the wireless network . For example the wireless device may include a remote sensor a diagnostic tool a data relay and the like. The described embodiments for keeping track of storing transmitting and receiving configurable events for a wireless device can accordingly be applied to any form of wireless communications device or module including a wireless communication portal a wireless modem PCMCIA cards access terminals personal computers telephones or any combination or sub combination thereof.

In system user manager server can be in communication over wired network such as a LAN network with a separate data repository for storing the data gathered from the remote wireless devices such as the respective event tracking logs . Further a data management server may be in communication with user manager server to provide post processing capabilities data flow control etc. User manager server data repository and data management server may be present on the cellular system with any other network components that are needed to provide cellular telecommunication services. User manager server and or data management server communicate with carrier network through a data link such as the Internet a secure LAN WAN or other network.

Carrier network controls messages generally being data packets sent to a mobile switching center MSC . Further carrier network communicates with MSC by a network such as the Internet and or POTS plain old telephone service . Typically in network a network or Internet portion transfers data and the POTS portion transfers voice information. MSC may be connected to multiple base stations BTS by another network such as a data network and or Internet portion for data transfer and a POTS portion for voice information. BTS ultimately broadcasts messages wirelessly to the wireless devices such as cellular telephones by short messaging service SMS or other over the air methods.

Further each wireless device such as a plurality of cellular telephones in this cellular telephone embodiment has computer platform that can transmit data across wireless network portion and that can receive and execute software applications and display data transmitted from user manager server or another computer device connected to wireless network portion .

Computer platform also includes an application specific integrated circuit ASIC or other chipset processor microprocessor logic circuit or other data processing device. ASIC or other processor may execute application programming interface API layer that interfaces with any resident programs such as resident malfunction manager module or recovery module in data repository of the wireless device. API may comprise a runtime environment executing on the respective wireless device. One such runtime environment is Binary Runtime Environment for Wireless BREW software developed by Qualcomm Inc. of San Diego Calif. Other runtime environments may be utilized that for example operate to control the execution of applications on wireless computing devices.

Data repository may include one or any combination of read only and or random access memory RAM and ROM EPROM EEPROM flash cards or any memory common to computer platforms. Data repository may also include a local database that can hold the software applications files or data not actively used in memory such as the software applications or data transmitted from user manager server . For example local database typically includes one or more flash memory cells but can be any secondary or tertiary storage device such as magnetic media EPROM EEPROM optical media tape or soft or hard disk. Additionally local database can ultimately hold a local copy of resident malfunction manager module recovery module or agents as well as first storage area and second storage area .

Referring back to in an embodiment computer platform includes resident malfunction manager module that interfaces with API and is executable by a communications processing engine . Resident malfunction manager module may be initially received or updated from user manager server or initially installed on the wireless device during manufacturing or installed or updated by a wireless device user including a field technician through a user interface for example through a standard HTTP an FTP or some other data transfer protocol interfaced with API. Communications processing engine may comprise a subcomponent of ASIC of the wireless devices such as one or more processors collectively included in or accessible by ASIC . In addition in an embodiment computer platform includes a resident recovery module that interfaces with API and is also executable by a communications processing engine .

In one embodiment API includes a class of software extensions that allow resident or remotely accessible modules such as resident malfunction manager module and recovery module to be accessed by communications processing engine . These software class extensions can communicate with processing subsystems on the wireless device which allows both data reads and commands. For example the software extension can send commands including register for log messages on behalf of the applications that invoke it. API can then forward the responses of the subsystems to data repository or ultimately across wireless network to user manager server . Each resident application on wireless device can create an instance of this new software extension to communicate with the subsystems independently.

Communications processing engine includes various processing subsystems embodied in hardware firmware software and combinations thereof that enable the functionality of the respective wireless device and the operability of the respective device on wireless network such as for initiating and maintaining communications and exchanging data with other networked devices. For example communications processing engine may include one or a combination of processing subsystems such as sound non volatile memory file system transmit receive searcher layer layer layer main control remote procedure handset power management diagnostic digital signal processor vocoder messaging call manager Bluetooth system Bluetooth LPOS position determination position engine user interface sleep data services security authentication USIM SIM voice services graphics USB multimedia such as MPEG GPRS etc. For the disclosed embodiments processing subsystems of communications processing engine may include any subsystem components that interact with applications executing on computer platform . For example processing subsystems may include any subsystem components which receive data reads and data writes from API on behalf of the resident malfunction manager module or recovery module .

In disclosed embodiments resident malfunction manager module includes tracking storage reporting logic and tracking configuration . Tracking configuration which may be received from user manager server includes one or more selected malfunction event parameters and or selected operational data parameters as well as the selected tracking and reporting parameters . Further as mentioned above configuration may include additional malfunction data parameters that identify additional information to log in case of a malfunction. For instance selected malfunction event parameter and or selected operational data parameter include but are not limited to a plurality of industry wide or carrier specific messages message protocols parameters data values etc. such as may be associated with malfunction events and normal cessation events in order to track and log predetermined information of interest to a user. For example configuration may be set up through malfunction event parameter to track one specific type of malfunction or any number of types of malfunctions. Similarly configuration may be set up through operational data parameter and additional malfunction data parameter to track specific data associated with a given type of malfunction or any number of data corresponding to the current state of the wireless device.

In response to receiving tracking configuration tracking storage reporting logic of resident malfunction manager module is executed to determine 1 what data to monitor corresponding to an event based on the selected parameters and 2 when the data is to be processed based on the selected tracking parameter 3 how the data is to be collected and stored based on the selected tracking and or reporting parameters and respectively and 4 when to the data is to be transmitted back to user manager server based on the selected reporting parameter . In one embodiment one or more processing subsystems are monitored for each selected malfunction event parameter and or selected operational data parameter . Tracking storage reporting logic of resident malfunction manager module directs the logging in malfunction event log of the data values associated with the selected parameters and when the data is detected. As one example predefined sequences corresponding to a communications protocol are monitored. As another example predefined series of commands including messages keystrokes inputs outputs data and errors are monitored. As yet another example any combination of data and events that may be configured by a user is monitored.

In an embodiment the selected malfunction event parameter and or selected operational data parameter is an input received by the wireless device and the processing data relate to input received by and or processed by the wireless device . Exemplary inputs include user input received through a keypad a touch screen sensor a picture camera device a video camera device and any other type of input. In one embodiment for example IP component of processing subsystems is used for determining and keeping track of any or all input received by the wireless device. In this embodiment tracking storage reporting logic is executed by communications processing engine through API to monitor IP component for input data as dictated by tracking configuration .

In another embodiment the selected malfunction event parameter and or selected operational data parameter is a call processing function performed by the wireless device and the collected malfunction event data and or collected operational data relate to call processing information for the wireless device and wireless network . Examples of call processing information include information relating to call initiation call drops authentication handoffs data exchanges messaging protocols internal processing and decision making etc. associated with processing a voice or data message. In one embodiment for example CP component of processing subsystems is used for determining and keeping track of all call processing information for the wireless device and wireless network . In this embodiment tracking storage reporting logic is executed by communications processing engine through API to monitor CP component for call processing related data as dictated by tracking configuration .

In addition processing subsystems may include operating system OS component for determining keeping track of and handling interruptions relating to wireless device processing including for example a data abort interrupt handler operations error messages etc. OS component may perform its functions in real time or upon a time synchronized basis. Data aborts interrupts and error messages may occur as explained below upon a wireless device malfunction including during events relating to a wireless device freeze crash or reset occurrence. As described below in the disclosed embodiments OS component is one example of a component monitored by or in communication with tracking storage and reporting logic and recovery module .

In the above noted embodiments collected malfunction event data and or collected operational data are stored in malfunction event log within data repository . Initially for example this information may be held in active event log in memory . Then active event log may be written to first storage area for longer term storage at predetermined instances or written to any other available persistent and recoverable storage area such as second storage area during malfunctions. Any type of memory resident on or connectable to the wireless device may be used for storage including local memory and or storage as well as memories and or storage resident on other wireless devices or user manager server such as through data uploads across wireless network area or through direct serial connections. In addition the contents of malfunction event log may be updated according to the above noted processing due to an updating of or receipt of a new tracking configuration from user manager server or for example from another wireless device across wireless network area . The malfunction event log may also be updated through the input of commands by the wireless device user for example through a standard HTTP an FTP or some other data transfer protocol interfaced with API invoking for example communications processing engine to execute tracking storage reporting logic to update malfunction event log .

In one or more embodiments the contents of the malfunction event log may be transmitted from any wireless device to another device on wireless network area . As one example the wireless device transmits log to user manager server . As another example the wireless device transmits log to another wireless device.

As noted the selected tracking parameter identifies when data is to be retrieved from communications processing subsystems . For example in one embodiment selected tracking parameter includes a predefined time period to control the retrieval from subsystems of information related to the event. Information retrieval may be performed in any known manner such as for example based upon periodic or a periodic predefined time periods based upon any occurrences events detected by computer platform or based upon manual commands by a technician or other individual using a wireless device or remotely from another wireless device or user manager server . For example in one embodiment wherein the predefined time period is periodic upon each periodic interval configuration tracking storage reporting logic is operable to write a timestamp in first storage area of data repository .

In other embodiments the aforementioned time based and event based read triggers are performed dynamically by the wireless device in real time. For example tracking storage reporting logic is executed based upon matching characteristics or parameters to entries in a relational table. The characteristics or parameters may be for example sequential combinations of data generated and or measured by processing subsystems including IP component information CP component information and OS component information.

In disclosed embodiments as discussed above recovery module includes normal recovery logic and malfunction logic . Recovery module may be initially received or updated from user manager server or initially installed on the wireless device during manufacturing or installed or updated by a wireless device user including a field technician through a user interface for example through a standard HTTP an FTP or some other data transfer protocol interfaced with API.

Normal recovery logic is operable to store one or more parameters corresponding to a normal power down of a wireless device in first storage area . As shown an exemplary normal recovery parameter is a normal event indicator . As noted in one embodiment a time stamp is periodically stored in embedded memory.

Malfunction logic of a recovery module is operable to store one or more parameters corresponding to a malfunction of a wireless device in first storage area or second storage area . Exemplary malfunctions include a crash freeze reset or inadvertent power down of the wireless device . As shown an exemplary malfunction parameter is a malfunction indicator which may be written into first storage area if there is enough time to do so during the malfunction. In addition the contents of active event log may be written to second storage area which could be any available and functional persistent memory that is unused i.e. that allows for recovery of the information upon re powering up of the respective wireless device. As another example additional malfunction information as defined by the selected additional malfunction data parameter and which includes information associated with operational functions or states of the wireless device may be written to second storage area .

In an example of a malfunction event such as a data abort event OS component such as a real time executive component in a wireless device may work with malfunction logic to handle the data storage and recovery operations. In an exemplary embodiment upon the occurrence of the data abort event OS component invokes a data interrupt event handler module which in a data abort operation through messages protocols parameters characteristics etc. attempts to store unsaved data in an available and recoverable storage area. As one example the contents of active event log and tracking configuration may be written to second storage area . As another example the relevant parameters associated with malfunction event parameter operational data parameter and additional malfunction event parameter of the wireless device may be stored in second storage area .

Upon re powering up of a wireless device tracking storage reporting logic of resident malfunction manager module is operable to determine from first storage area and or second storage area if a malfunction event caused the previous power down. The foregoing may be accomplished in multiple manners as described below. Upon determination of whether a malfunction event caused the previous power down recovery module operates to retrieve the information stored during the malfunction and write this information into malfunction event log in first storage area .

In one embodiment recovery module checks first storage area for a normal power down indictor . In a related embodiment the mere presence of the normal power down indictor indicates that the previous power down was normal and no malfunction event had occurred.

In one embodiment recovery module checks first storage area for the last time stamp stored there before powering down of the wireless device . Upon powering up the difference between the current time and the time stamp is compared to a fixed predetermined time interval. If the difference is a greater amount of time than the fixed predetermined time interval and indicator indicates that the wireless device was not powered down normally it is determined that a malfunction event occurred.

In one embodiment recovery module checks first storage area for a malfunction indicator . In a related embodiment the presence of the malfunction indictor indicates that the previous power down was due to a malfunction event. In another related embodiment the presence of the malfunction indictor merely indicates that the previous power down was likely due to a malfunction event. Here one or any combination of other storage areas which may be predetermined storage areas such as second storage area are checked to corroborate whether the previous power down was due to a malfunction event.

In one embodiment recovery module checks second storage area for the presence of data stored therein before power down by the above noted data interrupt handler module. The data may be the contents of active event log and tracking configuration or alternatively the relevant parameters associated with operational functions of the wireless device such as operational data and additional malfunction information . In one related embodiment the mere presence of the data indicates that the previous power down was due to a malfunction event. In another related embodiment the presence of the data is corroborated with the presence of a normal event indicator or malfunction indicator or the foregoing time stamp comparison to determine whether the previous power down was due to a malfunction event.

In one or more embodiments if it is determined that the previous power down was due to a malfunction event after recovering any stored information from second storage area resident malfunction manager module is operable to transmit the wireless device malfunction event log to user manager server or to another wireless device .

In one embodiment malfunction event log and or malfunction event report is used to reproduce the information contained in the respective wireless device at the time of the malfunction event to test and improve wireless device functionality either at user manager server or in an alternative wireless device testing environment. In a related embodiment malfunction event log and or malfunction event report is transmitted to manufacturers of wireless devices to test and improve the robustness and stability of later versions of wireless devices.

In operation referring to one embodiment of a method operable on a remote apparatus for managing malfunctions on a wireless device includes generating a malfunction tracking configuration Block . For example referring to a remotely located operator accessing user manager server and malfunction manager module may execute configuration generator to select from among a plurality of malfunction event operational data tracking and reporting parameters and respectively. The selected parameters and then form tracking configuration .

Further this embodiment of the method includes transmitting the malfunction tracking configuration to a wireless device Block . For example operator may execute malfunction manager module to send configuration across wireless network to one or more wireless devices .

Additionally this embodiment of the method includes receiving malfunction event information from the wireless device Block . For example based on selected reporting parameter the respective wireless device transmits the collected malfunction event log across wireless network to malfunction manager module .

Further this embodiment of the method includes analyzing the received malfunction event information Block and generating a malfunction event report based on the analysis Block . For example malfunction manager module executes analysis engine which may compare event log with some predetermined malfunction standard in order to determine malfunction event characteristic . For example analysis engine may compare the one event or a sequence of events or entries in log to known events and or sequences associated with a crash freeze reset and or inadvertent power down in order to characterize the malfunction.

Optionally this embodiment of the method may include generating a new operational setting for the wireless device based on the malfunction report and or the received malfunction information Block . For example malfunction manager module may execute optimization module to apply predetermined optimization algorithms to event log and or event report in order to determine new operational settings for the respective wireless device or a respective network component in order to avoid future malfunctions from occurring.

A subsequent additional optional action for this embodiment of the method includes transmitting the new operational setting Block . For example malfunction manager module may execute to transmit new operational setting across wireless network to the respective wireless device and network component.

Corresponding to the method of and now referring to one embodiment of a method operable on a wireless device for managing malfunctions associated with abnormal power downs includes receiving a malfunction tracking configuration Block . For example as noted above a resident malfunction management module on a respective wireless device may receive malfunction tracking configuration transmitted by malfunction manager module from across wireless network .

Further this embodiment of the method includes collecting operational and malfunction data based on the received tracking configuration Block . For example resident malfunction management module executes tracking storage and reporting logic to collect malfunction event data and operational data as dictated by the parameters of configuration into active event log . Active event log may initially be stored for example in an active portion of data repository such as in memory . Memory comprises a fast access memory to enable efficient collection of malfunction and operational information but memory may not be persistent or non volatile and or memory may be a portion of data repository that is overwritten or cleared during the power up operations of the respective wireless device.

Additionally this embodiment of the method includes storing the collected data Block . For example resident malfunction management module executes tracking storage and reporting logic to write active event log into malfunction event log which is held in first storage area . In contrast to memory first storage area may allow relatively slower access but may be a persistent non volatile type of storage enabling retrieval of malfunction event log at any time.

Further this embodiment of the method includes executing normal or abnormal power down operations Block . For example resident malfunction management module may execute recovery module to save logs parameters indicators etc. when a normal power down event or an abnormal power down event are detected. Refer to for a detailed description of these operations as described below in more detail.

Additionally this embodiment of the method includes uploading the stored malfunction and operational information Block . For example resident malfunction management module may execute tracking storage and reporting logic to transmit malfunction event log across wireless network based on reporting parameter of configuration .

Optionally this embodiment of the method may include receiving and implementing a new operational setting Block . For example resident malfunction management module may receive new operational setting which may be a new value or a wholly new operational parameter which affects an operational characteristic of the respective wireless device. As noted above new operational setting is designed to change a functionality of the respective wireless device based on the previously collected malfunction event log to avoid a similar future malfunction event.

Referring to one embodiment of a method of recovering malfunction related information includes powering up a wireless device Block and checking a predetermined storage area for an indication of a malfunction Block . For example when a user depresses the ON OFF key malfunction manager module executes recovery module to look in certain locations of a data repository to determine if indicators and or malfunction information has been previously saved. For example in one embodiment the method includes determining if there is a normal event indicator present in the data repository Block . For instance in one embodiment recovery module may check first storage area for normal event indicator . If a normal event indicator is found then the method may conclude that there has not been a malfunction and normal operation of a wireless device follows Block . On the other hand if a normal event indicator is not found in data repository then the method may further include checking for a malfunction indicator Block . For instance in one embodiment recovery module may execute to check storage area for malfunction indicator . If a malfunction indicator is found then the method includes going to a predetermined storage area Block and recovering the data found there Block . For instance in one embodiment recovery module may execute to go to second storage area and collect active event log and or additional malfunction information and write this data into malfunction event log within first storage area . Next the method includes clearing the predetermined storage area where the recovered data was found Block and then proceeding with normal operation of the wireless device Block .

Alternatively if a malfunction indicator was not found in data repository Block then the method may proceed to determine if any data is found in the predetermined storage area Block . For example in one embodiment in the prior action of checking for malfunction indicator Block the method may include keeping track of the presence of any data. As such if data is found then the method includes the previously discussed actions of recovering the data Block clearing the predetermined storage area Block and then proceeding to normal operation of a wireless device Block . Alternatively if no data is found Block then the method concludes that data has been lost and may save a corresponding lost data malfunction indicator to the data repository Block . For instance the lost data may be a result of a crash or a reset.

It should be noted that the actions as described above with regard to Blocks and and their ensuing operations in other embodiments may be performed individually or in any combination and may be redundantly performed to ensure that no unsaved malfunction related information is lost.

Additionally it should be noted that the method may include granting access to event log and or malfunction event report to other business or commercial systems. To ensure the security and or integrity of the collected product acceptance data such access may be granted in a monitored fashion such as through a user manager. Further other computer devices including both storage and processing devices can be located across the wireless network from the wireless device and accordingly the architecture associated with the user manager is readily scalable.

In summary each wireless device can have at least one malfunction manager module application or agent resident either permanent or temporarily on the computer platform thereof which causes the gathering of malfunction information from communications processing engine and which can effect selective transmission of the gathered information in event log to another computer device such as user manager server on the wireless network . If the wireless device is so embodied event log may be transmitted over an open communication connection from the wireless device to the wireless network such as an open voice or data call. If the wireless device is a cellular telephone and the wireless network is a cellular telecommunication network such as shown in event log can be transmitted through short message service or other wireless communication methods.

In view of the method being executable on computer platform of a wireless device the method includes a program resident in a computer readable medium where the program directs a wireless device having a device platform to perform the operations of the above described methods. Such a program can be executed on any single computer platform or can be executed in a distributed way among several computer platforms. Furthermore the method can be implemented by a program that directs a computer device such as user manager server to perform a reconfiguration of device or network operational settings based on the gathered and processed malfunction information in event log from one or more of the wireless devices .

The computer readable medium can be the data repository of the computer platform of the cellular telephone or other wireless device . Further the computer readable medium can be in a secondary storage media that is loadable onto a wireless device computer platform such as a magnetic disk or tape optical disk hard disk flash memory or other storage media as is known in the art.

Further the method may be implemented for example by operating portion s of the wireless network and or LAN such as device platform and user manager server to execute a sequence of machine readable instructions. The instructions can reside in various types of signal bearing or data storage primary secondary or tertiary media. The media may comprise for example RAM not shown accessible by or residing within the components of the wireless network or LAN . Whether contained in RAM a diskette or other secondary storage media the instructions may be stored on a variety of machine readable data storage media such as DASD direct access storage device storage e.g. a conventional hard drive or a RAID redundant array of independent disks array magnetic tape electronic read only memory e.g. ROM EPROM or EEPROM flash memory cards an optical storage device e.g. CD ROM WORM write once read many DVD digital optical tape paper punch cards or other suitable data storage media including digital and analog transmission media.

While the foregoing disclosure shows illustrative embodiments it should be noted that various changes and modifications could be made herein without departing from the scope of the described embodiments as defined by the appended claims. Furthermore although elements of the described embodiments may be described or claimed in the singular the plural is contemplated unless limitation to the singular is explicitly stated.

