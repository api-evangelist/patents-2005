---

title: Method and apparatus in a telecommunications system
abstract: The present invention relates to methods for providing access independent global roaming between heterogeneous networks. The invention solves this problem and provides policy enforcement and service transparency when terminals roam between different heterogeneous networks. By providing a policy enforcement point associated with the terminal, and by concerning the transport mechanism between terminals and servers as a packet pipe, adding no extra value except transport and Quality of Service classification thereof. The payment for access and services can be separated and access may be paid in real-time by an anonymous payment method. In accordance with the invention, the terminal becomes more like a personal profile manager, managing rights to services and access. The ability to purchase access opens the possibility for the terminal to act as an e-commerce platform, and the subscriber can access any network any time since access is paid for in real time.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07054843&OS=07054843&RS=07054843
owner: Telefonaktiebolaget LM Ericsson (publ)
number: 07054843
owner_city: Stockholm
owner_country: SE
publication_date: 20050301
---
This application is a divisional of application Ser. No. 09 760 569 filed Jan. 15 2001 now U.S. Pat. No. 6 880 009.

The present invention relates generally to a method for use in communications systems and more particularly the invention relates to a method of access independent global roaming. The invention further relates to a system and apparatus for carrying out the method.

A large number of fixed and mobile access standards are now available such as Wideband Code Division Multiple Access W COMA Universal Mobile Telephone System Time Division Duplex UMTS TDD CDMA 2000 Wireless Local Area Network W LAN EDGE etc all of which belong to the 3generation wireless standards. Each type of access standard has its own particular network concept where Mobile Internet Protocol Mobile IP and the General Packet Radio Service GPRS tunnelling protocol are the main two concepts. The invention however is not limited to the above mentioned concepts.

Using methods presently available interoperability between different network concepts is not guaranteed. This is mainly due to three obstacles. First there is a lack of common subscriber profiles service standards and authentication mechanisms preventing enforcement of policies relating but not limited to access and service authorization and accounting and mobility in different networks. Second there is a lack of common Quality of Service QoS versus resource allocation paradigm in the access networks due to a bottom up instead of a top down approach in designing the data link layers with respect to QoS requirements. Third there is a lack of common higher layer standards in the terminals preventing service transparency when user terminals i.e. clients roam between different networks that carry specific services.

Thus there is a problem with interoperability between heterogeneous networks mainly because of problems with authentication and service transparency in and between different networks. It is of course theoretically possible to harmonise disparate networks at all of the above levels and thus creating interoperability. There is however a need for an organic way of integrating heterogeneous networks and thus providing access independent global roaming.

The present invention therefore provides a solution to the problems of integrating heterogeneous networks providing for access independent global roaming and access to services via heterogeneous networks without a need for harmonising disparate networks.

An object of the invention is to provide access independent global roaming in heterogeneous networks.

Another object of the invention is to provide policy enforcement and service transparency when terminals roam between different heterogeneous networks.

moving at least essential or all service related functions out of the network into the periphery i.e. clients or user terminals and servers by separating service and access functions 

conceiving the transport mechanism between clients or terminals and servers as a packet pipe not necessarily adding extra value except transport and Quality of Service QoS classification thereof 

separating the charging of transport from the charging of services and introducing real time payment of transport 

defining policies basically a set of rights and obligations in a policy definition point e.g. operator servers enforcing policies in a policy enforcement point residing in the client e.g. the user terminal and

More specifically the policies defined in the policy definition point are enforced locally in the user terminal in a local policy enforcement point instead of as usual in the network. By policies in this context is meant among others a set of rights and obligations pertaining to authentication of users authorization to access and services as well as purchasing and brokering of transport resources and security. Accounting policies may govern the charging functions for access charging and service charging. By the separation of service and access functions transport can be paid for separately e.g. in real time via a credit card pre paid card cash card or the like and services can be paid for as usual e.g. as per invoice from a service provider for example.

The client or terminal thus acts more as a personal profile manager enforcing policies hence managing rights to services and access. Services and access are controlled in the terminal by the local policy enforcement point and the terminal profile manager is access independent since access can be purchased in real time. Thus the subscriber can access any network at any time considered the right modem or layer and layer access module is provided. Reference is made to the Open Systems Interconnect OSI model.

By adopting the proposed solution as described in the embodiments of the invention global roaming is possible between heterogeneous networks such as CDMA 2000 W LAN EDGE and UMTS. The ability with the present invention to purchase access also opens the possibility for the terminal to act as an e commerce platform i.e. the terminal can be used to purchase anything not just access.

The term transport used in this specification may identify an access network such as CDMA2000 W CDMA etc. or e.g. both an access network and a core IP network. The term access is used synonymous to the term transport.

Although the invention has been summarised above the method and arrangement according to the appended independent claims define the scope of the invention. Various embodiments are further defined in the dependent claims.

The various features of the invention will now be described with reference to the figures in which like parts are identified with the same reference character. In the following description for purpose of explanation and not limitation specific details are set forth such as particular circuits components techniques etc. in order to provide a thorough understanding of the present invention. However it will be apparent to one skilled in the art that the present invention may be practised in other embodiments that depart from these specific details. In other instances detailed descriptions of well known methods devices and circuits are omitted so as not to obscure the description of the present invention.

The present invention describes a method of and a system for providing access independent global roaming between heterogeneous networks and solves the problem with policy enforcement and service transparency in and between different networks. The solution contains a number of salient features.

2 A transparent packet pipe interconnecting servers and clients on a Quality of Service basis transporting packets.

3 A Policy Definition Point PDP associated with or residing within a server or server cluster defining policies pertaining to services authentication authorization accounting and

4 A Policy Enforcement Point PEP associated with or residing in the client enforcing policies defined in the policy definition point at the terminal client .

6 A transformation of the access node into a point of sale for access offering transparent IP transport.

7 Removable and interchangeable layer and layer access modules modems for the clients terminals for accessing different fixed and mobile standards.

The solution according to the invention will now be further described in more detail with references to .

The service domain which covers the higher layers e.g. OSI model consists of a server cluster called Secure Mobile Portal SMP and a client governed by a Local Policy Enforcement Point LPEP residing in the client or terminal . A secure encrypted packet transportation tunnel connects the SMP and the LPEP in a Client Server relationship. This tunnel is enabled by the establishment of shared secrets between the SMP and the LPEP contained in a policy which is used to generate encryption keys for the packets e.g. IP Internet Protocol packets. Since each IP packet is encrypted with a unique key i.e. a shared secret between the service provider and the service buyer each packet received by the SMP will be seen as a de facto authentication of the service buyer or subscriber by the service provider.

The SMP acts as a Policy Definition Point PDP for the LPEP defining policies with respect to services authentication of subscribers authorization to access and services accounting mobility and security for the subscriber. The LPEP residing in the client enforces the policies defined in the SMP . A feature of the architecture is that charging for transport and services can be separated. Transport can be paid for in real time using for example a pre paid card credit card a cash card or the like. Transactions in the service domain can be paid for as usual e.g. as per invoice for example.

The transport domain consisting of an IP based core network and IP based access networks such as designated by the acronyms CDMA 2000 EDGE W LAN W CDMA or fixed or cable networks transports packets from the SMP to the LPEP . The layer and layer part of the client or terminal also belongs to the transport domain and is preferably implemented as interchangeable modules modems for different access standards such as W CDMA EDGE CDMA 2000 W LAN etc. The transport domain not necessarily adds value to the packets except that it classifies the packets according to Quality of Service and transports the packets to the end destination guaranteeing access to physical resources where this is appropriate.

The different access networks in the transport domain must have the appropriate interfaces and support agreed on Quality of Service definitions a so called packet pipe . The packet pipe provides layer and layer functions to convey packet data traffic across radio air interfaces for example. As part of the transport domain the access networks must also be able to process charging information in the embodiment of the invention wherein transport charging is independent of service charging. That is wherein access charging is independent from any other charging and is seen as a separate entity. The transport domain thus involves means for charging a subscriber for transport used e.g. via a pre paid card credit card cash card or other means. It is not necessary that a subscriber is authenticated or authorised by a service provider before transport charging takes place. It is only necessary to validate the pre paid card credit card cash card or the like i.e. it is possible to implement anonymous payment methods for transport. Access providers can accept different types of payment methods for payment of transport e.g. some access providers may accept all major credit cards and their own special cash card for paying for access to their networks. This can be compared to when stores have a sticker on the entrance informing what credit cards they accept for example.

In is an exemplifying embodiment of an anonymous payment method shown. The terminal transmits a random access channel in GSM typically the RACCH including payment information to an access node . The payment information identifies the Credential Verifier CV e.g. the issuer of a credit card or an access subscription the identity of the subscriber in an encrypted form and the credit verification in an encrypted form e.g. a credit card number. This information is received in the access node which reads out the address to the CV adds a transaction number to the user identity and credit verification and transmits that information to the identified CV e.g. a MasterCard server. The CV decrypts the packets sent from the access node with unique keys for that particular subscriber and checks whether the user identity and the credit verification number are correct. In this way the subscriber can be uniquely identified and thus authenticated. If the relationship between the user identity and the credit verification is correct the CV transmits a message with the same transaction number and a positive acknowledgement back to the access node . The access node then returns a message to a modem router interface contained in the terminal containing an IP address and a positive acknowledgement granting access. The IP address is stored in the modem router interface and in the LPEP and is associated with a service requested by the subscriber in the service layers .

The structure and operation of an exemplary embodiment of the LPEP resident in the client or terminal will now be described in more detail with reference to of the drawings. As discussed above the LPEP enforces policies with respect to authentication of subscribers authorization to access and services accounting mobility and security for the subscriber s that the LPEP serves. These policies are defined in the SMP that acts as a PDP for the LPEP . Each LPEP has a set of policies associated with it and the relationship between the PDP and the LPEP i.e. between the SMP and the subscriber is uniquely defined by these policies in the LPEP authorization database .

Each relation that the subscriber has with SMP s or CV s is defined with a number of parameters . In the embodiment shown at least four parameters have been defined. These are obligations rights and a shared secret i.e. a unique identity and an encryption key and an IP address to the SMP or the CV . These relations are negotiated either in real time using public key infrastructure or by signing up for a service and receiving the obligations rights shared secret and IP address to the SMP or CV by mail for example.

The LPEP is also responsible for authenticating the subscriber via e.g. a PiN code or a fingerprint reader. If the subscriber is authorised he gains access to the LPEP . It is possible that the LPEP serves more than one subscriber then the authentication database stores several subscribers A B . . . and their corresponding identification keys key key . . . . The LPEP key on the other hand is used for identifying the LPEP to the SMP and for encrypting the traffic between the LPEP and the SMP or CV .

During a communication session the LPEP maintains an accounting log containing accounting information pertaining to the session such as start time stop time and service utilised. This accounting log can be used by the SMP for billing and auditing purposes. At completion of the session the LPEP can forward the accounting log to the SMP and the SMP replies in agreement or disagreement i.e. compare the accounting log in the SMP with the one generated in the LPEP . Alternatively the accounting log is transmitted from the LPEP to the SMP at regular intervals such as at the end of the day

With reference now to of the drawings the structure and operation of an exemplary embodiment of the SMP will be described in more detail. As discussed above the SMP defines policies with respect to authentication of subscribers authorization to access and services accounting mobility and security for the subscribers that the SMP serves. Thus the SMP contains an Encrypted Subscriber Register ESR carrying subscriber IP addresses or network address identifiers NAI e.g. n.n telia.mob as well as encryption keys for each individual subscriber and service that the SMP serves. This to provide encryption authentication and authorization to the services provided. The SMP also contains a Global Location Register GLR indicating which access networks the subscriber presently is residing visiting in. To be able to provide voice services the SMP also contain a voice server for providing e.g. voice over IP. The SMP can be seen as a server cluster providing both secure and non secure services to the subscriber secure services like e commerce security alarms health care services etc. and non secure services like web browsing and catalogue information services for example. The SMP also contains a secure accounting server for accounting and auditing of records. The SMP can also update the policies in the LPEP . For example if the subscriber does not pay the invoices for a particular service that service can be barred.

With reference now to the exemplary signalling diagram shown in of the drawings the initiation of a session will be described in more detail. To initiate a session a subscriber transmits an authentication request including subscriber identity and a corresponding key e.g. a personal identification number PIN or a fingerprint to gain access to the terminal and the rights of the LPEP . When the subscriber receives an authentication reply indicating that the subscriber is authenticated to use the terminal a service request is transmitted to the LPEP . The LPEP decides on a suitable access depending on the service requested by the subscriber and transmits an access request identifying the subscriber and corresponding payment information everything but the address to the CV encrypted by the LPEP key to the chosen access network . The access network reads the payment information and identifies the address to the Credential Verifier CV generates a transaction number and adds the payment information i.e. the user identity in an encrypted form and credit verification in an encrypted form e.g. a credit card number and transmits the message to the CV . The CV decrypts the message and if the relationship between the user identity and the credit verification is correct the CV transmits a message with the same transaction number and verifies the subscriber s credentials . The access network transmits access OK together with an IP address to the LPEP and at the same time the access network transmits a message to the SMP indicating in what network the subscriber is residing in. The LPEP then enacts the requested service in the SMP and the subscriber and the SMP conducts a session . The LPEP and the SMP monitors all transactions between the LPEP and the SMP for accounting purposes. To end the session the subscriber transmits an end session message to the LPEP that transmits an end session message to the SMP . When the session has ended the LPEP sends accounting information to the SMP that compares it with the accounting information generated in the SMP and sends a positive or negative accounting confirmation back to the LPEP .

With reference now to embodiments and functions of the client or terminal will be described in more detail. The terminal is basically separated into three parts an access part a control part and a service part. The access part contains a number of access options modems . These access options can physically be located in the terminal itself or in someone else s terminal or be a Bluetooth interface connecting to remote modems e.g. in the subscriber s briefcase. The service part contains a user interface and applicable application programming interfaces API s for the services. The control part contains a policy enforcement engine and a policy repository .

The terminal also contains a layer IP switch and a layer IP router between the modems and the applications interface . This enables the user the possibility to have several information flows between applications and modems active at the same time. For example can a voice over IP data flow be maintained through a W CDMA network at the same time as a multimedia flow is maintained through a W LAN network while the terminal at the same time is receiving a best effort flow from another terminal through a Bluetooth modem. This possibility to route a plurality of data flows from a plurality of modems is possible because of the included layer IP switch and layer IP routing . This embodiment also makes it possible for the terminal to hand over a communication session from one communications network to another by re routing the data flow from one modem port to another.

The access discovery function of the terminal is continuously active scanning the surroundings for access possibilities and generates a record of all available access possibilities. The access selection function is responsible for requesting access and presenting credentials to the desired access network depending on the service requested from the service layers and also for preparing to interconnect with the chosen access network.

The policy enforcement engine and the policy repository in the control part connect the modems in the access part with the user and the API s in the service part. More specifically the policy enforcement engine in the control part has the responsibility for a variety of tasks such as authenticating the user to the terminal authorising the user to services and collecting accounting data. These and other tasks will be further described in relation to .

The policy repository of the terminal can be seen as a database containing the subscribers relationship to access providers service providers as well as individual clients i.e. the obligations rights shared secrets and addresses to credential verifiers or SMP s. These relationships can be varying and sometimes extremely complex. Also these relationships may need to be updated at any time.

Some service providers may e.g. have a hierarchical relation between different aspects of its service. For example a special access network or a special gateway might need to be used or passed before a particular service can be executed and perhaps a trusted relationship will have to be enacted for a particular session. Other service provider might be non hierarchical which means that the different services are open and enacted at the same level e.g. in that any access network may be used.

A subscriber may have a relationship to many different structures hierarchical and flat. For example subscriber A has a private subscription with provider X for voice and web browsing. Under the voice service subscriber A communicates following a specific policy with subscriber B. Subscriber A also has a specific business relationship to subscriber C such that all packets to subscriber C will be encrypted and directly transferred to subscriber C. In addition to his private subscription with provider X and his occupational relationship with subscriber C subscriber A may also be a member of an exclusive business club that operates a club server. His club membership fee provides subscriber A encrypted voice and data traffic services to all other members of the business club. The bank at which subscriber A has an account may also operate a server of their own and may have deployed a policy in the terminal of subscriber A such that he always can access his bank account even at midnights. Both the bank and the business club need to purchase the service of some MSP in order to know the whereabouts of subscriber A that is unless the bank or business club operates an MSP themselves. All these relationships are reflected in the policy repository .

Each relationship a user or subscriber would like to enter into is defined using a number of at least three or four parameters. These are rights obligations shared secret and address to a credential verifier or SMP thus creating a policy block. The policy repository contains several policy blocks defining the relationships that exists between the user and different service providers as well as individuals.

The policy repository can be accessed from outside of the terminal providing the user has opened the policy repository by e.g. a personal identification code a fingerprint reading or other means. Then a service provider can update their policy block and relevant coupling coefficients. Once the service provider has entered its policies into the policy repository these can be updated at will by the service provider providing such an agreement exists. If no such agreement exists the subscriber must open the policy repository every time before changes can be made.

The policy enforcement engine thus enforces policies defined in policy repositories . This implies e.g. that rental cars hotel rooms etc. can be provided with policy enforcement engines executing the policies in a user s or visitor s policy repository . Both the policy enforcement engine and the policy repository is preferably implemented as computer programs on a suitable media e.g. smart cards together with a suitable wireless access product such as Bluetooth . Other implementations are of course possible e.g. integrated circuits a circuit board in the terminal or as a separate circuit board that can be inserted into any appropriate terminal.

A coupling matrix is defined between the policy blocks defining their hierarchical relationship. Relationships between policy blocks xi yj and policy blocks xk yl are determined by a coupling coefficient K ij kl. If the coupling coefficient is 0 than there is no relationship. If the coupling coefficient is 1 than block k l is dependent on block i j implying that block i j has a higher position in the hierarchy than block k l and that block i j must be enacted before block k l.

If the coupling coefficient is 1 than block k l supersedes block i j implying that block l j has a lower position in the hierarchy than block k l.

With reference now to both the tasks of the control part of the terminal will be described in more detail together with a mixed access scenario. Suppose that the access possibilities consists of several different networks such as W COMA 700 EDGE 705 GPRS 710 CDMA 2000 715 W LAN 720 or Fixed or Cable and that the transport network is an IP based core network . To gain access to the functions of the terminal and the policy enforcement engine and policy repository the user must be authenticated. Thus an authentication request is transmitted to the policy enforcement engine that checks the authentication with the relevant policy blocks in the policy repository . When the user is authenticated all the rights and obligations associated with the user in the policy repository are open.

The access discovery function . which is continuously active has scanner all available access networks and found the above mentioned access possibilities and made a record of what is available. The user now e.g. wants to initiate a web service and thus via the applications interface agree on parameters i.e. some Quality of Service value for the session. e.g. the transmission rate. The applications interface thereafter asks the policy enforcement engine to enact the requested web service. The policy enforcement engine then collects data from the policy repository and the access selection function to set up a channel that complies with the agreed parameters and the requested service and thereafter activates the connection.

If the user does not have a subscription to the requested network the policy enforcement engine presents credentials to the appropriate access supplier. The credentials can e.g. be a credit card accepted by the access supplier. The policy enforcement engine then launches the requested web service according to the policies in the policy repository . The policy enforcement engine tracks data exchanged during the executed web service according to policies for accounting and verification purposes. Then the policy enforcement engine disconnects the application and assembles the accounting data.

Another possibility occurs if the terminal does not have the appropriate modem for the best access network. Imagine for example that the GPRS network is most suitable for the requested web service but the user terminal only has a W CDMA interface. The solution is the Bluetooth modem attached to the terminal which makes it possible to use the modems of a neighbouring terminal. The Bluetooth modem in the neighbouring terminal then acts as an access point or bridge to access the GPRS modem of the other terminal.

The user or subscriber physical owns the PEP. The content of the PEP. The content of the PEP can be the ownership of many parties. The subscriber controls access to the PEP and can delegate these rights to another party for example an operator or other service provider. The PD and its sub domains can be accessed from outside providing the user initially opens the PD by a card opening PIN or by other means . The service provider can enter its policy blocks as well as the relevant coupling factors that define the relationship between the policies of the service operator. Ones the service provider has entered its policies into the PEP these can be updated at will by the service provider providing such an agreement exists. If there is no such agreement then the PD must be opened each time by default for example.

The LPEP can be realized physically in many different ways. It can be on board in a mobile terminal it can be part of a network termination equipment in the residence it can be a separate board which can be inserted into any appropriate terminal when the user wishes to make a call or it can be a separate PEP board encapsulated together with a suitable wireless access product such as Bluetooth . The PEP may communicate with the client that the subscriber wishes to use for communication according to the principles defined above.

The invention being thus described it will be obvious that the same may be varied in many ways. Such variations are not to be regarded as a departure from the scope of the invention and all such modifications as would be appreciated by a person skilled in art are intended to be included within the scope of the following claims.

