---

title: Methods and systems for automated system support
abstract: Systems, methods, and machine readable media for repairing data processing systems. In one exemplary embodiment, a computer software utility has the ability to repair a personal computer (PC) using a bootable storage medium (e.g. CD). This utility can connect to the Internet and create an encrypted virtual private network (VPN) tunnel to an automated support server network and to other PCs running a similar version of the utility. This utility, in conjunction with the automated support server network, checks the system files (e.g. DLL and system configuration files, etc.) on a PC being repaired and obtains information to perform the checking from the automated support server network and may obtain replacement system files from the automated support server network or the other PCs.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08607328&OS=08607328&RS=08607328
owner: 
number: 08607328
owner_city: 
owner_country: 
publication_date: 20050304
---
Modern data processing systems such as general purpose computer systems allow the users to configure these systems in a variety of different ways. This great versatility and flexibility often however creates unstable systems which crash or hang or are otherwise rendered unusable. In addition to these problems users administrators and technicians face many problems from computer viruses Ad ware application bugs defective or failing hardware unintended changes by inexperienced users etc. All of these factors can cause file and configuration corruption leading to a system failure which often results from a problem with the software stored on a data processing system. In many cases these failures can lead to a computer system being inoperable or so overloaded that they become unusable.

Current solutions to these problems are limited and in many cases can be fairly expensive and may cause data loss. There are certain utilities which are available and which can attempt to repair certain types of problems. Examples of such utilities include Norton Utilities. Another example of a current solution frequently employed by computer manufacturers uses a bootable CD to reload the computer to the factory state. This is known to frequently cause data loss and in many cases will reload the computer with out of date software. U.S. Pat. No. 6 411 943 describes a technique for providing online backup services and for providing remote anti viral protection. Other solutions may require a trained computer technician to provide a repair service which could be expensive.

Methods systems and machine readable media for repairing data processing systems are described herein.

In one exemplary embodiment a computer software utility has the ability to repair a personal computer using a bootable storage medium such as a CD ROM. This utility can connect to the Internet and can create an encrypted virtual private network VPN tunnel through the use of VPN client software executed from the personal computer to an automated support server network and optionally to other personal computers running a similar version of the utility. This utility in conjunction with the automated support server network checks the system files such as DLL and system configuration files etc. on the PC being repaired and obtains information to perform the checking from the automated support server network and may obtain replacement system files from the automated support server network or from the other personal computers having compatible software such as compatible operating systems.

A further exemplary method described herein includes connecting to at least one remotely located server system through an encrypted virtual private network tunnel and checking a plurality of system files stored on the client system through the encrypted virtual private network tunnel.

The use of one or more virtual private network tunnels allows for in certain embodiments the transmission of information in a secure and authenticated manner between systems such as between a client system being repaired and one or more server computer systems which are part of the automated support server system and these one or more VPN tunnels also allow for secure and authenticated communication between the client system being repaired and other compatible client systems which provide a peer to peer connection between the two client systems. The use of other client systems to provide the replacement files allows for a distribution of the processing load across the network established for example by the VPN tunnel which may be considered to be a form of an Intranet.

Certain embodiments of the present invention may be used with various different operating systems including the Windows operating system from Microsoft or Linux operating systems or the Macintosh operating system from Apple Computer Inc.

Other aspects of the present invention include various data processing systems which perform methods described herein as well as machine readable media which cause the performance of these methods described herein.

The subject invention will be described with reference to numerous details set forth below and the accompanying drawings will illustrate the invention. The following description and drawings are illustrative of the invention and are not to be construed as limiting the invention. Numerous specific details are described to provide a thorough understanding of the present invention. However in certain instances well known or conventional details are not described in order to not unnecessarily obscure the present invention in detail.

As shown in the system which is a form of a data processing system includes a bus which is coupled to one or more microprocessors and a main memory and a mass storage . The microprocessor may be one or more microprocessors from Intel or IBM. The bus interconnects these various components together as well as the other components shown in . The main memory may be dynamic random access memory which is volatile memory. The mass storage is typically a magnetic hard drive or a magnetic optical drive or an optical drive or a DVD RAM or other types of memory systems which maintain data such as large amounts of data even after power is removed from the system. Typically the mass storage will also be a random access memory although this is not required. While shows that the mass storage is a local device directly coupled with the rest of the components in the data processing system it will be appreciated that the present invention may utilize a non volatile memory which is remote from the system such as a network storage device which is coupled to the data processing system through a network interface such as a modem or Ethernet interface. The mass storage device such as a hard drive will typically include most if not all of the software which is executed by the data processing system including for example the operating system software with all the auxiliary files and configuration settings which are included with the operating system. The bus may include one or more buses connected to each other through various bridges controllers and or adapters as is well known in the art. Various input output devices are also shown in such as a display device e.g. a CRT or LCD display device which is coupled to the bus through a display controller . One or more input output I O controllers couples various input output devices to the bus . In the example shown in the input output devices include a keyboard and mouse one or more USB ports as well as a CD drive which may alternatively be a DVD drive or other types of optical drives or other types of storage devices. It is this drive which is used to receive a bootable CD according to certain aspects of the present invention. Another peripheral which is coupled to the bus is a network interface device which may be an Ethernet adapter or a dial up modem connection or cable modem or wireless modem e.g. WiFi . These various types of network interfaces are used to connect to a network such as the Internet or to a local area network LAN as is well known in the art. The data processing system shown in may represent a typical client computer system which is being repaired or a typical server computer system which operates at an automated support server system. shows an example of one embodiment of an automated support server system according to certain embodiments of the invention.

While the automated support server system may be implemented with a single server computer alternative embodiments use multiple server systems each of which can perform separate independent functions and operations for the entire system. gives an example of an architecture for an automated support server system which includes multiple independent server computer systems. The automated support server system shown in includes an authentication server which may be a web based server and which may act as a firewall to the rest of the system as well as an authentication device which authenticates communications between the automated support server system and client systems which are coupled to the automated support server system through the Internet. The authentication server typically would also execute VPN server software in order to provide the VPN tunnel functionality between the automated support server system and client systems which are coupled to it through the Internet. The VPN client software on the client systems and the VPN software on the server system may be conventional VPN software such as OpenVPN. The VPN tunnel allows secure and authenticated communication across a public network such as the Internet. In one implementation all communication through the network goes through one Internet software port using for example the TCP IP protocols and the http protocol between each client and the authentication server . This software port may be port for example. This allows the connection of multiple servers such as the servers and which are coupled to the server through a local area network LAN .

The three servers and perform different functions as indicated in . This allows for increased bandwidth of the system relative to an automated support server system which utilizes a single server computer. The server performs an automated file verification and replacement function while the server performs testing and checking of configuration files and setting files on a client system. The server checks for software updates or upgrades and provides for the ability to obtain these updates or upgrades. It will be appreciated that the LAN may be implemented in a variety of topologies including the topology shown in . It will also be appreciated that the automated support server system may use redundant servers such as redundant versions of the server and or redundant versions of servers and .

It will be appreciated that a VPN tunnel may be considered from a broad perspective to be any type of networking tunnel which is used to connect two networks together to allow an encrypted communication through the network which may be a public network such as the Internet. The VPN tunnel may be considered to be any type of software protocol implemented on both a client and a server to allow an encrypted connection between two networks and through a public network wherein the information is packetized into one tunnel or stream or data pathway such as a software port. Typically the tunneling involves transmitting an encrypted content and or encrypted receiving address using a communication protocol within another communication protocol through the same software port and the encrypted receiving address is usually an IP Internet Protocol address and the software port may be a single UDP or TCP software port. A port number which specifies the software port will typically be associated with the data stream transmitted within the tunnel.

One aspect of the invention utilizes in at least certain embodiments of the invention a peer to peer connection between client systems in addition to a connection between each client system and one or more servers at an automated support server system. This connection may be through a public network or through a private network or through a virtual private network tunnel. In one particular embodiment the peer to peer connection between the clients such as clients and shown in is through a virtual private network tunnel which is also used to provide a connection between each client system and one or more server systems at the automated support server system. In the example shown in the network includes two client systems and which are coupled to each other and to the server systems through a virtual private network tunnel which provides the secure connections and as shown in . In certain embodiments the connection between the client system being repaired and one or more servers at the automated support server system may be through a VPN tunnel while the connection between the client system being repaired and the other clients may be a conventional connection which does not utilize a VPN tunnel. The peer to peer connections between client systems such as the connection allows for offloading of services from the servers onto other client systems in order to reduce the load in the repair process on the server systems. This is described in further detail below.

At least certain embodiments of the invention use an alternate operating system OS located on a storage medium such as a CD ROM which is separate from the currently installed and active operating system to start or boot the computer. The user can insert this bootable storage medium into the computer system being repaired which may be referred to as the client system. The bootable storage medium typically includes all the necessary software which is used when booting the computer as well as certain utilities which are used to repair the computer. These utilities may include a virus scanner an Ad ware scanner a scan disk utility a defragmentation utility a virtual private network client as well as several custom programs described below. Further the bootable storage medium includes software which allows the computer system to connect to the Internet and to utilize a high speed connection. In operation the client system is booted and connected to the Internet using the bootable storage medium. If the computer system is unable to automatically detect network settings then the user is prompted with a connection wizard which attempts to help the user get the computer system connected to the Internet. Once the utility has connected the computer system to the Internet the user is prompted to sign in log in or continue using a free mode in operation .

In the free mode the user is notified before continuing the free mode that the free mode may not fix the computer or may cause more problems. The user is asked to accept the consequences. If the user accepts then the free mode performs hardware diagnostic tests on the computer system to determine if there is a hardware problem such as faulty memory a faulty disk controller or a faulty hard drive etc. If there is a hardware problem a message is displayed to the user instructing the user to have the hardware fixed before proceeding further with testing and repairs. This message may also suggest sources e.g. repair shops which can perform the needed hardware repair. The free version may use certain utilities such as the virus scanner the Ad ware scanner the scan disk utility and the defragmentation utility to test for software problems. The free mode may update needed DAT files and start a systematic scan such as the scans which are performed by Norton Utilities. The commercial version is available as a service if the user agrees to pay the fees required by the service. If the user accepts the use of the commercial version then operation is performed in which the hardware diagnostic tests are run on the computer system to determine if there is a hardware problem such as faulty memory a faulty disk controller or a faulty hard drive etc. If there is a hardware problem a message is displayed to the user instructing the user to have the hardware fixed before proceeding with further testing. Alternatively the user could receive this message and still be able to continue testing the rest of the system in certain instances. The message to the user may further suggest sources e.g. repair shops which can perform the needed hardware repair. Operation establishes a secure encrypted VPN tunnel with the automated support server network. In response the automated support server network provides updated definitions for viruses and Ad ware in operation . In certain embodiments operation could be performed immediately after operation rather than after operation as shown in . Then the client system launches an automated file verification and replacement utility in operation which verifies essential system files such as DLLs and other essential operating system and application files.

After these replaced ESF files are verified then they may be installed in operation . While the AFVR utility runs the system may start another process to scan for virus files or for Ad ware. Any Ad ware or viruses found are cleaned and disabled using techniques which are known in the art. This is shown as operation in . This operation may be performed in a different sequence e.g. immediately after operation . Next the system starts scanning for setting and configuration files using a setting and configuration scanner SCS utility. The SCS utility connects the client system being repaired to an SCS server such as the server of through the virtual private network tunnel previously created. This is shown as operation . Then this exemplary method performs operation in which current configuration files such as Windows registry files INI files etc. are compared to known good configurations. Examples of system files are shown in Tables I IV below. shows an exemplary method for performing operation . The SCS server such as server of contains common configuration structures derived from all known configuration files including but not limited to the Windows registry files INI files preferences or configuration files used by the system or applications located on the computer as well as known working configurations of the current client computer system being repaired if available. Using this information the SCS utility compares current configuration information against the server data and then repairs or rebuilds the configuration files in operation . An exemplary method for performing this comparison is shown in . In operation of the configuration and setting files are searched for in the system being repaired. For text based files these files are broken down on an entry by entry basis and processed for each entry as shown in . For non text based files which have a readable format these files will normally be processed as if they were text based files so they are broken down entry by entry . Examples of non text based files which have a readable format that can be deciphered include configuration files e.g. from a peripheral vendor which are not text based but which have published references which describe how to read and decipher the format of the non text based files. The information from the published references is used to decipher and understand the non text based files allowing them to be broken down as if they were text based files. Normally the configuration files are not scripts. For non text based files which have an unreadable format these are treated as essential system files and are processed according to in one exemplary embodiment the method shown in . After connecting to the SCS server which includes a configuration and settings database in operation a common table is checked for each entry in operation . Then in operation for each entry which is not in the common table the entry is added to the table and optionally a person at a technical support center is notified of this addition. This may allow the personnel at the technical support center to examine the entry and determine whether or not it is a faulty configuration or setting. For each entry which is already in the table a count in the database entry is increased by 1 and action information is stored for later use. In operation each entry is added to a user table for the particular system being repaired so that the SCS server can keep track of all changes to configurations and settings on the system being repaired for that particular system. Operation processes the action information. The action information includes operations in a script which specifies how to modify e.g. repair or replace configuration and or settings files which have been identified as needing to be repaired or replaced. The script may cause one or more of such files to be repaired or replaced by specifying the operations which repair or replace such configuration and or settings files.

Following the repair or rebuilding of configuration or setting files an optional defragmentation operation may be performed in operation . It will be appreciated that this operation may be performed in parallel with the other operations or at a different time in the sequence of operations. For example it will be appreciated that the optional defragmentation is preferably the last operation after operation rather than before operation . In operation an update and upgrade checker may be run to install updates and upgrades. Typically the user is given the choice of whether or not to perform the updates and or upgrades and whether or not to obtain the updates and or upgrades. There may be a charge for either or they may be both free depending on the particular circumstance. Operation notes that if problems arise during any of the preceding operations the system may be connected to a remote technician lab operated by experienced computer technicians who can access and control the system through a remote connection such as through a utility known as PC Anywhere. 

After the system has been repaired the system may run software which monitors and records changes to essential system files and to configuration files. This will assist in future repair operations and may also be used to provide information to the automated support server system so that its databases can be updated to reflect the changes. An exemplary method of operation is shown in . In operation the operating system software is loaded at startup and then hooks are placed in the file system in operation to allow for the notification of any change to an ESF file or a configuration or setting file. In operation upon receiving notification or otherwise determining e.g. by scanning the files that an ESF file or a configuration or setting file has changed the change is checked against the ESF database on an ESF server and against a configuration setting database on the SCS server. As shown in operation if the change is a known change a certain action may be specified by the database and this action is then performed by the client system. For example this action may dictate that the setting file be modified in order to prevent the system from crashing. If the change is not known then a log documenting the change is made in either the ESF server or the SCS server. Optionally technical support personnel may be notified of this unknown change to allow for a study of the change and a determination of the proper action to be taken. The method of acts as an ESF and SCS monitor reporting any changes to ESF files and all known configuration files and settings. This information may be reported back to one or more of the servers at the automated support server system. The software components which perform the method of may optionally include firewall software which monitors network activity and prevents access to software ports and other functionality on the data processing system which is executing these software components. The firewall software may be adjustable by the user to allow for communication over certain software ports and may also report firewall changes to the ESF and SCS monitor which may in turn report the firewall changes back to the one or more servers at the automated support server system. New or updated ESF files are transferred to a server system for analysis and cataloging purposes. Using this utility and service virtually every software problem is repairable without the need for data loss or an expensive on site technician. In cases of hardware problems local repair shops and technicians may be located for users and the diagnostic information created by the utility will enable the shops and technicians to expedite the repair process.

The bootable storage medium may in part include open source software which allows for an open source community to document modify and improve one or more of the utilities on the system. This bootable storage medium may also include an operating system which is different than the operating system on the client system being repaired. For example the bootable storage medium such as a CD may contain a copy of the Linux operating system and necessary software for establishing an Internet connection and for providing a VPN tunnel and other utilities even though the system being repaired is a Windows system or a system running another type of operating system such as a Macintosh.

These are a variety of different system files e.g. ESF and or configuration files which currently exist. The methods described herein analyze and or verify these files. The following section provides examples in four tables Table I II III and IV set out below of system files or locations of system files for various types of computer systems.

In the foregoing specification the invention has been described with reference to specific exemplary embodiments thereof. It will be evident that various modifications may be made thereto without departing from the broader spirit and scope of the invention as set forth in the following claims. The specification and drawings are accordingly to be regarded in an illustrative sense rather than a restrictive sense.

