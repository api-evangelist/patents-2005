---

title: System and method for distributing VoIP data packets in group communications amoung wireless telecommunication devices
abstract: In group wireless telecommunication, such as push-to-talk (PTT) calls, a voice communication is broadcast through Internet protocol data packets to other member devices of the PTT group. At least one communication server receives a single communication stream from a communicating wireless device, such as a PTT call, and creates a group communication to all wireless telecommunication devices of the designated group with the broadcast of Internet protocol data packets containing the voice data of the communication stream to one or more wireless telecommunication devices of the receiving group that can receive and handle the packets. Other wireless network infrastructure can be used to assist the communication server in generation and broadcast of the Internet protocol data packets to the receiving wireless telecommunication devices.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07724743&OS=07724743&RS=07724743
owner: Qualcomm Incorporated
number: 07724743
owner_city: San Diego
owner_country: US
publication_date: 20050331
---
The present invention generally relates to data networks and voice over internet protocol VoIP data packets. More specifically the present invention relates to a system and method for efficiently distributing VoIP media to very large and or geographically dense ad hoc dispatch calls such as Push to Talk group communications in a wireless telecommunication network.

In a wireless network the users of wireless communication devices communicate over an air interface to a central computer. This may be done directly as in the case of a wireless LAN in an office environment or it may be done through cellular infrastructure equipment as in the case of a wireless telephone application. One type of personal communication system is a push to talk PTT system. A PTT communication connection is typically initiated by a single button push on the wireless device that activates a half duplex link between the speaker and each member device of the group and once the button is released the device can receive incoming PTT transmissions once the button is released. In some arrangements the PTT speaker will have the floor where no other group member can speak while the speaker is speaking. Once the speaker releases the PTT button any other individual member of the group can engage their PTT button and they will have the floor. A specific PTT group of recipient devices for the communicating wireless device is commonly set up by the carrier and the wireless devices themselves do not allow the modification of the group i.e. to include or drop individuals from the group or to purposely direct a communication to be received by any fewer members than the entire group.

The typical PTT call involves two users who are rarely located within the same telecommunication sector such that communication and replication of the communication is propagated easily over the existing telecommunication infrastructure. However a small but very important fraction of push to talk calls involve a larger number of call participants some of whom may also be located within the same sector public safety disaster scenarios are one example. In such scenario the maintenance of the PTT communications within the group all located on the same telecommunication resource is difficult and inefficient. These systems will use trunks of the telephone network and standard channel allocation that devote individual circuits for each call participant thus limiting system scalability.

In existing wired networks it is known to use a broadcast of data over a broadcast channel such that data is sent to all potential receivers and the receiver can determine whether or not the broadcast media applies to it. Applications such as LAN TV desktop conferencing corporate broadcasts and collaborative computing require data transmission in a point to multipoint fashion which is transmitting data to multiple recipients simultaneously. Such applications would require a tremendous amount of network bandwidth to be effectively implemented using the point to point technique. For example using a traditional point to point transmission scheme would require the same information to be transmitted n times where n represents the number of recipients. The bandwidth required to accomplish such a task would grow in proportion to the number of computers receiving the transmission. Such an approach is infeasible for applications where large data transmissions such as audio and video need to be sent to a large number of recipients. To effectively implement the transfer of large quantities of data in a point to multipoint network a broadcast design is used wherein data is broken into packets each packet addressed to a broadcast address rather than addressing multiple copies of each packet to each recipient desiring the information. However the network must generally send the information packets throughout the entire network so that anyone desiring reception of the information can listen to the broadcast address and receive the information. Thus the raw propagation of broadcasting packets everywhere is a significant use of network resources if only a small group of recipients desire the information.

To overcome this problem a technique known as Internet Protocol IP multicast has been developed for use in wired IP networks. With IP multicasting applications can send one copy of each data packet and address it to a group of recipients that wish to receive the information generated by an application. This technique addresses data packets to a group of recipients rather than to individual recipients and it relies on the network to forward the data packets only to paths that have a sub network that needs the information i.e. a sub network having at least one recipient desiring the particular IP multicast. One example of a subnetwork is a local broadcast network such as an Ethernet LAN.

It is known to encapsulate voice data within IP data packets this method commonly referred to as VoIP . In common Ethernet wireless networks such as an IEEE Standard 802.11 b network the network allows for wholesale broadcasting of IP packets. However within the constraints of wireless networks it would be desirable to limit multicast transmissions to a specific geographic area having at least one receiving user desiring reception because of the disadvantage of flooding the wireless network with packets. Presently in order to transmit an IP multicast transmission in a wireless network the transmission must be sent to all end devices regardless of whether or not the multicast transmission is desired which burdens all resources of the PTT group whether or not the receiving device is able to receive VoIP packets. Moreover such efficient broadcasting of VoIP packets would allow a very geographically dense group of PTT devices to communicate despite the limited telecommunication resources. It is thus to such a system and method of efficiently broadcasting voice data packets to the wireless telecommunication devices of a PTT communication group that the present invention is primarily directed.

In group direct wireless telecommunications such as push to talk PTT calls a PTT voice communication is efficiently broadcast through Internet protocol data packets to other member devices of the PTT group. At least one communication server receives a single communication stream from a communicating wireless device such as a PTT voice call and creates a group communication to all wireless telecommunication devices of the designated group with the broadcast of Internet protocol data packets VoIP containing the voice data of the communication stream to the wireless telecommunication devices of the receiving group that can receive and handle the packets and otherwise sends the group communication via the standard telecommunication infrastructure. The communication server preferably utilizes the wireless network infrastructure to assist in generation and broadcast of the VoIP packets to the various wireless telecommunication devices.

The system for broadcasting VoIP packets containing voice data to a group of wireless telecommunication devices includes a plurality of wireless telecommunication devices wherein each wireless telecommunication device is able to direct a single communication stream to a designated group of the plurality of wireless telecommunication devices such as a PTT group and at least one of the plurality of wireless telecommunication devices able to receive broadcast VoIP packets containing voice data. Also the system includes a communication server that receives the single communication stream from a communicating wireless device and creates a group communication to all wireless telecommunication devices of the designated group and causes the broadcast of VoIP packets to at least one wireless telecommunication device of the receiving group of the plurality of wireless telecommunication devices.

The method for efficiently distributing VoIP packets containing voice data among a group of wireless telecommunication devices on a wireless network comprising the steps of directing a single communication stream from a wireless telecommunication device to a designated group of a plurality of wireless telecommunication devices on a wireless network the communication stream including voice data with at least one of the plurality of wireless telecommunication devices able to receive VoIP packets containing voice data receiving the single communication stream from a communicating wireless device at a communication server creating at the communication server a group communication to all wireless telecommunication devices of the designated group and broadcasting VoIP packets to the wireless telecommunication device s of the receiving group of the plurality of wireless telecommunication devices.

The system and method can therefore allow efficient broadcast of VoIP packets without flooding the wireless network with packets as it limits multicast transmissions to a specific geographic area having at least one capable receiving wireless telecommunication device. Thus the system and method can use VoIP packets to conduct group communications within a very geographically dense group of PTT devices without overburdening the wireless telecommunication resources e.g. not having to use trunked telecommunication channels for each wireless device. The system and method can accordingly be implemented with non VoIP capable device in the same PTT group.

Objects advantages and features of the present invention will become apparent after review of the hereinafter set forth Brief Description of the Drawings Detailed Description of the Invention and the claims.

With reference to the figures in which like numerals represent like elements throughout illustrates the system for broadcasting Internet protocol data packets containing voice data to a group of wireless telecommunication devices target set on a wireless network . Here the one or more wireless telecommunication devices are in a PTT group such as the wireless telephone smart pager and personal digital assistant PDA with other wireless telecommunication devices across a wireless network . In the system each wireless telecommunication device is capable of selectively directly communicating across the wireless communication network with a target set of one or more other wireless telecommunication devices with the plurality. For example the target set for cellular telephone can all devices in the target set or a subset thereof such as pager and PDA .

In particular the system leverages the use of IP multicasting within a wireless operator s private wireless network and supporting infrastructure to efficiently deliver VoIP based media for very large push to talk or other similar services calls defined in ad hoc fashion. These PTT calls can involve a very large number of call participants several hundred who can be scattered across an operator s wireless network or who may all be located in a small number of sectors on the same network resources.

In one embodiment a group communication server selectively receives requests to bridge direct communications between the communicating wireless telecommunication devices and the one or more other wireless telecommunication devices in the target set designated for the communicating wireless telecommunication device. The communication server then selectively bridges the requested direct communication such as a PTT voice communication. The identity of the target set is selectively available to the group communication server such as being resident on the group communication server or in a connected database or possibly on another computer device such as packet flow control server as is common in network infrastructure .

The system therefore includes a plurality of wireless telecommunication devices target set wherein each wireless telecommunication device is able to direct a single communication stream to a designated group target set of the plurality of wireless telecommunication devices and at least one of the plurality of wireless telecommunication devices is able to receive broadcast Internet protocol data VoIP packets. The communication server that receives the single communication stream from a communicating wireless device such as wireless telephone and creates a group communication to all wireless telecommunication devices of the designated group such as PTT call. The communication server causes the broadcast of Internet protocol data packets containing voice data to at least one wireless telecommunication device of the target set either directly or through the use of other computer devices on the wireless network or on the server side LAN . The group communication server can have an attached or accessible database to store the group identification data for the wireless devices that another server controls group communications for. It should be appreciated that the number of computer components resident on server side LAN or across the wireless network or Internet generally are not limited.

In such configuration the communication server can broadcast only standard voice data packets such as in CDMA with other resources receiving the CDMA packets and creating VoIP packets or other methods of packetizing data may be used as known in the art. Further the PTT communication broadcast can be voice data application data multimedia or any form of computer data. In another embodiment the wireless telecommunication device such as wireless telephone can itself send Internet protocol data packets to the communication server .

There are typically one or more intermediate communication devices that bridge communication streams between the communication server and the group of wireless telecommunication devices as is shown in and the communication server can further determine which member wireless telecommunication devices are able to receive broadcast Internet data protocol packets as is more fully described below. The communication server will then direct the one or more intermediate communication devices to send Internet protocol data packets to those wireless telecommunication devices of the group that can receive Internet protocol data packets.

The group communication server s are connected to a wireless service providers packet data service node PDSN such as PSDN shown here resident on a carrier network . Each PSDN can interface with a base station controller of a base station through a packet control function PCF . The PCF is typically located in the base station . The carrier network controls messages generally in the form of data packets sent to a messaging service controller MSC . The carrier network communicates with the MSC by a network the Internet and or POTS plain ordinary telephone system . Typically the network or Internet connection between the carrier network and the MSC transfers data and the POTS transfers voice information. The MSC can be connected to one or more base stations . In a similar manner to the carrier network the MSC is typically connected to the branch to source BTS by both the network and or Internet for data transfer and POTS for voice information. The BTS ultimately broadcasts and receives messages wirelessly to and from the wireless devices such as cellular telephones by short messaging service SMS or other over the air methods known in the art.

Cellular telephones and telecommunication devices such as wireless telephone are being manufactured with increased computing capabilities and are becoming tantamount to personal computers and hand held PDAs. These smart cellular telephones allow software developers to create software applications that are downloadable and executable on the processor of the wireless device. The wireless device such as cellular telephone can download many types of applications such as web pages applets MIDlets games and stock monitors or simply data such as news and sports related data. In wireless devices that have designated a set of group members the wireless device can directly connect with the other member of the set and engage in voice and data communication. However all such direct communications will occur through or at the control of the group communication server . All data packets of the devices do not necessarily have to travel through the group communication server itself but the server must be able to ultimately control the communication because it will typically be the only server side LAN component that is aware of and or can retrieve the identity of the members of the set or direct the identity of the members of the set to another computer device.

As shown here the wireless device can be a cellular telephone with a graphics display but can also be any wireless device with a computer platform as known in the art such as a personal digital assistant PDA a pager with a graphics display or even a separate computer platform that has a wireless communication portal and may otherwise have a wired connection to a network or the Internet. Further the memory can be comprised of read only or random access memory RAM and ROM EPROM EEPROM flash cards or any memory common to computer platforms. The computer platform can also include a local database for storage of software applications not actively used in memory . The local database is typically comprised of one or more flash memory cells but can be any secondary or tertiary storage device as known in the art such as magnetic media EPROM EEPROM optical media tape or soft or hard disk. The wireless telephone typically will open a full duplex channel for telecommunication and in some instances will communicate via a half duplex channel only being able to talk or receive a voice stream.

In this embodiment of the wireless device the computer platform also includes a communication interface that includes a direct communication interface that can open the direct communication channel from the wireless device. The direct communication interface can also be part of the standard communication interface for the wireless device which ordinarily carries the voice and data transmitted to and from the wireless device. The direct communication interface typically is comprised of hardware as is known in the art. The communication interface further includes an IP packet handling interface that can at least receive or receive and send VoIP over the wireless network . Alternately the IP packet interface can be attuned to a broadcast channel specifically designed for VoIP packet broadcast and such channel is possibly outside the carrier channels of the wireless network . In such configuration with a separate broadcast channel the received PTT group communications would not use any of the standard carrier channels and thus lessen the load on the geographical sector resources needed to handle group communications.

In current embodiments a PTT system provides point to multipoint voice service over commercial cellular infrastructure such as CDMA TDMA GSM. Communication between endpoints takes place within virtual groups using a dispatch model wherein the voice of one talker is broadcasted to many listeners by the Dispatcher . In standard configuration a PTT System relies on a Group Call Server GCS to replicate the media and setup point to point communication links with each endpoint. However in a geographically dense area setting up dedicated channels for each of the wireless telecommunication devices participating in the same call is not only inefficient but can to cripple the capacity of a cellular sector.

The present system however can use Protocol Independent Multicast PIM which is a multicast routing protocol that runs over an existing unicast infrastructure. PIM provides for both dense and sparse group membership. It is different from other protocols since PIM uses an explicit join model for sparse groups. Joining occurs on a shared tree and can switch to a per source tree. Where bandwidth is plentiful and group membership is dense overhead can be reduced by flooding data out all links and later pruning exception cases where there are no group members.

In propagating multicast VoIP packets the proposed design uses a statically configured IP multicast network having distribution trees are configured in a fixed manner by making the PDSNs join a set of pre configured multicast groups statically as shown in . The PDSN s can either send periodic join messages for each of the PTT groups they are interested in or alternately static entries can be made in all the intermediate multicast routers. Thus each PDSN statically subscribes to a potentially overlapping subset of available Multicast groups. The size of the Multicast address space reserved per PDSN should be large enough to handle the expected number of large groups within the PDSN s geographical region.

Let G be a function mapping a PDSN to the corresponding multicast groups it is interested in. That is G PDSN is the set of multicast groups PDSN is a member of. G is a many to one mapping and G is known to the appropriate communication server . Let M be the function mapping between a wireless telecommunication device s IP address and the identifier of the PDSN serving that wireless telecommunication device. For example M IP returns the identifier of the PDSN serving a wireless telecommunication device with IP. This mapping is also known to the communication server and can be deduced based on the knowledge of the set of IP addresses each of the PDSNs can assign during a point to point PPP session. The communication servers are consequently configured with a mapping between PTT group members and the serving PDSN identifier.

In a call scenario using the above multicast mechanism the Dispatcher receives a PPT request from a originating wireless device such as group device and looks up the targets say tthrough t. The dispatcher uses the mapping M to identify the set of PDSNs say Pthrough Pserving each of the target wireless telecommunication devices. It should be noted that n m. The appropriate communication server assigns calls to the Multicast group s dynamically based on where participants are and PDSN subscription during call setup. The communication server then decides the following Is this a large PTT group call based on the parameter n Is this a dense PTT group call based on the appropriate data for the targets and potentially the maximum cardinality of the sets M P or max M P .

The communication server decides to use certain multicast group addresses based on the following criteria If G P G P . . . G P use one of the group address belonging to this intersection that is currently not being used. If G P G P . . . G P use one unused multicast group address each from the sets G P G P . . . G P . The Dispatcher sends the selected multicast group address g from G M t for the target t to the communication server . The communication server then receives the set of multicast group addresses chosen for the PTT communication.

In one embodiment the 233.0.0.0 8 block has been set aside for multicast use for entities with their own autonomous system number ASN . The 239.0.0.0 8 block is administratively scoped for internal use only like the 192.168.0.0 16 block in the case of unicast . These two multicast address blocks can be used within the carrier s private network allowing the communication server to use multicast address space up to around 32 million.

If the floor is open to the requesting wireless telecommunication device at decision then the communication channel is granted to the requesting wireless telecommunication device as shown at step and the incoming voice stream is received as shown at step . Then a decision is made as to whether there are any members of the PTT group that can receive VoIP as shown at decision . If none of the PTT group members can receive VoIP packets then the process forwards to step wherein the voice data stream is sent to the extant infrastructure such as cellular infrastructure to the broadcast to the PTT group members.

If there are PTT group members that can receive VoIP at decision the voice data stream is packetized into IP data packets as shown at step and then the VoIP packets are transmitted such as to the PDSN for ultimate broadcast to the members of the PTT group as shown at step . Then the remaining voice data stream is sent to the extant infrastructure for transmission to the PTT group members as shown at step . If the system is embodied with the communication server controlling other computer devices to assist in packetizing or data relay then such other steps will occur in the process as would be apparent to one of skill in the art.

It can thus be seen that the system provides a method for efficiently distributing VoIP data packets among a group target set of wireless telecommunication devices on a wireless network including the steps of directing a single communication stream from a wireless telecommunication device such as wireless telephone to a designated group of a plurality of wireless telecommunication devices target set with the communication stream including at least voice data. At least one of the plurality of wireless telecommunication devices is able to receive VoIP data packets and thus the method further includes receiving the single communication stream from a communicating wireless device wireless telephone at a communication server creating at a group communication to all wireless telecommunication devices of the designated group target set and broadcasting the VoIP data packets to at least the one wireless telecommunication device of the receiving group target set .

The method can further include the step of receiving the VoIP data packets at one or more of the plurality of wireless telecommunication devices in the group. The step of directing a communication stream can include directing application data multimedia or other computer media to a designated group or target set of a plurality of wireless telecommunication devices. The method can further include the step of routing the voice data from the communication server to another computer device on the wireless network or on the server side LAN that converts the voice data in VoIP data packets for broadcast to at least one wireless telecommunication device of the group target set . The method can also include the steps of determining at the communication server the member wireless telecommunication devices such as devices able to receive broadcast VoIP data packets and directing one or more intermediate communication devices such as PDSN to send VoIP data packets to those wireless telecommunication devices of the group that can receive VoIP data packets with the one or more intermediate communication devices bridging communication streams between the communication server and the group target set of wireless telecommunication devices.

The system also includes an inventive wireless telecommunication device such as wireless telephone shown in able to direct a single communication stream to a designated group of a plurality of wireless telecommunication devices target set accessible on a wireless network wherein the wireless telecommunication device is further able to receive broadcast VoIP data packets such as through VoIP interface in addition communicating through a standard communication stream on the wireless network to other wireless telecommunication devices on the wireless network such as through communication interface .

Another embodiment includes a program resident in a computer readable medium where the program directs a wireless device having a computer platform to perform the inventive steps of the method. The computer readable medium can be the memory of the computer platform of the wireless telephone or other wireless device or can be in a local database such as local database of the wireless telephone . Further the computer readable medium can be in a secondary storage media that is loadable onto a wireless device computer platform such as a magnetic disk or tape optical disk hard disk flash memory or other storage media as is known in the art.

In the context of the method may be implemented for example by operating portion s of the wireless network to execute a sequence of machine readable instructions such as wireless platform and the communication server . The instructions can reside in various types of signal bearing or data storage primary secondary or tertiary media. The media may comprise for example RAM not shown accessible by or residing within the components of the wireless network . Whether contained in RAM a diskette or other secondary storage media the instructions may be stored on a variety of machine readable data storage media such as DASD storage e.g. a conventional hard drive or a RAID array magnetic tape electronic read only memory e.g. ROM EPROM or EEPROM flash memory cards an optical storage device e.g. CD ROM WORM DVD digital optical tape paper punch cards or other suitable data storage media including digital and analog transmission media.

While the foregoing disclosure shows illustrative embodiments of the invention it should be noted that various changes and modifications could be made herein without departing from the scope of the invention as defined by the appended claims. Furthermore although elements of the invention may be described or claimed in the singular the plural is contemplated unless limitation to the singular is explicitly stated.

