---

title: Method and apparatus for implementing alerts on a browser running on a portable handheld device
abstract: A method and apparatus for implementing alerts on a browser running on a portable handheld device is disclosed. The method generates an asynchronous notification action from the server and in response transmits an alert containing a message indicating availability of HTML pages that describe the nature of the alert. The alert is received at a node on a network and translated into the original message. An alert receipt acknowledgment is transmitted to the server. Access to the alert HTML page is provided through a URL containing the appropriate query strings necessary to present the appropriate HTML page. The invention also discloses a wireless local area network (WLAN) adapter associated with a wireless network that receives paging signals from a server on the network and returns an acknowledgment signal back to the server. The invention also discloses a client/server based method of delivering messages initiated by a client. After a connection is established between a client and server, the client requests a message from the server. In response, the server retrieves and returns the message back to the client.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07577745&OS=07577745&RS=07577745
owner: Symbol Technologies Inc.
number: 07577745
owner_city: Holtsville
owner_country: US
publication_date: 20050606
---
This application is a divisional of U.S. patent application Ser. No. 09 814 879 filed Mar. 22 2001 now U.S. Pat. No. 6 920 637 dated Jul. 19 2005 which is a continuation in part of U.S. patent application Ser. No. 09 570 961 filed May 15 2000 now U.S. Pat. No. 6 714 969 dated Mar. 30 2004 which is a divisional of U.S. patent application Ser. No. 09 520 929 filed Mar. 8 2000 now U.S. Pat. No. 6 507 864 dated Jan. 14 2003 which is a continuation of U.S. patent application Ser. No. 08 916 605 filed Aug. 22 1997 now abandoned hereby incorporated by reference which is a continuation of U.S. patent application Ser. No. 08 691 263 filed Aug. 2 1996 now abandoned which was with U.S. Provisional Application Ser. No. 60 006 872 filed Nov. 17 1995 and claim the benefit of priority from U.S. Provisional Application Ser. No. 60 240 778 filed Oct. 16 2000 and from U.S. Provisional Application Ser. No. 60 240 402 filed Oct. 13 2000.

This invention relates to wireless local area networks and more particularly to a method and apparatus for providing a paging integration system into a browser on a wireless local area network adapter.

Wireless local area networks WLANs use infrared IR or radio frequency RF communications channels to communicate between portable or mobile computer terminals and stationary access points or base stations. These access points are connected by a wired or wireless communication channels to a network infrastructure which connects groups of access points together to from a local area network LAN which can include one or more host computers. In turn the LAN can be connected to another larger network such as the Internet and the World Wide Web Web . Several protocols including the IEEE 802.11 standard Wireless LAN Medium Access Control MAC and Physical Layer PHY Specifications have been designed to standardized WLAN communications. Such standardization is useful for optimizing user requirements including spatial layout response time loading and throughput requirements of the network.

 Roaming terminals are mobile units that can associate with any access points AP associated with a WLAN and seamlessly move from AP to AP. Each roaming terminal analyzes received signals from access points in its vicinity and associates with a single access point. Communication with an access point connects a terminal with the LAN and therefore with external networks such as the Internet. The region around and access point can be referred to as a cell . Roaming terminals can move from cell to cell and remain connected to the LAN and any other network to which the roaming terminal has connected.

Typically these roaming units are passive and client centered and utilize HTML based server applications. A browser client device such as a roaming unit initiates actions generating requests and the server associated with the unit passively responds to the request. Support of many business applications often requires support of notification actions to contact and instruct users of the roaming terminals who can often be located in isolated areas and out of contact with other people. If someone needs to contact or give instructions to the user the isolation may prevent the user from being contacted.

In general the invention features a method for implementing alerts on a browser running on a portable handheld device. In one aspect the invention includes a method of generating an asynchronous notification action from the server transmitting in response to the asynchronous notification action an asynchronous application alert containing a message to indicate availability of HTML pages describing the nature of the alert receiving the asynchronous application alert at a node on a network translating the asynchronous application alert into the original message transmitting an alert receipt acknowledgment to the server and providing access to the alert HTML page through a URL containing the appropriate query strings necessary to present the appropriate HTML page options. In one embodiment the node on the network is a wireless adapter and the alert is in the form of a paging signal or an alarm signal capable of preempting other Web client application states of the node. The method also includes utilizing an alerting mechanism supporting user datagram protocol frames generating protocol data units consisting of command elements constructed as ASCII comma delimited strings and transmitting data to the network node using user datagram protocol services.

In a second aspect the invention features an apparatus for implementing alerts on a browser running on a portable handheld device. This apparatus is adapted to operate according to the method described above.

In a third aspect the invention features a method of messaging in a virtual network of spatially separate individual wireless local area network WLANs . The method includes establishing a web server at an Internet node connecting an access point to each of the WLANs on the Internet node executing a browser program on a first mobile unit in a first WLAN. The method also includes while in a second mobile unit in a second WLAN encoding a textual message into a packet with a destination address corresponding to the first mobile unit and transferring the packetized textual message to the web server. The method also includes while at the web server creating a web page with the textual message and determining if the first mobile unit is active on the network at the time the packetized textual message is received at the web server and the WLAN in which the first mobile unit is active. The method also includes if the first mobile unit is active transmitting an alert from the web server to the first mobile unit that a message destined for such unit is available displaying a window on the display of the first mobile unit advising the user that the alert has been received and allowing the user to enter a command if the message is to be displayed on the display.

In a fourth aspect the invention features an apparatus for messaging in a virtual network of spatially separate individual wireless local area network WLANs . This apparatus is adapted to operate according to the method described above.

In a fifth aspect the invention features a wireless mobile network unit. The unit includes an input device for receiving data input from a user a display device supporting HTML functionality allowing the user to examine data a processor programmed to support the use of asynchronous application alerts a transmission device for receiving the alerts and transmitting an alert receipt acknowledgment and a memory containing instructions to receive a paging signal. In one embodiment the processor supports a user datagram protocol frames and processes protocol data units consisting of command elements constructed as ASCII comma delimited strings a transmission device which transmits data via user datagram protocol services at least one host computer processor configured to generate an alert signal multi access points which are linked to at least one host processor and a mobile wireless network units configured to receive the alert signals and transmit notification of receipt of such signals.

In a sixth aspect the invention also features a wireless network. The network includes at least one host computer processor configured to generate an alert signal a plurality of access points which are linked to at least one host processor and mobile wireless network units configured to receive the alert signals and transmit notification of receipt of such signals.

In a seventh aspect the invention also provides for an article comprising a computer readable medium that stores computer executable instructions for configuring a wireless network adapter the instructions causing a computer to perform one of the above described methods of web browser paging integration.

In an eighth aspect the invention features a method of delivering messages initiated by the client. The method includes establishing a connection between a client and server generating a request from the client to the server generating a response from the server to the client based on the request and receiving a response at the client. In one embodiment a request includes creating a message originated by the client and transmitting the message to server. The method also includes constructing a request to view a user message stored at the server and transmitting said request to server. In one embodiment generating a response includes interpreting a client request wherein if the request is a header type then the response is a header retrieved from the server and wherein if the request is not header type then the response is a user message retrieved from the server and transmitted to the client. In one embodiment receiving the response includes determining the response type where if the response type is text then the user message is displayed ass text if the response type is audio then user message is displayed as audio if the response type is image then the user message is displayed as an image and if response type is header then header information is displayed. In one embodiment the both the client and server are portable computer devices with network capabilities.

In an ninth aspect the invention features an apparatus for delivering messages initiated by the client. This apparatus is adapted to operate according to the method described above.

The details of one or more embodiments of the invention are set forth in the accompanying drawings and the description below. Other features objects and advantages of the invention will be apparent from the description and drawings and from the claims.

The network may have a large number of base stations typically up to sixty four and several hundred remote units . Furthermore the first LAN may be coupled to additional LANs through controllers such as bridges or routers . Other typical embodiments for the remote units as a WLAN adapter include but are not limited to hand held devices for network access to enable a user to receive personal itinerary such as airline e tickets hotel confirmation information credit card bank account or brokerage account access and the like.

This network environment can also be used for any facility having the need for a number of remote units to access a central control station such as a LAN . Such facilities can be but are not limited to a manufacturing facility office building complex warehouse retail establishment or like commercial facilities or combination of facilities where bar code readers for example or similar data gathering terminals are used for inventory control in stockroom or receiving shipping facilities at check out point of sale counters for reading forms or invoices or the like for personal security checking at gates or other checkout points at time clocks for manufacturing or process flow control and other similar uses. Although hand held laser scan type bar code readers are mentioned the remote units may also be bar code readers of the wand type and may be stationary rather than hand held. The device may be of the optical character recognition OCR type as well. Other types of data gathering devices may implement these features such as temperature or pressure measuring devices event counters voice or sound activated devices intrusion detectors and the like.

The base stations each utilize a CPU connected to a memory through a bus . A communications adapter connects the bus to the communications link . An RF transceiver is connected to the CPU in each base station through the local bus and is connected to an antenna for RF transmission and reception from the remote units using a transmit receive exchange protocol. In one embodiment the exchange protocol is similar to a collision sense multiple access CSMA . A detailed discussion of this exchange protocol is discussed below with respect to . An additional RF transceiver can be used as an RF link to and from other base stations if necessary.

Base stations are typically stationary units that use line power and often not accessible to an operator. The RF signal path in a typical environment is changeable because equipment in the environment may move around as well as the locations of the remote units . As a result the particular base station that is in communication with the remote unit can change. In an implementation a hand off protocol is used to change the base station that is designated to communicate with the remote unit . In this manner a remote unit has a confirmed virtual link with only one base station at a time although other base stations may be in range. The base stations act as intermediaries for the communication link between the remote unit and the host computer . The main function of the base stations is to relay data between the remote units and the host computer .

Typically the remote unit has a manual entry device such as a keyboard and a visual display such as an liquid crystal display LCD device. The elements of the entry device and the display are scanned by signals generated in the CPU or generated in a entry device and display I O controller. In one embodiment the I O controller is an Intel 8052 microcontroller.

As discussed above in one embodiment a transmit receive exchange protocol is used by the remote unit to communicate with the base units . The exchange protocol is similar to a collision sense multiple access CSMA . The remote unit first listens before transmitting and does not transmit if the channel is not free. If an RF channel is quiet a transceiver in the remote unit starts a transmission. A transceiver in the remote unit typically begins a data exchange at its own initiative by first listening for other traffic for a brief time interval t and if the RF channel is quiet starting a transmission at a time of its own selection. An outgoing transmission data packet lasts for a certain time interval t then at a precise time delay tthe mobile unit starts its transmission the transceiver begins listening for a return data packet from the base stations . The remote unit waits for a very small time interval tfor this return or acknowledge packet. If this packet is not returned during this time interval t the remote unit ignores any data packets that follow. Because the mobile units control the data exchange between the remote units and the base stations the CPU handles all exchange related tasks including data input from the bar scanner keyboard and display scans RF control data stream transfers to and from the RF and data coding and encoding. The remote unit is therefore the primary controller of RF transmission and reception. The remote units send a periodic data packet with no data to the base stations in case the base stations have data to transmit to the remote units .

As discussed above the mobile unit can be a portable computer. The portable computer can be used for a variety of computing purposes including but not limited to Internet access word processing scheduling mathematical computation and the like. For these purposes the portable computer is loaded with an operating system. In an embodiment the operating system can be all Windows 9x and NT platforms. In other embodiments the operating system can be Windows 95 Windows 98 and Windows 2000 at Windows CE Palm 05 Linux or others. In one embodiment the memory can be random access memory into which the operating system is loaded. In another embodiment the memory can be any type of firmware such as EPROM or EEPROM into which the operating system is burned .

An application environment contains one or more software application processes . Each application may have a dynamic link library DLL and respectively associated with it. A DLL is a feature of Windows platform that allow executable code modules to be loaded on demand and dynamically and linked at run time. Library code can be updated transparent to the applications and unloaded when no longer needed.

The operating system can include an application programming interface API . The API is the software that the application processes use to request and carry out lower level services performed by the operating system . For Windows the API also helps applications manage windows menus icons and other graphical user interface GUI elements. The API includes a set of standard software interrupts calls and data formats tat applications use to initiate contact with device drivers .

The operating system can include one or more device drivers . The device drivers provide control functionality specific to a particular physical device or class of devices. Additionally the device drivers provide standard software interfaces allowing other system components to access the controlled device. For example one device driver can control the code data acquisition device and provide data to and from applications through the API . The other device driver can control the RF transceiver that allows data to be transferred from operating system to the RF transceiver through device driver . Operating system also includes a BIOS to run standard start up routines for the remote unit .

A variety of application programs can be loaded into the operating system. As discussed above one such application can be a web browser. Typically these HTML based server applications are passive and client centered. A browser client device such as remote unit initiates actions generating requests and the server associated with the unit passively responds to the request. As discussed above the remote unit can be used by a variety of users. For example the remote unit can be a hand held unit used by a delivery service person who uses the unit to scan bar codes on packages and in turn access a network to inform the delivery company and the sender of a package that the package has been delivered. In many situations it may be necessary to contact the user of the remote unit . In the delivery service example the delivery company may need to contact the delivery person for an immediate change in a delivery that involves specific instructions. If the delivery person does not have any way of being contacted such as a telephone or physical pager it would be virtually impossible to relay the message. In an embodiment the application has associated with it an active WEB centric server initiated notification process . The notification process enables a signal to be relayed through a network from one node on the network to another. Following the above example the delivery company can originate a message at a computer on a network and relay the message to the remote unit operated by the delivery person. In an implementation the notification process supports all HTML functionality and alerts a user to indicate availability of web HTML pages. The notification process may pre empt other web client application states such as active web page review.

Typically the notification process generates an alert web page through a URL containing the appropriate query strings necessary to present the appropriate HTML page options. A detailed description of the alert page is discussed below. In one embodiment remote unit can vibrate or give auditory signal when the alert page is sent to the remote unit .

In an embodiment the process contains an alerting mechanism that supports control alert user datagram protocol UDP frames at a well known port. UDP is a transmission layer protocol used as an alternative to the TCP protocol describing how messages reach application programs within a destination computer. This protocol is typically bundled with IP layer software. UDP is a transport layer connectionless mode protocol providing a datagram mode of communication for delivery of packets to a remote or local user. The control frames are used to set configuration parameters through the content of the protocol data units PDU . A PDU is a message of a given protocol having data and control information typically contained in a header. PDUs can be referred to as data packets that pass over protocol interfaces between layers of protocols. In an implementation the PDU consists of command elements constructed as American standard code for information interchange ASCII comma delimited strings defining the requested command and transmitting to the remote unit through UDP services. Data objects passed through the UDP command frame describe several elements of the PDU.

A command identifier is a two letter ASCII sequence that is a signature for the requested command service. A command index is a numeric value that indicates the service requested and invokes the appropriate modules for performing the requested task. A command parameter string is an ASCII string that contains multiple command elements that are used by the remote unit to construct a query to retrieve the specified URL HTML pages. This string can also contain instructions that invoke a local signaling operation e.g. vibration beeping ringing etc. 

A multi staged reliability mechanism UDP response frame is defined to permit notification of an initial receipt of the alert and an initial action on the alert. UDP response frames have a simple format of an identifier result code and user name.

The alert frame when received and processed sets the state information that is passed to the remote unit and instruct it to set focus on the alert list URL using the provided optional query information. A command processing mechanism retrieves acknowledges parses and stores the application alert information. It is necessary for the remote unit to support the alert indicators and to change the preempt an application to give focus to the requested alert URL.

The following table details the format and default content of each of the PDUs as identified in the protocol sequence discussed above.

A further use for portable computer devices is the electronic mail box or mail delivery service application. Referring to the invention provides an improved architecture for electronic mail box systems including portable computer devices. The improved system uses a distributed message delivery service architecture based on cooperating processes. Within a network a particular machine is designated as a server and its address becomes public on the local network. The server is responsible for delivery and reception of mail and also provides other machines on the local network with information regarding user message status. For example whether a message has been received for an identified user in which case the message can be forwarded to the user. The remaining machines on the network are designated the client and carry out a corresponding process in particular providing a user interface to the distributed mail delivery service. For example the client portion can present various options to the user such as the option of hearing audio messages or viewing text or still images. The options presented will of course be based on the resources available to a particular machine for example whether it has a sound card and or graphics capabilities.

Referring specifically to there is provided a server and a plurality shown as in the figure of clients . The server includes an antenna for communicating with remote clients and for example portable computer devices a transmission and reception module a message coder and decoder protocol stack and a processing module query engine for handling queries from clients for example regarding a particular user message status accessing any such messages etc. Information is accessed from a memory which may be a data base storage module. The processor also communicates with a mail user agent MUA module allowing a user interface with the server . The server is also in communication via the mail user agent with a local and or wide area network designated generally as .

The service may form part of or be configured for connection with a telecommunications network or a computer network for example the Internet .

Each client and includes various modules common with the server as well as modules specific to the needs of the client. A client includes an antenna for communication with the server and a transmitting receiving module communicating with a message coder and decoder . The module will include the hardware necessary for carrying out the transmitting receiving steps but it will be recognized that at least some of the functions provided by the module will be capable of being provided in software. Indeed generally reference to modules need not be to dedicated hardware but extends to programmed or programmable software arranged to emulate hardware performance. The message coder and decoder interacts with the mail user agent providing a user interface. In addition the mail user agent communicates with a local data storage device and with optional modules such as a display driver and or a sound driver see client .

Operation of the distributed mail delivery system may best be understood with reference to . displays the steps carried out by the user in a typical client process . On commencement of operation the client auto configures itself based on the resources for example sound or graphics available on the machine at step . The user logs in and enters a password and a connection is established between the client and the server at which stage information entered during the log in and password process is sent to the server for verification . If however the server is not ready for communication then the procedure is exited and must be recommenced at step or step . After the user status is queried if the user or password is unknown to the server the process returns to step and the log in and password procedure is re initiated. Otherwise the options available to the user are retrieved in steps discussed in more detail with reference to and displayed as headers to the user . The user then enters his selection and the selection type is determined .

The client assesses whether the user wishes to view a message and if so retrieves the selected message from the server in a series of steps described in more detail below with reference to . The client then determines the message type for example audio or visual and dependent on the message type either displays the text or plays the sound . The client then returns to step and awaits a further user selection.

If at step the user indicates that it is not desired to view a message then a message is created recorded the data of the message is packaged appropriately for transport for example by the protocol stack shown in and is sent to the server by the transmitter and antenna . The client then returns to step and awaits a further user selection.

The client machine includes suitable input means for example a keypad and display means for example an LCD display for the entry of user selection choices message information and for the display of messages. In addition a speaker and microphone may be provided for the recording and playback of audio messages.

Referring now to the steps of a typical server process are shown. The server operates as a continuous process but in order to save system resources is mostly in a stand by mode where it simply listens to the local network. Accordingly in step on initiation an open end connection is established and the server monitors the connection . If any queries are received the server proceeds to the subsequent steps but otherwise continues to monitor the connection . On reception of a query the server wakes up interprets the query to establish which of the internal modules of the server is designated for example data base storage or mail user agent and if the request is valid the request type is determined . The request may be a header type which is sent to the client to present user message headers corresponding to steps and shown in accordingly at the request for a header appropriate information is retrieved is packaged for transport for example at modules of the server and is sent to the client . The server then returns to monitoring mode listening to the connection with the remainder of the network.

If at step the request is not for header information then the server retrieves any user messages that are stored with respect to the identified user for example on the basis of the log in or password information entered at the client and the data is packaged and sent as described above in relation to steps . The system then returns to monitoring mode .

It will be seen that steps are carried out by the query engine of the server user message data being retrieved from the memory device of the server.

Where at step the request is not valid then the user and request are logged and an error message is sent back to the client . The system then returns to monitoring mode .

The system described above requires far less data storage on the client terminal computer and thus is particularly although not exclusively suitable for hand held computers with basic network capabilities. The system thus resolves the problem of mailbox locations as well as releasing the hand held host and the data storage and retrieval responsibility by treating the mail delivery service as two cooperative and independent processors that communicate with each other using basic network protocols.

In effect unlike conventional mail delivery service systems the distributed mail delivery service uses the underlying network to actively present enquiries to the server regarding the message status relating to a particular user rather than using a directory structure and relying on a file system. Because all enquiries are directed to one server multiple connections for a single user can be identified and refused the server is the only point of connection to external entities offering a more secure delivery system and the server offers a view of the mail delivery service to the end user which is independent of the actual matter stored by the server.

In addition clients are relieved of the responsibility of storing or directly retrieving any of the actual data. Messages are delivered via the network on a demand basis that is when required by the user and the client portion of the distributed mail delivery service simply translates user requests into a series of commands forwarded to the server in the form of queries. If the queries are validated the server returns the necessary data to a client in response to the queries. By virtue of the separation of tasks the system designer gains the freedom to modify components of the system independently. For example it may be initially decided that the server should store messages using a simple mail box scheme but if the capacity or speed or efficiency of the system subsequently needs to be enhanced as a result of the increased burden placed on it by an increasing number of users and messages the server can revert to using a complete database management system. Any such modifications will however remain hidden from the client portion and the client portion can effectively remain unaware of the underlying structures of the server indefinitely.

Similarly the client portion may be modified for example to move from a character based user interface to a graphical type interface in which case the server may remain unaware of the modifications as the basic data query and exchange mechanism is unchanged the server remaining unconcerned about the manner of data presentation at the client portion.

Accordingly a voice mail delivery system is implemented. The client portion may run on a PC compatible platform although it could be ported very simply to other platforms. The server can operate on UNIX or DOS platforms. The client requires less than 256 kbytes of local storage.

It will be seen therefore that the proposed delivery system offers multiple advantages over current mail box schemes providing flexible and independent modules which are simpler to maintain and modify and which offers a generic mechanism by which data transfers can be implemented over data networks. As it is a distributed system it does not require the presence of a network file system and simply relies on local storage.

In particular because a server is provided on each local network for dealing with the clients within a local network and also for communicating with other servers on other local networks the roaming capabilities of the system are enhanced. The distribution of mail processing between the various local networks is in contrast to the centralized hub system in conventional mail delivery systems and allows simplified and accelerated mail processing and transfer in combination with a roaming portable computer.

Various aspects of the techniques and apparatus may be implemented in digital circuitry or in computer hardware firmware software or in combinations of them. Apparatus of the invention may be implemented in a computer products tangibly embodied in a machine readable storage device for execution by a programmable processor. The foregoing techniques may be performed for example by a programmable processor executing a program of instructions to perform functions of the invention by operating on input data and generating output. The methods may advantageously be implemented in one or more computer programs that are executable on a programmable system including at least one programmable processor coupled to receive data and instructions from and to transmit data and instructions to a data storage system at least one in out device and at least one output device. Each computer program may be implemented in a high level procedural or object oriented programming language or in assembly or machine language if desired and in any case the language may be compiled or interpreted language. Suitable processors include by way of example both general and special purpose microprocessors. Generally a processor will receive instructions and data from read only memory and or random access memory. Storage devices suitable for tangibly embodying computer program instructions and data include all forms of non volatile memory including by way of example semiconductor devices such as EPROM EEPROM and flash memory devices magnetic disks such as internal hard disks and removable disks magneto optical disks and CD ROM disks. Any of the foregoing may be supplemented by or incorporated in specially designed application specific integrated circuits ASICS .

A number of embodiments of the invention have been described. Nevertheless it will be understood that various modifications may be made without departing from the spirit and scope of the invention. Accordingly other embodiments are within the scope of the following claims.

