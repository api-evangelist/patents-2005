---

title: System and method of forwarding end user correlated user and control plane or network states to OSS system
abstract: A system is described for collecting data records which have been correlated to subscriber, or end user, access network, core network, transport network, and application service information, referred to as end user correlated data records and utilizing those records in a wireless or wireline network to identify and address correctable conditions in a network, such as a wireless or wireline network. The system includes at least one probe in the network which is able to monitor network activity and provide detailed data records on that activity. These data records are sent to a mediation device that correlates those data records with subscriber and/or location data, to create the end user correlated data records. An intelligent application services device takes the end user correlated data records and examines the records to determine if there are any correctable conditions in the network or the end user devices.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08849800&OS=08849800&RS=08849800
owner: Tektronix, Inc.
number: 08849800
owner_city: Beaverton
owner_country: US
publication_date: 20050919
---
The concepts described herein relate to wireless network systems and using end user correlating data records to detect correctable conditions in the network.

Wireless network providers are providing subscribers with many more and more complicated applications than ever. These applications can result in subscribers calling customer care centers when those applications do not function properly or do not function at all. The cause of these malfunctions can be misprovisioned handsets core network DNS servers radio access network RAN or core network elements managing session policies out of date information in the hand set or incompatibility between the hand set configuration and the new application. The incompatibility can arise because of old versions of operating systems or applications residing on the handsets or because the network is unaware of the capabilities of the particular handset.

Network Element Management Systems EMSes and network monitoring systems provide general standard specified messages e.g. attachment failure that do not describe the failure specifically enough to allow correction without trouble shooting by a customer care representative. Further the error messages do not contain any correlation to complete subscriber identities locations or physical logical network elements.

Without specific information on the nature of the failure and correlation with subscriber and location information it is impossible for the network to detect and correct these type failures on its own without intervention. If the network were able to collect specific information about network activity access core IP transport or application services and were able to correlate that information to specific subscribers and locations the network would be able to take action to correct those failure and even to anticipate problems and react proactively to address those problems before a failure occurs.

The concepts described herein relate to a system for collecting data records which have been correlated to subscriber or end user information referred to as end user correlated data records or as hybrid data records and utilizing those records in the network to address correctable conditions in the network. The system includes at least one probe that taps an interface or software agent in the network which is able to monitor network activity and provide detailed data records on that activity. These data records provide the specific data required to determine the cause of a failure and not just that a failure occurred. These data records are sent to a mediation device that correlates those data records with subscriber identities phone number or IP address for example and or location data cell ID base station or cable modem for example to create the end user correlated data records. An intelligent application services device takes the end user correlated data records and examines the records to determine if there are any correctable conditions in the network or the end user devices. If a correctable condition is detected the intelligent application services device can then trigger the appropriate action in the network. The appropriate action may include reprovisioning the end user device or renegotiating parameters e.g. quality of service attributes or radio interface type for example in the network.

The intelligent application services device used to detect correctable conditions includes a data record receiver to receive data records from the mediation device a repository for storing the end user correlated data records a analysis module which detects and determines correction information for failures or quality enhancement attributes in the network and a non fault detection module to identify and determine correction information for conditions which may cause failures in the network.

A method for identifying correctable conditions in the network is also described. The method includes creating data records reflecting activity in the network and correlating the data records with end user information. The end user correlated data records are then used to determine whether correctable conditions exists in the network. The method can also respond to the determination of a correctable condition by determining and sending triggers and correction information to the network elements routers switches application servers or end user device.

The foregoing has outlined rather broadly the features and technical advantages of the present invention in order that the detailed description of the invention that follows may be better understood. Additional features and advantages of the invention will be described hereinafter which form the subject of the claims of the invention. It should be appreciated by those skilled in the art that the conception and specific embodiment disclosed may be readily utilized as a basis for modifying or designing other structures for carrying out the same purposes of the present invention. It should also be realized by those skilled in the art that such equivalent constructions do not depart from the spirit and scope of the invention as set forth in the appended claims. The novel features which are believed to be characteristic of the invention both as to its organization and method of operation together with further objects and advantages will be better understood from the following description when considered in connection with the accompanying figures. It is to be expressly understood however that each of the figures is provided for the purpose of illustration and description only and is not intended as a definition of the limits of the present invention.

Referring now to a simplified diagram of a wireless network in accordance with the concepts described herein is shown. Network includes radio access network RAN which is a wireless network that can utilize any number of wireless and network protocols such as General Packet Radio Services GPRS or Universal Mobile Telecommunications Service UMTS or Global System for Mobile Communications GSM or Code Division Multiple Access CDMA or Evolution Data Optimized EVDO or other wireless protocol. RAN connects to core network which can comprise the Serving GPRS Support Node SGSN and the Gateway GPRS Support Node GGSN . The SGSN is operable to take Internet Protocol IP packets and put them into frames that the radio interface of RAN can then download to mobile devices such as mobile device . While network is shown as including a wireless network RAN to illustrate the concepts described herein any wireless or wireline network such as DSL cable etc. can be used without departing from the scope of the concepts described herein.

Core network allows mobile devices to access wireless services from the RAN . Wireless services can encompass any type of wireless service for both enterprise and public domains. Examples of wireless services include but are not limited to browsing such as HTTP and email Wireless Access Protocol WAP Multimedia Message Service MMS streaming video audio or any other present or future wireline and wireless services.

As can be seen from a mobile device communicates with RAN . RAN assigns a radio link to mobile device and then mobile device launches its mobility management where it authenticates and identifies itself in RAN . Once mobile device is known to the network and access has been granted mobile device launches its service management features and client applications such as push to talk functions micro browsers or the like. When mobile device launches an application such as a browsing application a direct link is established between mobile device and the appropriate service in wireless services though RAN and core network . RAN and core including transport i.e. IP ATM etc. network provide the quality of service required of the application being run such as guaranteed or pseudo guaranteed quality of service for streaming applications and possibly best efforts for browsing and email.

In accordance with the concepts presented herein probes are connected at various points in network . shows an embodiment where probes are connected inside RAN and wireless services between RAN and core network and between core network and wireless services . Probes passively monitor all the different interfaces between the various elements in real time. For example a probe in RAN is able to detect radio link information mobility information and session management information passing inside RAN . A probe in wireless services network would be able to monitor any of the IP type packets associated with any of the services being run in wireless services network . Probes monitoring traffic in and out of core network are able to detect quality of service settings and other information from the core. Additionally probes or software agents residing in border or edge routers in the transport network may be used to monitor network traffic.

Information from probes is sent to mediation device which in one embodiment can be a product called DATA CAST from Tektronix. The information from probes is used to create a data record for example information related to a transaction such as an HTTP get and then the response and or closure would form a data record which contains information showing that there has been a request and whether the request failed or succeeded. The time stamped data record is utilized by mediation layer where the data record is correlated with the information on the subscriber IMSI or MSISDN or IP address for example the cell the base station the radio network controller RNC or other relevant network elements and what part of the network the data record originated from. This allows mediation device to perform correlation for subscriber identities plus location. This correlation should all be done within microseconds of the completion of the transaction. The information sent to mediation device can be collected from data records from RAN core network transport or application service interfaces or from other collection devices such as network elements or software agents that reside on network elements routers or application servers.

Being able to correlate the data record with subscriber and location information as is done in mediation device allows network to address problems that currently require human intervention such as a subscriber call to customer service. For example if a subscriber wants to access a new video service MMS or even browsing the mobile device such as mobile device sends a request to access an Application Point Name APN . Within core network the GGSN must resolve this APN name such that it has to be associated to this service management request. The APN is a domain name similar to a URL and it could be for example cingular.mms.com. If the APN is misspelled or not provisioned correctly then the request from the mobile device will fail. A probe in network sees the failure of the session management procedure and requests a data record which is sent to mediation device . Mediation device correlates the data record with subscriber and location information. According to the concepts described herein the data record s and associated information which can be referred to as a hybrid data record HDR are sent to intelligent application service IAS .

IAS operates to examine the error condition contained in the HDR and determine if the error was caused by a problem correctable by reprovisioning the mobile device using existing over the air OTA systems. Using the example above if IAS determines that the error was caused by a misspelled APN such as singular.mms.com IAS can detect the misspelling and send a correction to mobile device using OTA . OTA can send a short messaging system SMS message to mobile device which corrects the spelling of the APN in the service application that was using the misspelled APN.

While the example described above uses a misspelling APN one skilled in the art will understand that the concepts described could apply to correct any error or condition particularly errors and conditions occurring in the level three network layer which can be identified by the data record and correlated to a subscriber and location. Such errors and conditions could include but in no way are limited to old APNs which have been reconfigured by the provider misprovisioned applications obsolete software in the mobile device that is unable to run the requested service adjusting quality of service requirements when moving between uncongested and congested cells radio access types GSM UMTS UMA Wi Fi etc. pooled network nodes such as BSC RNC SGSN etc.

OTA system is a currently installed OTA system existing in current wireless networks. These OTA systems are currently used to push messages to mobile devices such as time update information welcome messages in new cities and the like. OTA system is operable to upload software correct problems and or install new services. The concepts described herein utilize the OTA system to via the network download reprovision and or correctly provision the mobile device.

Having data records that describe wireless services currently being used and correlating that information to a subscriber and location such as is done by mediation device allows IAS to perform other functionality not necessarily related to errors. For example a subscriber may be using mobile device to stream video clips. When mobile device launches a video steaming application RAN and core network negotiate the services. During this negotiation the quality of service profile is negotiated and agreed upon. For web browsing or email it may be best effort however for an application that requires real time or near real time service like an interactive voice or video service for example the requirements of the application and mobile device must be examined to determine the appropriate bearer quality to allow the subscriber to see clean video instead of a chopping or blocking video stream. Network is able to determine that based on the subscriber information i.e. application equipment location etc. that this profile should be able to maintain itself for the duration of the video stream. However when mobile device is moving and changing from cell A to cell B and cell B is significantly more congested than cell A network may not be able to maintain a constant bit rate to mobile .

Ideally network would be able to maintain the bit rate in the transition from cell A to cell B however it cannot be guaranteed. A renegotiation of the quality of service or bit rate or CODEC to allow for the video to continue uninterrupted but at perhaps slightly less resolution or frame rate may need to be performed. Network has previously been unable to accommodate the circumstance described above. However with the monitoring probes mediation device and intelligent application service described herein IAS is able using the HDRs from mediation device to monitor the radio network where it can monitor or observe the radio link parameters in real time and can then recognize the degradation and trigger negotiation of the new service profile quality to be used by mobile device and network . In this example the IAS does not initiate a reprovisioning of mobile device instead it may interface into another system such as wireless services that may be associated with this video download.

The concepts described herein can be used to provide real time information to these more advanced services to allow them to start the negotiation or reprovisioning to anticipate and prevent problems such as loss of quality of service or service altogether. This type of use case allows network to maintain the best possible content that the subscriber can still be charged for otherwise if the session drops and the subscriber calls customer service the provider may opt to not charge the subscriber for the services or may even credit the subscriber for a day s service. If the bearer quality cannot be delivered at a guaranteed level IAS can provide a call detail record to the billing system allowing the provider to reduce the charge for the delivered content. Also IAS can send a trigger to a short messaging system or other messaging system that alerts the subscriber as to the reason the delivery quality was impacted. This messaging can be important if the subscriber roams into a foreign network whose access core network and or transport network is inferior to the home network.

Yet another example of a use case which illustrates concepts described herein involves maintaining the mobile devices such that the mobile devices are capable of running the most current services the provider is trying to provide. In any provider network there are potentially thousands of different configurations of handsets using different operating systems in addition to different application or browser versions. When a subscriber or provider launches a new service the provider would prefer that all the handsets in the network were correctly provisioned for these new services that the provider is trying to sell. The specific phone that identifies a subscriber is called an International Mobile Subscriber Identity IMSI . The type of terminal equipment or type of handset is described as the International Mobile Equipment Identity IMEI . That information in addition to the MMS and the browser versions equipment brand and model and similar information are contained within a profile describing the subscriber.

This subscriber and equipment information is correlated to these application services so that the provider s server then knows what format of the new application to download. IAS is able to provide information to the provider network on the handset detection and configuration. For example if the subscriber wishes to subscribe to a new service the provider using information provided by IAS can detect that the operating system is not the most current version and may not be able to run the service the subscriber may try to access the new service and fail because of the operating system. If the provider is able to detect this issue IAS could instruct OTA system to download the most current version of the operating system. Additionally if a subscriber has just signed up for service with a provider IAS can detect the equipment information and this information could be used to allow the provider representative with information that shows what features and services are available to sell to the subscriber.

Referring now to a block diagram of an embodiment of IAS from is shown. As discussed with respect to IAS communicates in one embodiment using a socket interface with mediation device and receives a stream of hybrid data records or HDRs. Those HDRs contain data records from probes from and correlated subscriber and location information provided by mediation device . The HDRs are received at IAS by HDR receiver . HDR receiver is responsible for parsing decoding the HDRs monitoring the status of the communications socket with mediation device and ensuring that a constant flow of HDRs is received on the socket. While IAS is described as receiving HDRs IAS can receive other types of information as well such as SQL queries or other application programming interfaces APIs .

If the communications socket experiences an error or HDRs stop flowing HDR receiver will report this to a system log which can be viewed by a network administrator using graphical user interface GUI . In the event of a communications loss between mediation device and IAS HDRs may be buffered on mediation device . When communication is restored current HDRs will begin to stream to HDR receiver and the buffered data can be sent in parallel. HDR receiver can be configured to provide a check for late arriving HDRs by comparing the time stamp in the HDR with the time on IAS . If the HDR is older than a predetermined period the HDRs are marked as late and stored. Late HDRs would not normally be used to trigger an action by IAS .

HDR receiver is also responsible for parsing or decoding the HDRs. During decoding HDR receiver checks for late arrival and also checks for fault conditions such as unexpected parameters and missing or faulting parameters in the HDRs. If any of the events occur the event is reported to event logging .

When HDR receiver parses the HDRs it will store all pertinent information in a structured repository . HDR will be stored in repository for a configurable length of time which can typically be 30 days. HDR information can be aggregated over a variety of dimensions including time. This allows system administrators to effectively follow up on any actions taken by IAS using the OTA from . Using the HDR information from repository administrators can follow up with individual subscribers or groups of subscribers investigate subscriber complaints or investigate new patterns for improperly configured mobile devices. Access is provided through HDR viewer .

Configuration status module is operable to configure IAS and to perform tasks related to the operation of the other modules of IAS . Configuration status module can be operable to check the subscription status when a MSISDN that is unknown to the system is received. The MSISDN may be queried against an external database which can provide subscription information in response to the query. Configuration status module can also act to control the number of reconfiguration triggers sent to OTA from . The control can be to the IAS as a whole or can be done on a subscriber or event basis. This feature prevents IAS from sending multiple reconfigure messages in response to multiple failed attempts from a mobile device. Once the first reconfigure message is sent configuration status module prevents further messages from being sent in response to the same failure for a certain amount of time.

Fault detection module responds to errors in APN or URL addresses coming from mobile devices. As described the APN or URL could be misspelled or it could be an old name where the operator reconfigured or it could be an IP address that is improperly associated to the APN. When an SGSN queries the DNS and it returns with the wrong IP address this results in a failure. The failure record comes to IAS and then fault detection module will examine the faulty APN or URL. Fault detection module determines if the APN or URL was misspelled or had been reconfigured and determines what the correct APN or URL should be. Once fault detection module has determined the correct configuration that information is sent through OTA interface to OTA from which then sends the correction to the mobile device.

Handset detection module is used to provide the analysis and triggers for non error conditions such as those described with respect to . Handset detection module can detect parameters associated with mobile devices that would be incompatible with requested services such as old versions of operating systems or software and trigger the OTA to provide the proper version to the mobile device through a trigger sent through interface . Other Application module can be configured to provide other services and triggers using OTA interface as are appropriate for conditions and errors detected by IAS using the HDRs.

Integration module allows IAS to be integrated with external IT systems such as customer care management CCM and integrated voice response IVR systems.

Referring now to a flow chart showing a method according to the concepts provided herein is described. Method begins in process by creating a data record reflecting activity on the network. Process then passes to process where the data record reflecting the network activity is correlated with subscriber and location information associated with the network activity thereby creating a hybrid data record. The hybrid data record is examined to see if there are any fault or error conditions associated with the network activity in process . If there is a fault or error process determines the cause of the fault and if the fault is correctable the method passes to process which sends a trigger and correction information to an OTA system which then sends the correction to the appropriate device.

Returning to process if a fault condition is not detected the method passes to process which determines if a non fault condition is present such as quality of service issues or mobile device compatibility issues related to requested or desired services. If an non fault condition is present process determines the appropriate action to be taken and process sends a trigger and action to the network to perform the appropriate action such as renegotiation of quality of service or having the OTA system download appropriate software or configuration to the mobile device.

Although the present invention and its advantages have been described in detail it should be understood that various changes substitutions and alterations can be made herein without departing from the spirit and scope of the invention as defined by the appended claims. Moreover the scope of the present application is not intended to be limited to the particular embodiments of the process machine manufacture composition of matter means methods and steps described in the specification. As one of ordinary skill in the art will readily appreciate from the disclosure of the present invention processes machines manufacture compositions of matter means methods or steps presently existing or later to be developed that perform substantially the same function or achieve substantially the same result as the corresponding embodiments described herein may be utilized according to the present invention. Accordingly the appended claims are intended to include within their scope such processes machines manufacture compositions of matter means methods or steps.

