---

title: Computer implemented method for automatically controlling selection of a grid provider for a grid job
abstract: A user at a grid client enters at least one bid criteria for a particular grid job intended for submission to an external grid environment. The grid client automatically selects at least one grid provider for the external grid environment to query for availability to process the particular grid job to meet the criteria for the particular grid job. The grid client automatically distributes the criteria in a bid request for the particular grid job to the selected grid providers. The grid client stores bid responses received from the grid providers, and responsive to reaching a deadline for return of responses for the bid request, the grid client selects a winning bid response from the particular grid job from among the received responses. The grid client automatically distributes the particular grid job from the grid client system to the grid provider submitting the winning bid response.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07472079&OS=07472079&RS=07472079
owner: International Business Machines Corporation
number: 07472079
owner_city: Armonk
owner_country: US
publication_date: 20050112
---
The present application is related to the following co pending applications hereby incorporated herein by reference 

The present invention relates in general to improved grid computing and in particular to automated bidding for virtual job requests within a grid environment. Still more particularly the present invention relates to preparing bid requests for a grid job automated distribution of the bid requests to multiple grid providers and analysis of bid responses by a grid client to select a winning bid response for a grid job.

Ever since the first connection was made between two computer systems new ways of transferring data resources and other information between two computer systems via a connection continue to develop. In typical network architectures when two computer systems are exchanging data via a connection one of the computer systems is considered a client sending requests and the other is considered a server processing the requests and returning results. In an effort to increase the speed at which requests are handled server systems continue to expand in size and speed. Further in an effort to handle peak periods when multiple requests are arriving every second server systems are often joined together as a group and requests are distributed among the grouped servers. Multiple methods of grouping servers have developed such as clustering multi system shared data sysplex environments and enterprise systems. With a cluster of servers one server is typically designated to manage distribution of incoming requests and outgoing responses. The other servers typically operate in parallel to handle the distributed requests from clients. Thus one of multiple servers in a cluster may service a client request without the client detecting that a cluster of servers is processing the request.

Typically servers or groups of servers operate on a particular network platform such as Unix or some variation of Unix and provide a hosting environment for running applications. Each network platform may provide functions ranging from database integration clustering services and security to workload management and problem determination. Each network platform typically offers different implementations semantic behaviors and application programming interfaces APIs .

Merely grouping servers together to expand processing power however is a limited method of improving efficiency of response times in a network. Thus increasingly within a company network rather than just grouping servers servers and groups of server systems are organized as distributed resources. There is an increased effort to collaborate share data share cycles and improve other modes of interaction among servers within a company network and outside the company network. Further there is an increased effort to outsource nonessential elements from one company network to that of a service provider network. Moreover there is a movement to coordinate resource sharing between resources that are not subject to the same management system but still address issues of security policy payment and membership. For example resources on an individual s desktop are not typically subject to the same management system as resources of a company server cluster. Even different administrative groups within a company network may implement distinct management systems.

The problems with decentralizing the resources available from servers and other computing systems operating on different network platforms located in different regions with different security protocols and each controlled by a different management system has led to the development of Grid technologies using open standards for operating a grid environment. Grid environments support the sharing and coordinated use of diverse resources in dynamic distributed virtual organizations. A virtual organization is created within a grid environment when a selection of resources from geographically distributed systems operated by different organizations with differing policies and management systems is organized to handle a job request.

One important application of a grid environment is that companies implementing an enterprise computing environment can access external grid computing farms . Sending jobs to a grid computing farms is one way to outsource job execution. The grid computing farms may include groups of grid resources accessible for executing grid jobs received from multiple customers.

A limitation of current grid computing farms is that the process for attaining bids from multiple grid computing farms is time consuming and inefficient. In particular a customer needing to send jobs to a grid computing farm will typically want the least costly grid computing farm from among multiple available grid farm providers to process the grid jobs. However to determine the most competitive bid from among the multiple available grid farm providers a customer must contact a representative of each grid computing farm provide a description of the type of grid resources needed and receive a bid from the representative of each grid farm. Requiring a customer to contact a representative of each grid computing farm and go through a bidding process is inefficient for the customer and for the grid computing farm vendor.

Therefore in view of the foregoing it would be advantageous to provide a method system and program for grid clients to create a single bid request automatically distribute the bid request to multiple grid vendors and analyze the responses from multiple grid vendors to select a winning grid vendor.

In view of the foregoing one embodiment of the invention in general provides for automated grid computing and provides for automated bidding for virtual job requests within a grid environment. One embodiment of the invention relates to preparing bid requests for a grid job automated distribution of the bid requests to multiple grid providers and analysis of bid responses by a grid client to select a winning bid response for a grid job.

According to one embodiment of the invention a user at a grid client enters at least one criteria for a particular grid job intended for submission to an external grid environment. The grid client automatically selects at least one grid provider for the external grid environment to query for availability to process the particular grid job to meet the criteria for the particular grid job. The grid client automatically distributes the criteria in a bid request for the particular grid job to the selected grid providers. The grid client stores bid responses received from the grid providers and responsive to reaching a deadline for return of responses for the bid request the grid client selects a winning bid response from the particular grid job from among the received responses. The grid client automatically distributes the particular grid job from the grid client system to the grid provider submitting the winning bid response.

In selecting the grid providers to query the grid client first determines whether the particular grid job is of a type that is assigned to a grid alliance agreement where a grid alliance agreement designates at least one grid provider that the grid client agrees to be the sole provider for the particular type of grid job. If there is a grid alliance agreement in place for the particular grid job the grid client automatically selects only those grid providers designated in the grid alliance agreement.

In distributing the bid request the bid request includes the criteria and an identifier for the particular grid job an identifier for the grid client system and a deadline for returning responses to the bid request. In addition the criteria includes a performance requirement and also includes a service level agreement a job cost limit a job time limit an eligibility for capacity on demand resources a hardware class platform requirement a software class platform requirement a latency requirement a data transport requirement a data size a completion requirement a security requirement a resource limitation and a sell off policy.

In addition in distributing the bid request the grid client first creates a sample microcosm of the particular grid job where the sample microcosm represents a particular percentage of the particular grid job. The bid request includes the sample microcosm where a grid provider receiving the sample microcosm is enabled to process the sample microcosm to meter an actual performance and actual cost of processing the sample microcosm to calculate an estimated performance and cost of processing the particular grid job.

In selecting a winning bid response the grid client determines a first selection of bid responses with a total cost within a particular percentage of the lowest quoted cost in a bid response and then select a particular response from among the first selection of bid responses. The grid client determines whether a preferred vendor returns a bid response and select the preferred vendor bid response as the winning response. Further the grid client selects the bid response quoting the fastest job runtime as the winning response.

Referring now to the drawings and in particular to there is depicted one embodiment of a computer system which may be implemented in a grid environment and in which the present invention may be implemented. As will be further described the grid environment includes multiple computer systems managed to provide resources. Additionally as will be further described the present invention may be executed in a variety of computer systems including a variety of computing systems mobile systems and electronic devices operating under a number of different operating systems managed within a grid environment.

In one embodiment computer system includes a bus or other device for communicating information within computer system and at least one processing device such as processor coupled to bus for processing information. Bus may include low latency and higher latency paths connected by bridges and adapters and controlled within computer system by multiple bus controllers. When implemented as a server system computer system typically includes multiple processors designed to improve network servicing power.

Processor may be a general purpose processor such as IBM s PowerPC processor that during normal operation processes data under the control of operating system and application software accessible from a dynamic storage device such as random access memory RAM and a static storage device such as Read Only Memory ROM . The operating system may provide a graphical user interface GUI to the user. In one embodiment application software contains machine executable instructions that when executed on processor carry out the operations depicted in the flowcharts of and other operations described herein. Alternatively the steps of the present invention might be performed by specific hardware components that contain hardwired logic for performing the steps or by any combination of programmed computer components and custom hardware components.

The present invention may be provided as a computer program product included on a machine readable medium having stored thereon the machine executable instructions used to program computer system to perform a process according to the present invention. The term machine readable medium as used herein includes any medium that participates in providing instructions to processor or other components of computer system for execution. Such a medium may take many forms including but not limited to non volatile media volatile media and transmission media. Common forms of non volatile media include for example a floppy disk a flexible disk a hard disk magnetic tape or any other magnetic medium a compact disc ROM CD ROM or any other optical medium punch cards or any other physical medium with patterns of holes a programmable ROM PROM an erasable PROM EPROM electrically EPROM EEPROM a flash memory any other memory chip or cartridge or any other medium from which computer system can read and which is suitable for storing instructions. In the present embodiment an example of a non volatile medium is mass storage device which as depicted is an internal component of computer system but will be understood to also be provided by an external device. Volatile media include dynamic memory such as RAM . Transmission media include coaxial cables copper wire or fiber optics including the wires that comprise bus . Transmission media can also take the form of acoustic or light waves such as those generated during radio frequency or infrared data communications.

Moreover the present invention may be downloaded as a computer program product wherein the program instructions may be transferred from a remote virtual resource such as a virtual resource to requesting computer system by way of data signals embodied in a carrier wave or other propagation medium via a network link e.g. a modem or network connection to a communications interface coupled to bus . Virtual resource may include a virtual representation of the resources accessible from a single system or systems wherein multiple systems may each be considered discrete sets of resources operating on independent platforms but coordinated as a virtual resource by a grid manager. Communications interface provides a two way data communications coupling to network link that may be connected for example to a local area network LAN wide area network WAN or an Internet Service Provider ISP that provide access to network . In particular network link may provide wired and or wireless network communications to one or more networks such as network through which use of virtual resources such as virtual resource is accessible as provided by a grid management system . Grid management system may be part of multiple types of networks including a peer to peer network or may be part of a single computer system such as computer system .

As one example network may refer to the worldwide collection of networks and gateways that use a particular protocol such as Transmission Control Protocol TCP and Internet Protocol IP to communicate with one another. Network uses electrical electromagnetic or optical signals that carry digital data streams. The signals through the various networks and the signals on network link and through communication interface which carry the digital data to and from computer system are exemplary forms of carrier waves transporting the information. It will be understood that alternate types of networks combinations of networks and infrastructures of networks may be implemented.

When implemented as a server system computer system typically includes multiple communication interfaces accessible via multiple peripheral component interconnect PCI bus bridges connected to an input output controller. In this manner computer system allows connections to multiple network computers.

Additionally although not depicted multiple peripheral components and internal external devices may be added to computer system connected to multiple controllers adapters and expansion slots coupled to one of the multiple levels of bus . For example a display device audio device keyboard or cursor control device may be added as a peripheral component.

Those of ordinary skill in the art will appreciate that the hardware depicted in may vary. Furthermore those of ordinary skill in the art will appreciate that the depicted example is not meant to imply architectural limitations with respect to the present invention.

With reference now to a block diagram illustrates one embodiment of the general types of components within a grid environment. In the present example the components of a grid environment include a client system interfacing with a grid management system which interfaces with server clusters servers workstations and desktops data storage systems and networks . For purposes of illustration the network locations and types of networks connecting the components within grid environment are not depicted. It will be understood however that the components within grid environment may reside atop a network infrastructure architecture that may be implemented with multiple types of networks overlapping one another. Network infrastructure may range from multiple large enterprise systems to a peer to peer system to a single computer system. Further it will be understood that the components within grid environment are merely representations of the types of components within a grid environment. A grid environment may simply be encompassed in a single computer system or may encompass multiple enterprises of systems. In addition it will be understood that grid environment may be provided by a grid provider where a cost for use of resources within grid environment may be calculated based on the amount of time required for a grid job to execute or the actual amount of resources used among examples of calculation basis.

The central goal of a grid environment such as grid environment is organization and delivery of resources from multiple discrete systems viewed as virtual resource . Client system server clusters servers workstations and desktops data storage systems networks and the systems creating grid management system may be heterogeneous and regionally distributed with independent management systems but enabled to exchange information resources and services through a grid infrastructure enabled by grid management system . Further server clusters servers workstations and desktops data storage systems and networks may be geographically distributed across countries and continents or locally accessible to one another.

In the example client system interfaces with grid management system . Client system may represent any computing system sending requests to grid management system . In particular client system may send virtual job requests and jobs to grid management system . In particular virtual job requests may be sent in the form of requests for proposal RFPs as will be further described. Further while in the present embodiment client system is depicted as accessing grid environment with a request in alternate embodiments client system may also operate within grid environment . Additionally when client system submits virtual job requests and jobs to grid management system client system may be referred to as a grid client.

While the systems within virtual resource are depicted in parallel in reality the systems may be part of a hierarchy of systems where some systems within virtual resource may be local to client system while other systems require access to external networks. Additionally it is important to note that systems depicted within virtual resources may be physically encompassed within client system .

One function of grid management system is to manage virtual job requests and jobs from client system and control distribution of each job to a selection of computing systems of virtual resource for use of particular resources at the available computing systems within virtual resource . From the perspective of client system however virtual resource handles the request and returns the result without differentiating between which computing system in virtual resource actually performed the request.

To implement grid environment grid management system facilitates grid services. Grid services may be designed according to multiple architectures including but not limited to the Open Grid Services Architecture OGSA . In particular grid management system refers to the management environment which creates a grid by linking computing systems into a heterogeneous network environment characterized by sharing of resources through grid services.

In one example a grid service is invoked when grid management system receives a virtual job request that with an RFP that specifies the parameters for processing a job. The grid service is a bid controller that determines a total workload required for the virtual job request and calculates a capacity of virtual resource to handle the total workload required. The bid controller then calculates a cost for the virtual job request and returns a bid for performing the job specified by the virtual job request based on the capacity of grid environment to handle the total workload required and the cost for use of that workload.

Referring now to a block diagram illustrates one example of an architecture that may be implemented in a grid environment. As depicted an architecture includes multiple layers of functionality. As will be further described the present invention is a process which may be implemented in one or more layers of an architecture such as architecture which is implemented in a grid environment such as the grid environment described in . It is important to note that architecture is just one example of an architecture that may be implemented in a grid environment and in which the present invention may be implemented. Further it is important to note that multiple architectures may be implemented within a grid environment.

Within the layers of architecture first a physical and logical resources layer organizes the resources of the systems in the grid. Physical resources include but are not limited to servers storage media and networks. The logical resources virtualize and aggregate the physical layer into usable resources such as operating systems processing power memory I O processing file systems database managers directories memory managers and other resources.

Next a web services layer provides an interface between grid services and physical and logical resources . Web services layer implements service interfaces including but not limited to Web Services Description Language WSDL Simple Object Access Protocol SOAP and eXtensible mark up language XML executing atop an Internet Protocol IP or other network transport layer. Further the Open Grid Services Infrastructure OSGI standard builds on top of current web services by extending web services to provide capabilities for dynamic and manageable Web services required to model the resources of the grid. In particular by implementing OGSI standard with web services grid services designed using OGSA are interoperable. In alternate embodiments other infrastructures or additional infrastructures may be implemented a top web services layer .

Grid services layer includes multiple services which together perform the functions described with reference to grid management system . For example grid services layer may include grid services designed using OGSA such that a uniform standard is implemented in creating grid services. Alternatively grid services may be designed under multiple architectures. Grid services can be grouped into four main functions. It will be understood however that other functions may be performed by grid services.

First a resource management service manages the use of the physical and logical resources. Resources may include but are not limited to processing resources memory resources and storage resources. Management of these resources includes scheduling jobs distributing jobs and managing the retrieval of the results for jobs. Resource management service monitors resource loads and distributes jobs to less busy parts of the grid to balance resource loads and absorb unexpected peaks of activity. In particular a user may specify preferred performance levels so that resource management service distributes jobs to maintain the preferred performance levels within the grid.

Second information services manage the information transfer and communication between computing systems within the grid. Since multiple communication protocols may be implemented information services manages communications across multiple networks utilizing multiple types of communication protocols.

Third a data management service manages data transfer and storage within the grid. In particular data management service may move data to nodes within the grid where a job requiring the data will execute. A particular type of transfer protocol such as Grid File Transfer Protocol GridFTP may be implemented.

Finally a security service applies a security protocol for security at the connection layers of each of the systems operating within the grid. Security service may implement security protocols such as Open Secure Socket Layers SSL to provide secure transmissions. Further security service may provide a single sign on mechanism so that once a user is authenticated a proxy certificate is created and used when performing actions within the grid for the user.

Multiple services may work together to provide several key functions of a grid computing system. In a first example computational tasks are distributed within a grid. Data management service may divide up a computation task into separate grid services requests of packets of data that are then distributed by and managed by resource management service . The results are collected and consolidated by data management system . In a second example the storage resources across multiple computing systems in the grid are viewed as a single virtual data storage system managed by data management service and monitored by resource management service .

An applications layer includes applications that use one or more of the grid services available in grid services layer . Advantageously applications interface with the physical and logical resources via grid services layer and web services such that multiple heterogeneous systems can interact and interoperate.

With reference now to there is depicted a block diagram of a grid environment in which virtual job requests are received and automatically replied to in the form of a bid in accordance with the method system and program of the present invention. As depicted client system sends virtual job requests to a grid environment . Grid environment may logically include a grid scheduler a bid controller and grid resources . Grid resources represent the available resources within grid environment and a grid scheduler controls distribution of jobs to grid resources . It will be understood that grid resources grid scheduler and bid controller may execute among multiple server systems distributed within a single network or among multiple networks.

Bid controller which handles receiving virtual jobs requests and generating bids for completion of the job specified by a virtual job request may be called as a grid service within grid environment . Alternatively virtual job requests may be passed to bid controller from the transport layer or other gatekeeping function of grid environment . Further bid controller may execute within a system external to grid environment .

As will be further described with reference to in one embodiment bid controller includes a workload calculator module . Workload calculator module determines the likely workload required by each virtual job request and calculates the capacity of grid environment to handle the required workload. Based on the capacity of grid environment to handle the required workload a cost calculator calculates a cost for performing the job specified by the virtual job request. A bid formalizer considers other factors required for the job and returns a bid response to client system . In addition bid formalizer stores the bid response in a bid response table for access by grid scheduler if client system submits the actual job associated with the virtual job request to the grid provider represented by grid environment .

While in the embodiment depicted bid controller is illustrated handling receipt of virtual job requests and automatic determination and return of bids for processing jobs within grid environment it will be understood that bid controller may handle receipt of virtual job requests from multiple grid clients and returns bids for processing jobs within multiple grid environments.

In one embodiment grid environment includes grid resources which are the resource available to a particular grid provider for handling grid jobs. In addition grid resources may include resources which are accessible from other grid providers and which are capacity on demand CUOD resources.

It is important to note that while throughout the description a grid provider refers to an entity that provides independent grid processing in a grid environment independent from client system that client system may submit grid jobs to a grid provider of a grid environment that includes client system . In addition a grid provider may also be referred to as a grid vendor.

Referring now to there is depicted a flow diagram of a job submitting by a client system to a grid provider and the results of the job returned by the grid provider. As illustrated client system submits job to a grid provider. In particular as previously described each grid provider may implement a grid management system such as grid management system for managing the flow of a grid job by selecting grid resources for a job to meet a performance requirements monitoring the progress of jobs and adjusting grid resources if needed to meet performance requirements and managing the return of results to the client system.

In the example the grid management system for a grid provider includes a job queue that receives job and holds job until grid scheduler can schedule and dispatch job to grid resources. In particular grid scheduler accesses bid which includes the performance requirements for job based on a bid placed by the grid provider for the specific job or an agreement for job performance requirements for jobs received from a particular client system for example. Grid scheduler accesses the grid resources required to handle job for example server A server B and server N . Although not depicted grid scheduler may access a grid manager and other components of the grid management system that build the required resources for a grid job access resources from other grid environments and sell off grid jobs if necessary to other grid providers.

In the example grid scheduler divides job into job parts and that are distributed to server A server B and server N respectively. A job results manager collects results and from server A server B and server N respectively. Job results manager returns complete results to client system . In addition job results manager updates an accounting manager when the job is complete. Accounting manager communicates with a workload manager not depicted that monitors the use of server A server B and server N by job to calculate the total workload of job and the total cost of job . In particular SLA may specify factors that control the total cost of job such as a maximum cost a fixed cost a sliding cost scale if performance requirements are not met and other pricing adjustment factors.

With reference now to there is depicted a flow diagram of a process for submitting a grid job microcosm to multiple grid providers to calculate a relative cost per client defined application metric. In the example a client system apportions a grid job into microcosms which are small representative jobs of the larger grid job that needs to be submitted to a grid provider. In the example client system submits grid job microcosm and grid job microcosm to grid providers and respectively. In one embodiment client system has already submitted a job request for the grid job microcosm to grid providers and as described with reference to however in an alternate embodiment client system may submit the grid job microcosms to grid providers and with pricing and performance expectations based on published rates or verbally agreed to rates for example.

Each of grid providers and process gird job microcosms and and return results and the same manner as described with reference to a grid provider processing a grid job in . Client system retrieves the results and costs for each of grid job microcosms and and calculates a translation value for each grid provider based on a client defined application metric to grid provider metric ratio. For example where a grid provider metric is an hourly charge but a client defined application metric is a number of database merges. Additional examples of calculating a translation value are further described with reference to U.S. patent application Ser. No. 11 034 305hereby incorporated herein by reference.

Then client system calculates an estimated cost for the fill grid job according to the number of client defined application metric operations required for the full grid job adjusted by the translation value compares the costs estimated for each grid provider and selects the most cost effective provider. According to an advantage by sampling the actual performance and cost for each provider and translating the cost into a client defined application metric basis client system can compare the actual cost for performance rather than the promised cost for performance on client defined application metric basis before sending a large grid job or multiple large grid jobs. In the example after sampling the results and cost for each of grid job microcosms and client system selects to send full grid job of which grid job microcosm and are representative sets to grid provider . Grid provider processes full grid job as described with reference to and returns result to client system .

Referring now to a block diagram depicts the components of a grid client agent for a client system for controlling automated bid requests to grid providers and automated analysis of bid responses from multiple grid providers. As illustrated a grid client agent executing at a client system or at a server interfacing with multiple grid client systems manages the formation of virtual job requests for grid jobs in the form of RFPs distribution of RFPs to grid providers analysis of bid responses to RFP s from grid providers and distribution of grid jobs to a winning grid provider.

In particular grid client agent includes an RFP specification controller which controls the interface for a user to enter the specifications for an RFP for a particular grid job. In one embodiment RFP specification controller is an independent controller. In another embodiment RFP specification controller is added to an existing scheduler for a grid client. As will be described with reference to a user may enter multiple categories of criteria for a grid job. RFP specification controller stores RFPs in an RFP request queue scheduled for dispatch through a grid interface controller .

Grid interface controller manages the distribution of RFPs reception of bid responses distribution of grid jobs and reception of grid job results. In particular RFPs submitted to grid providers through grid interface controller are stored in RFP submissions table . Then grid interface controller manages the storages of bid responses in RFP response table .

In particular grid client agent includes an RFP submission controller that determines when to submit RFPs in RFP request queue to grid providers and selects the grid providers to which a particular RFP should be submitted by grid interface controller . In one embodiment RFP submission controller may select those grid vendors who are designated as part of a particular grid alliance particularly when the RFP specifies a grid alliance vendor. In particular vendor ratings specifies the rating criteria for selecting grid providers and specifies the types of grid jobs included in grid alliance agreements.

In particular in one example a grid client or group of grid clients may agree to submit grid jobs with a particular set of characteristics to one or more grid providers as part of a grid alliance where the grid client receives a discounted price for agreeing that a particular grid provider or group of grid providers will be the sole provider for grid jobs with the particular set of characteristics and vendor ratings indicate the grid alliance and particular set of characteristics. In another example a user may assign ratings to each grid vendor in vendor ratings or grid client agent may access grid vendor ratings from a vendor rating service.

In addition grid client agent includes a job microcosm controller for controlling the formation of grid job microcosms for RFP submission controller to submit to grid providers to sample the response times and costs for processing smaller portions of a grid job as described with reference to . In one example an RFP may include a grid job microcosm for a grid provider to run and return a bid and the results of running the grid job microcosm. In another example a job microcosm controller first requests the submission of RFPs for the grid job microcosm and then requests the submission of the grid job microcosms to multiple grid providers.

A cost comparator determines the actual cost from the client execution unit basis for grid jobs based on the results from grid job microcosms and full grid jobs. In particular as described with reference to a ratio of a client defined metric to a grid provider metric is calculated for a particular type of grid job based on the results of executing a grid job microcosm or full grid job. In one example where one grid provider calculates a cost of a grid job based on an hourly charge and another calculates a cost of a grid job based on the number of floating point operations cost comparator calculates a ratio of each grid provider metric to a common client defined metric basis such as a number of database merges.

A response analyzer analyzes the responses received from grid providers and selects the winning grid provider. In one embodiment response analyzer analyzes the bid responses for whether the bid response meets all or particular RFP criteria and then compares those responses meeting the required criteria for a best price or other criteria. In another embodiment where previous grid jobs of a same type have already been processed by a grid provider or where grid job microcosms were submitted response analyzer calls cost comparator to first calculate the client defined metric costs according to grid provider so that response analyzer can compare actual estimated costs for performing a grid job with those promised by the grid providers to select the winning grid provider.

In addition response analyzer may trigger an RFP exception manager if qualifying bid responses include exceptions or comments that suggest re negotiation criteria for a grid job. In particular RFP exception manager may prompt a user to select to adjust an RFP according to the exceptions and comments returned in a bid response. Further RFP exception manager may automatically adjust an RFP with the exceptions or comments if they are allowed by re negotiation preferences for the grid client.

During the re negotiation process RFP exception manager may submit the adjusted RFP to a single grid provider that returned the exception or comment used to adjust the RFP or RFP exception manager may submit the adjusted RFP to all of the original grid providers. In addition during the re negotiation process RFP exception manager may extend the original RFP response time to enable sufficient time for effective re negotiation.

Referring now to a block diagram depicts a user interface for entry of RFP criteria for a grid job. For purposes of example the types of information that may be provided for each type of criteria are indicated. It will be understood that additional types of criteria may be included in an RFP additional values may be specified for each criteria and modules at each grid provider may respond to criteria in different ways.

As illustrated a user interface provides multiple entry fields for a user to enter requirements for a virtual job request to create an RFP . In the example depicted user interface is a window opened by RFP specification controller responsive to a user request to submit the grid job to a grid provider. In another example a client job scheduler may automatically trigger RFP specification controller to open the window in user interface when a job is detected that qualifies for grid submission. Upon a user selection of selectable button through placement and selection of cursor the entries in user interface are stored and maintained for the grid job in an RFP request queue .

As illustrated at reference numeral a job name may be designated for RFP . In the example the job name is DB UPDATE BASE to identify a job requiring a database update. In addition to or as an alternative to a job name a job number as indicated at reference numeral or other identification may be specified by the user entering the RFP or specified automatically by RFP specification controller . As illustrated at reference numeral a grid client may associate a unique number with each grid job to facilitate common reference to a particular grid job during the RFP negotiation process. In the example a job number of is associated with RFP . In addition the grid provider matches the job number of the RFP and response with a grid job received by the grid provider from the grid client.

As illustrated at reference numeral an eligibility for use of capacity on demand CUOD resources may be designated for RFP . In the example the CUOD eligibility is set to no . In one embodiment CUOD resources are resources that are available but currently not active. Both hardware and software resources can be available as capacity on demand resources. A licensing cost may be paid to activate on demand resources. If the client specifies that the grid job is not eligible for CUOD resources then grid vendors will avoid including any available CUOD responses when preparing a response to the RFP. If the client specifies that a grid job is eligible for CUOD resources then each grid vendor may prepare a bid response that includes the additional on demand resources and their cost if the resources are deemed necessary for the grid job. Further in a bid response the grid vendor may specify whether the job will require CUOD resources such that costs for activation of these resources may be specified. Finally in another example when the grid client analyzes bid responses the grid client may filter out those responses from grid providers that do not provide CUOD resources.

As illustrated at reference numeral a job time limit for the grid job may be specified in RFP . In particular a user may specify a time limit by which a job must be performed. When the workload calculation module determines the resources and cost of those resources the time limit may be taken into consideration. For example a job request to perform a particular job in 1 hour may cost more than a job request to perform the same job but in 5 hours.

Another parameter of a job time limit may include the amount of time that a job should be submitted to a grid for a job that typically executes in a primary computing environment. In particular most jobs can execute in a primary environment suspend execution when the primary environment is busy and then upon restart recommence the job from where it left off. According to an advantage of the invention a job may be suspended in its primary environment moved to a grid environment and recommenced and later suspended and returned to the primary environment. Thus the job time limit may specify the amount of time that the job should execute on the grid environment before the job is suspended and returned to a primary environment for execution.

As illustrated at reference numeral a resource limit for the resources allowed for a grid job may be specified in RFP . While some grid providers may charge a client by the time at job takes other grid providers may charge a client by the resources used by the job. When billing by resource usage is implemented clients may preferably specify the type and amount of resources the client is willing to pay for each job considered for submission.

As illustrated at reference numerals and the performance required time period and additional completion criteria may be specified in RFP . In the example the performance of the grid job is required in six hours or less and no additional completion criteria are specified. Examples of additional completion criteria may include however that the job must complete execution within eight hours that the job should be suspended after eight hours of execution time that the job is complete when 10 000 output records have been generated or the job is complete if executed twice and matching results are returned from each execution.

As illustrated at reference numeral a grid alliance requirement for a grid job may be specified in RFP . In particular a grid client may be in a strategic alliance with one or more grid providers where a strategic alliance provides the client will solely use one of the grid providers in the alliance for grid jobs meeting certain criteria. A grid client may designate in the RFP any required grid alliances. Alternatively if the job is one meeting the criteria for an alliance that the client has agreed to then RFP specification controller may automatically fill in the grid alliance requirement in RFP and the client may be limited to submitting the RFP to grid alliance providers.

In one example of a grid alliance grid providers A and B may agree to be the sole sources for a client where the submission of ten or more jobs to grid providers A and B entitles the client to a discounted pricing scheme. When an application at the grid client spawns ten or more jobs then the RFP submission for those ten or more jobs is limited to only grid providers A and B.

As illustrated at reference numeral a job cost limit for a grid job may be specified in RFP . For example a user specifies a job cost limit of 5000.00 in RFP . In particular job cost limits may include a monetary cost a formula or multiple conditioned costs.

As illustrated at reference numeral a software platform class specification may be included in RFP . In particular a grid job may or may not require specific software to execute. Where a grid job does require specific software to execute the software platform class or specific software name is included in the RFP as illustrated at reference numeral . In one example each software platform class may be assigned a standard reference name or number. For example a particular software platform class may be assigned as reference number .

In one example a grid job is attempting to resolve a mathematics problem where any software with necessary calculation capabilities could be used and therefore no software platform class designation is necessary. In another example however a grid job is a complex parallel database query that is written and optimized for a specific software environment where the RFP for the grid job specifies the specific software environment in the software platform class designator.

As illustrated at reference numeral a hardware platform class specification may be included in RFP . In particular a grid job may or may not require a specific hardware platform to execute. Where a grid job does require a specific hardware platform to execute the specific hardware platform class or specific hardware platform name is included in the RFP as illustrated at reference numeral . In one example each hardware platform class may be assigned a standard reference name or number. For example a particular hardware platform class may be assigned as reference number .

In one example a grid job is attempting to resolve a mathematical problem where any hardware platform that supports software containing calculation capabilities could be used and therefore no hardware platform class designation is necessary. In another example however a grid job is a complex parallel database query that is written and optimized for a specific hardware environment. For example a complex database query may be optimized for DB2EEE with a particular problem reporting and resolution scheme APAR1Y77222 applied and executing on ten IBM Power4 processor partitions therefore the RFP would specify the software platform class of DB2EEE with APAR 1Y77222 and the hardware platform class of 10 IBM Power4 processor partitions or reference numerals representing these software and hardware platform classes.

As illustrated at reference numeral a data access and transport mechanism may be specified for a grid job in RFP . In particular many grid jobs will require data which must accompany the grid job for a grid provider to execute a grid job. In one example the client system submits the data to the grid provider with the job to be executed using a tool such as GridFTP which includes Grid protocol extensions to the file transfer protocol FTP . In another example the grid provider accesses the data at a network accessible storage medium using a secure data communication channel such as secure socket layer SSL . Either way the RFP specifies the data access or transport mechanism so that the grid vendor can calculate additional costs associated with the access method selected by the grid client. For example at reference numeral the data transport specified for RFP is gridFTP 

As illustrated at reference numeral a data size for data required for a grid job may be specified in RFP . For example at reference numeral the data size specified is 42000 bytes of data. In particular the data size affects a bid by a grid provider because the data size effects the amount of time required for data access. In addition larger amounts of data require more storage space more processing power and more network bandwidth when the grid provider processes the grid job.

As illustrated at reference numeral security requirements for the hardware software and data transport for a grid job may be specified in RFP . In particular some grids jobs must execute in a trusted and secure environment. In the example the security requirement specified is a secure data channel for data transport. In another example not depicted data protection tools including but not limited to the Grid Security Interface GSI and Web Service security WS Security may be specified and platform security requirements including but not limited to Trusted Computing Base TCB and C2 compliance C2 security is the U.S. National Security Agency criteria for a secure system may be specified.

As illustrated at reference numeral the latency requirements of a grid job may be specified in RFP . In one example a latency requirement specifies the amount of time allowed for returning results of a grid job to a user interface. For example a grid job may require interaction with end users with an expectation of sub second responses to the user interface.

As illustrated at reference numeral a service level agreement may be specified for a grid job in RFP . In particular the quality of service QOS expectations of a grid client for grid jobs are documented in a service level agreement SLA . As will be understood a SLA may specify general service expectations for all grid jobs of a grid client or for all grid jobs of a particular type of a grid client. In one example a grid client formulates all the service expectations in an SLA. In another embodiment a grid vendor may specify some or all of the service expectations in an SLA. Further a grid provider or group of grid providers may agree to the SLA for grid jobs submitted by a particular grid client or group of grid clients. In the example RFP does not include a specified SLA as indicated at reference numeral . In alternate embodiments however a SLA may be attached to RFP or referenced by a document number or other form name.

As illustrated at reference numeral an estimated runtime for a job may be specified in RFP . In particular the grid client may have estimates of the estimated job runtime based on previous executions of the same or similar jobs which are specified in RFP as indicated at reference numeral . Even if grid client does not have estimates of a job runtime an expected job runtime may be designated so that the grid vendor may more accurately estimate the workload expectations for a grid job.

As illustrated at reference numeral a sell off policy for the grid job may be specified in RFP . In particular a sell off policy indicates whether the grid job can be sold by the winning grid vendor to another grid vendor. In the example as depicted at reference numeral sell off is not permitted.

As illustrated at reference numeral an RFP response time for responding to the RFP may be specified in RFP . In particular the grid client may specify the deadline for grid providers to return bid responses to the RFP. The deadline may include additional time for negotiation and resubmission or may require a quick spot market price for more urgent jobs. In the example as depicted at reference numeral the RFP response time is less than or equal to two hours. It will be understood that response times may be specified by a particular time limit formula or conditional time limits.

As illustrated at reference numeral a job priority for a particular grid job may be specified in RFP . In particular a user may specify a job priority for each grid job when the grid client is planning to submit multiple jobs simultaneously. The job priority would indicate the priority of each grid job. The grid provider may use the job priority indicator such as the job priority of 1 as indicated at reference numeral to determine an order to execute grid jobs when grid resources are insufficient or other condition occurs where job priority affects job performance.

As illustrated at reference numeral RFP may include a sample job here referred to as microcosm A . A grid provider receiving RFP with a sample job may decide to run the grid job in the grid environment and retrieve a result to determine the actual workload requirements for the sample job the actual cost and the actual performance of the grid environment in processing the grid job. In one example the sample job may also indicate the size of the sample job in comparison the size of the grid job described by RFP such that the grid provider can estimate total workload cost and performance based on the estimated percentage of the total that the sample job represents.

With reference now to there is depicted a block diagram of one embodiment of a bid controller in accordance with the method system and program of the present invention. As depicted bid controller includes a job request parser . RFP parser receives each virtual job request in the form of an RFP and may hold the RFP in a queue until processing can be performed. In addition RFP parser may translate values specified by a user in the virtual job request into a unit specified for use in workload calculations.

Bid controller may access a resource database includes a listing of each resource available within the grid environment of a grid provider. In particular for each resource listing resource database may further specify the type of resource which clients have access to the resource the resource performance specifications and the resource platform characteristics. In addition resource database may include a listing of resources available to the grid environment of a grid provider from outside the grid environment.

An available resource selector may filter through the available resource database to determine which resources are available as required by an RFP and whether sufficient resources are available as required by the RFP. Alternatively resource selector may query a management module which manages the available resources for a grid provider.

In particular resource selector determines whether the resources required for the grid hardware platform specified in the RFP is available. If the specified grid hardware platform is not available then resource selector determines whether the RFP allows sell off. If the RFP allows sell off then resource selector continues to determine whether the other RFP criteria can be met by the grid vendor with a sell off of the grid job to access a hardware platform from another grid vendor. If the RFP does not allow sell off then resource selector may return a no bid for the RFP.

Continuing resource selector determines whether the resources required for the grid software platform specified in the RFP is available. If the software platform is available then resource selector continues to determine whether the other RFP criteria can be met by the grid vendor. Otherwise if the grid software platform specified in the RFP is not available then resource selector may check whether other grid environments or on demand software resource providers are available to provide the software platform if allowed by the RFP or return a no bid for the RFP.

Resource selector also determines whether there are sufficient resources available for the required data access or transport mechanism for the data size with the security required. If there are not sufficient resources for the required bandwidth resource selector may check other grids for the required bandwidth if allowed by the RFP or return a no bid.

Based on the available resources for the hardware platform software platform and data access required a workload calculator module next calculates a load factor for the bid request. A total workload calculator may calculate a total workload required for the job specified by the virtual job request. In particular total workload calculator may determine a total resource requirement and time requirement for an RFP. As will be further described with reference to the total resource requirement may specify the total amount of hardware software or network resources for example needed for completion of a job. The total time requirement may specify the time available for executing the job within the grid environment the time available for accessing data required for the job and the time available for returning a result of the job from the grid environment to a client system for example. In addition total workload calculator may determine other parameters that describe the total workload from additional values specified in a virtual job request.

A capacity calculator compares the total workload required for a virtual job request with the resources available for the virtual job request and determines the capacity of the grid environment to handle the job specified by the virtual job request. In particular capacity calculator may determine whether the grid environment can meet the resource and latency requirements. If the resource and latency requirements of the virtual job request can be met within the grid environment then capacity controller determines a total workload factor that can be used by a cost calculator to determine a cost for workload requirement. The workload factor may also indicate the estimated performance available for the job.

The cost calculator calculates a total cost based on workload factor as limited by the the cost limits specified in the RFP. In addition the total cost is affected by special pricing specified in the RFP available for use of off peak times or agreed to as part of a grid alliance. In one example U.S. patent application Ser. No. 11 031 489hereby incorporated herein by reference describes cost calculator .

A bid formalizer formalizes retrieves the workload factor cost and performs additional comparisons of an RFP to the availability of a grid provider to formalize a bid response to the grid client. In some cases if the grid environment cannot meet the specific requirements of the virtual job request but could meet a selection of the virtual job request requirements then the estimated performance available may indicate the deviation from the virtual job request requirements. For example if the RFP does not allow CUOD eligibility but use of CUOD resources would allow the grid vendor to meet other performance requirements for the grid job then the bid response may include an exception to the CUOD requirement. In another example if the RFP specifies a price limit that is not met by the cost calculation then the bid response may include an exception to the price limit.

In addition bid controller may include a sample controller that controls the performance of grid microcosms received as a sample attachment to an RFP. As previously described with reference to a grid provider may process a grid microcosm and return the results to the client such that the client may then compare the relative costs of grid providers. According to another advantage sample controller processes sample grid microcosms received with an RFP as described with reference to and forwards the actual workload use to resource selector the actual workload to workload calculator and capacity calculator and the actual cost to cost calculator . Based on the actual resource usage from processing a sample of a grid job that represents a particular percentage of a total grid job resource selector selects available resources for a total grid job workload calculator and capacity calculator calculate the load factor for the total grid job and cost calculator calculate the total cost for the total grid job using actual metrics measured for a sample of the grid job.

With reference now to there is depicted an illustrative example of calculations performed within the resource selector and workload calculator based on a virtual job request in accordance with the method system and program of the present invention. As depicted a received RFP includes multiple criteria designated for specifying the performance requirements for completing a grid job associated with the virtual job request. A table indicated at reference numeral includes multiple entries that describe calculations that resource selector and workload calculator may perform based on the values in received RFP . It is important to note that while the following description broadly references steps performed by workload calculator the sub calculators within the workload calculator may actually perform one or more of the calculations and evaluations described. Further it will be understood that the values depicted in received RFP are illustrative of the types of values that may be included in a virtual job request for enabling bid controller to automatically determine the workload and cost associated with performing a requested job. In addition it will be understood that the functions depicted in the table indicated at reference numeral are merely illustrative examples of the types of functions that may be performed by resource selector and workload calculator .

As illustrated at reference numeral a job time limit may be specified that indicates the total time for completion of a job or a specific time by which a job must be completed for example. The workload calculator may use the job time limit to determine whether or not the grid environment has the capacity in the form of the necessary quantity and type of resources needed to execute the job in the time specified in the job time limit. In particular as indicated in table the workload calculator may first estimate the total time required to perform the job within the grid environment TIMEtotal and then compare that estimated total time with the job time limit specified at reference numeral . In estimating the total time required to perform the job within the grid environment the total workload WORKLOADtotal required may first be calculated. Then to calculate the total time required to perform the job the total workload required may be divided by the total resources RESOURCEtotal available to handle the workload. If the total time required for performance of the job is greater than or equal to the job time limit than an error is returned indicating that the job cannot be processed within the job time limit. It is important to note that the total resources available may be constrained by other settings in received RFP such as whether capacity on demand resources may be used or whether resource limits within the grid environment are imposed.

As depicted at reference numeral a capacity on demand CUOD eligibility may be specified indicates whether CUOD resources available to the grid environment can be accessed to perform the job. Further the CUOD eligibility may specify a limit and type of CUOD resources eligible to execute the job. The workload calculator may check the CUOD eligibility if the workload calculator determines that the current grid capacity is not sufficient to run the job and in determining the resources available for the virtual job request. In one example as depicted at reference numeral if the workload calculator determines that more resources are needed to perform the job then the workload calculator looks to see if CUOD eligibility is set to yes and if so adds the available CUOD resources RESOURCEcuod to the grid resources RESOURCEbase to calculate the total available resources to perform the job RESOURCEtotal .

As illustrated at reference numeral a resource limit may specify whether there is a limit on the available resources that can be used to perform a job. The workload calculator may check the resource limit value to set the total resources available for handling a job. In particular as depicted at reference numeral if resource limit is set then the total resources available RESOURCEtotal is set to the resource limit .

As illustrated at reference numeral a job completion requirement value may be specified that indicates additional requirements for completing a job. For example if a job is for a database and completion of the job requires output in the form of a new data mart transferred to a client system then the job completion requirements may specify the time required for return of the data mart to the client system. Thus as illustrated at reference numeral the workload calculator may use the job completion requirements TIMEcomplete of additional time requirements storage requirements processing requirements and network bandwidth requirements to specify the total time TIMEtotal required to complete a job in addition to the time calculated to complete the job itself within the grid environment TIMEjob . Further the workload calculator may return an error if the total time required for completion of the job is greater than the time limit.

As depicted at reference numeral a software platform class may specify the software platform class of a job. In one example software platform classes may be specified by defined numbers. For example an interactive software class may be specified as SW2 and a web hosting application may be specified as SW3. In general the workload calculator may use the specified software platform class to determine the likely application characteristics of the job. More specifically as depicted at reference numeral the resource selector and workload calculator may use the defined software platform class to determine whether the grid environment has hardware to support the software class. In particular it is important for the workload calculator to determine whether the job is a batch or interactive because various hardware platforms vary in suitability for software platform types. For example a zSeries processor may be more efficient for interactive jobs whereas a pSeries processor may be more efficient for web hosting applications. zSeries and pSeries are registered trademarks of International Business Machines Corporation .

As illustrated at reference numeral a hardware platform class may specify the hardware platform class of a job. In one example hardware platform classes may be specified by defined numbers. In general the workload calculator may use the hardware platform class value to determine which grid hardware is available for the job and the throughput characteristics of the hardware type required for the job. More specifically as depicted at reference numeral the resource selector and workload calculator may use the defined hardware platform class to determine whether the preferred hardware platform class is available in the grid environment. If a hardware platform class is not specified at reference numeral then the workload calculation module may attempt to select the most efficient hardware class based on other specified job characteristics. For example if a database application is run for a job and the grid contains preconfigured pSeries 650 nodes running the database application then the pSeries 650 nodes would be the preferred hardware.

As depicted at reference numeral a data access and transport mechanism value may specify the movement of or access to data that is required for a job. The resource selector and workload calculator may use the data access and transport mechanism value with the data size to determine the time and resources associated with any necessary movement of or access to data. For example as depicted at reference numeral the RFP may specify in the data access and transport mechanism that the grid manager acquire data from the client using the GridFTP application. The resource selector and workload calculator then evaluates the time and resources required to acquire data from the client using the GridFTP application taking into account the application transfer rates in conjunction with the data size and hardware throughput.

As illustrated at reference numeral a data size may be specified for a job. The resource selector and workload calculator may use the data size in calculating the resources required and time required for the data access specified at reference numeral as described in the example depicted at reference numeral . In one example if no value is specified for the data size then the workload calculator may assume that no data transfer is required for the execution of the job.

As depicted at reference numeral a performance and latency requirement may be specified that indicates the performance and latency requirements for a job. As depicted at reference numeral the workload calculator may use the performance and latency requirement along with other values to determine the resource commitment required for a job. For example a job with no specific performance requirements may require fewer resources in quantity and relative power than an interactive job requiring a response to users in under a second. In another example if a latency value is specified at reference numeral then the latency value is compared with specifications of the hardware platform available within the grid environment. More specifically industry standards such as Standard Performance Evaluation Corporation Integer SPECint or SPEC floating point SPECfp can be compared with the latency value or calculations could be made based on other combined RFP submission data such as hardware platform class or job completion limits.

In addition as depicted at reference numeral a grid sell off indicator may be specified to indicate whether the resource selector and workload calculator can consider use of resources outside the grid environment to meet the requirements for the job as depicted at reference numeral . In one example if a client does wants a single grid resource vendor to be responsible for data security and job results the client may not enable a grid sell off.

With reference now to a block diagram illustrates an RFP response generated by a grid provider in response to an RFP. As illustrated an automated RFP response includes an indication of a grid provider s ability and agreement to handle a grid job described by an RFP. In particular as illustrated at reference numeral RFP response includes the name of the respondent grid provider where in the example the respondent is IBM Grid . In addition as illustrated at reference numeral RFP response includes the job number as specified in the RFP. Next as depicted at reference numeral RFP response includes the estimated runtime of 4.6 hours and at reference numeral the estimated job cost of 4600.00. Additionally the grid provider may specify an expiration date and time for RFP response as illustrated at reference numeral .

In addition as previously described an RFP response may include exceptions to the RFP criteria. In the example as illustrated at reference numeral RFP response includes the exception of an actual latency LATENCYACTUAL that is greater than the latency limit LATENCYLIMIT . Further RFP response includes comments as illustrated at reference numeral that indicate additional negotiation points and recommendations for a grid client to adjust an RFP during a re negotiation process.

According to an advantage bid formalizer may formalize a bid response such as RFP response with only the minimal information required for a grid provider to respond to an RFP. In particular it is advantageous for bid formalizer to avoid needing to include a response to each criteria of an RFP. Further in particular it is advantageous for bid formalizer to minimize the information in RFP response to reduce data flow required from a grid provider and to minimize the data flow in to a grid client. In one example of response minimization if an RFP specifies that sell off is not permitted then the RFP response need not indicate that the grid provider would not sell off the grid job however the RFP response may include an exception requiring sell off or a comment suggestion enabling sell off eligibility as a way to increase performance or decrease cost for a grid job.

It is important to note that when a user includes a sample of the grid job with an RFP the response to the RFP may need to indicate whether the grid provider actually ran the sample to calculate the price and performance in the response or whether the price and performance are based on estimations. In addition it is important to note that when a user includes a sample of a grid job a grid provider may return a response include the sample results.

Referring now to there is illustrated a high level logic flowchart of a process and program for managing responses to RFP requests in a grid environment. As depicted the process performed by a bid controller for a grid provider starts at block and thereafter proceeds to block . Block depicts a determination by the bid controller as to whether an RFP is received. If an RFP is not received then the process iterates at block . If a virtual RFP is received then the process passes to block .

Block depicts a determination by the bid controller as to whether the job is a repeat of a previously submitted job. If the job is a repeat of a previously submitted job then the process passes to block . Block depicts returning the current price for the job workload based on the previously determined price for the job workload and the process ends. Alternatively at block if the job is not a repeat of a previously submitted job then the process passes to block .

Block depicts a determination whether a job sample such as a microcosm is included with an RFP. If a job sample is included then the process passes to block . Block depicts passing the job sample to the grid scheduler to execute the job sample. Next block depicts a determination whether the metered results for the job sample are available. Once the metered results for the job sample are available then the process passes to block . In particular the metered results may include actual workload actual cost and actual performance of the job sample within the grid environment for the grid provider. In particular where the sample represents a percentage of a total grid job the metered results are accessed during the other steps of the process to calculate cost and performance based on the actual metered results of processing a sample of the grid job.

Block depicts a determination by the bid controller as to whether the required grid hardware platform is available. If the required grid hardware platform is available then the process passes to block . Otherwise if the required grid hardware platform is not available then the process passes to block . Block depicts a determination by the bid controller whether a sell off is permitted. If a sell off is not permitted then the process passes to block . Block depicts the bid controller returning a no bid and the process ends. In particular a no bid may identify the grid provider the job number and a non acceptable indicator. Alternatively at block if a sell off is not permitted then the process passes to block .

Block depicts a determination by the bid controller whether the required grid software platform is available. If the required software platform is not available then the process passes to block . Block depicts the bid controller checking the other grid providers for software platform availability or returning a no bid and the process ends. In one example the bid controller may only check the other grid providers for software platform availability if the RFP allows sell off. Otherwise at block if the required grid software platform is available then the process passes to block .

Block depicts a determination by the bid controller whether the required bandwidth for storage for the specified data size is available. If the required bandwidth is not available then the process passes to block . If the required bandwidth is available then the process passes to block .

Block depicts the bid controller sending the RFP workload constraints to the workload calculation module. In one example the RFP workload constraints include the CUOD eligibility job time limits job resource limits performance required latency required data size and data transport required. Next block depicts a determination by the bid controller whether the load factor is received from the workload calculation module. If the load factor is not yet received then the process iterates at block . When the load factor is received then the process passes to block . In particular a load factor may include the amount of resources required for a job the time period that grid resources will be used the type of calculations that will be required to be performed by grid resources and other indicators of the load that a grid job would have on grid resources according to the metric unit used by the grid provider for estimating resource usage. In particular a grid provider may define a custom formula for calculating a load factor that takes into account hourly usage resources dedicated to a grid job data accesses and other requirements of a grid job.

Block depicts the bid controller sending the RFP pricing constraints and load factor to the cost calculation module. In one example the RFP pricing constraints include the cost limits special pricing and grid alliances. Block depicts a determination by the bid controller whether the cost calculation is received. If the cost calculation is not yet received then the process iterates at block . If the cost calculation is received then the process passes to block . In particular the cost calculation module calculates the cost for the load factor as adjusted by any special pricing for grid alliances or bulk grid job submissions. In particular a grid provider may maintain cost metrics that enable the cost calculation module to adjust a cost for a particular load factor based on the time of day the type of grid job the identity of the grid client and other factors that influence cost.

Block depicts a determination by the bid controller whether the cost calculation is equal to or less than the cost limit specified in the RFP. If the cost calculation is not equal to or less than the limit then the process passes to block . Block depicts the bid controller checking other grids if the RFP allows sell off or returning a no bid and the process ends. Alternatively at block if the cost calculation is equal to or less than the limit then the process passes to block .

Block depicts a determination by the bid controller whether the cost calculation is equal to or less than the estimate. If the cost calculation is not equal to or less than the estimate then the process passes to block . Block depicts the bid controller responding to the RFP with the price and the process ends. Alternatively at block if the cost calculation is not equal to or less than the estimate then the process passes to block . Block depicts the bid controller responding to the RFP with the price and comments suggesting adjustments to the RFP to achieve the cost limit or exceptions to the RFP that would enable the grid provider to meet the cost limit and the process ends.

Referring now to a high level logic flowchart depicts a process and program for controlling submission of an RFP to grid providers and processing bid responses in accordance with a method system and program of the present invention. As illustrated the process performed by a grid client agent starts at block and thereafter proceeds to block . Block depicts completing and storing a grid job RFP and the process passes to block . In particular as previously described the RFP specification controller may trigger a user to complete and store an RFP responsive to the job qualifying for the cost associated with grid submission.

Next block depicts scheduling the job for local execution. Thereafter block illustrates a determination whether to submit the job to an external grid provider. If a determination is made not to submit the job to the external grid provider then the process passes to block . Block depicts executing the job in a local grid or set of resources and the process ends.

Returning block if a determination is made to submit the job to the external grid provider then the process passes to block . Block illustrates a determination whether the job is associated with a grid alliance. If the job is associated with a grid alliance then the process passes to block . Block depicts submitting the RFP to grid alliance partners and the process passes to block . Otherwise at block if the job is not associated with a grid alliance then the process passes to block . Block depicts submitting the RFP to selected grid vendors as specified in the RFP or selected based on grid provider ratings and the process passes to block .

Block depicts a determination whether RFP responses are received prior to a deadline. If RFP responses are not received prior to a deadline then the process passes to block . Block illustrates alerting an administrator to the lack of responses received and the process ends. Otherwise at block if RFP responses are received prior to the deadline then the process passes to block .

Block depicts a determination whether the submission criteria is satisfied in the responses. If the submission criteria are not satisfied in the responses then the process passes to block and the administrator is alerted to the disparity between submission criteria and responses and the process ends. Alternatively the RFP exception manager may attempt to renegotiate the RFPs with the grid providers with the exceptions or comments included in the responses. Otherwise at block if the submission criteria are satisfied in the responses then the process passes to block .

Block depicts a determination whether multiple responses are available in which the submission criteria is satisfied. If multiple responses are not available then the process passes to block . Block depicts submitting the job to the single grid provider with the response in which the submission criteria are satisfied and the process ends. If multiple responses are available then the process passes to block . Block depicts submitting the multiple available responses to the grid analyzer for analysis as described with reference to and the process ends.

With reference now to there is depicted a high level logic flowchart of a process and program for analyzing bids. As depicted the process performed by a response analyzer for a grid client starts at block and thereafter proceeds to block . Block depicts a determination whether multiple grid RFP responses are received for job X. If multiple responses are not received then the process iterates at block . If multiple responses are received then the process passes to block . In particular in one example the process described by is invoked by the process of determining that multiple RFP responses are received that meet submission criteria.

Block depicts a determination whether there are any exceptions in the responses. If there are not exceptions then the process passes to block . If there are exceptions then the process passes to block . Block depicts submitting the exception to the RFP exception manager. Next block depicts a determination whether the exception is resolved. If the exception is resolved then the process passes to block . If the exception is not resolved then the process passes to block . Block depicts alerting the administrator and disqualifying the RFP response with the exception and the process ends.

Block depicts analyzing the response pricing. Next block depicts excluding all RFP responses which are 25 or greater more than the low cost bid and the process passes to block . It will be understood that the percentage of 25 and other percentages used to reduce the number of eligible responses are merely examples and may vary from grid client to grid client.

Block depicts a determination whether there are multiple RFP responses remaining. If there are not multiple responses remaining then the process passes to block . Block depicts processing the preferred vendor as the winning response and the process passes to block . Block depicts submitting the job to the grid provider with the winning response and the process ends. Otherwise at block if there are multiple RFP responses remaining then the process passes to block . Block depicts a determination whether there is a preferred vendor remaining. If there is a preferred vendor remaining then the process passes to block . If there is not a preferred vendor remaining then the process passes to block .

Block depicts selecting responses within 14 of the low cost bid. Next block depicts a determination whether there are multiple responses remaining. If there are not multiple responses remaining then the process passes to block . Block depicts processing the low cost response as the winning bid and the process passes to block . Otherwise at block if there are multiple responses remaining then the process passes to block . Block depicts analyzing the estimated job runtime. Next block depicts processing the fastest runtime response as the winning bid and the process passes to block . It will be understood that in addition to cost and runtime other factors included in bid responses may be considered and used to select the winning response.

While the invention has been particularly shown and described with reference to a preferred embodiment it will be understood by those skilled in the art that various changes in form and detail may be made therein without departing from the spirit and scope of the invention.

