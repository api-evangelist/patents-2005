---

title: Softrouter feature server
abstract: A network architecture includes one or more feature servers and control servers in a control plane that is logically separate from a data plane that includes forwarding elements. Feature servers facilitate adding network-based functionality in a centralized way that is has better scalability than the traditional router architecture. Some examples of network-based functionality are voice over IP, enhancing QoS support, scaling BGP route reflectors, network-based VPN support, scaling mobile IP support, introducing IPv6 into existing and future networks, and enhancing end-to-end network security. Feature servers remove complexity from routers, allow functions to be implemented on a standard-off-the-shelf server platform, facilitate easy introduction of value-added functions, and scale well.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08996722&OS=08996722&RS=08996722
owner: Alcatel Lucent
number: 08996722
owner_city: Boulogne-Billancourt
owner_country: FR
publication_date: 20050608
---
The present application claims the benefit of provisional application No. 60 623 885 entitled SoftRouter Router Disaggregation filed Nov. 1 2004. In addition the present application is related to copending application Ser. No. 11 147 642 entitled SoftRouter Ser. No. 11 147 472 entitled SoftRouter Protocol Disaggregation Ser. No. 11 147 665 entitled SoftRouter Protocol Failovers Ser. No. 11 147 937 entitled SoftRouter Separate Control Network Ser. No. 11 147 491 entitled SoftRouter Dynamic Binding Protocol which were filed on the same date as the present application Jun. 8 2005. The provisional and related applications are incorporated herein by reference in their entireties.

The present invention relates generally to the field of networking and in particular relates to feature servers and networking applications.

Internet protocol IP provides end to end datagram delivery service to protocols and applications and can use any link layer technology that delivers packets. illustrates the problem of emerging applications driving more functions to IP expanding the waist of the hour glass. These emerging applications include email www phone simple mail transfer protocol SMTP hypertext transfer protocol HTTP real time protocol RTP transmission control protocol TCP user datagram protocol UDP and other protocols which involve quality of service QoS multicast mobility security virtual private network VPN and other features and are transported using Ethernet point to point protocol PPP carrier sense multiple access CSMA asynchronous transfer mode ATM synchronous optical network SONET and other protocols over copper fiber radio and other physical transport means. Conventional routers try to incorporate all of the new IP functions into routers resulting in duplication of complex functions in multiple routers of a network. This also increases capital and operational expenses.

The demand for new features such as VPN exceeds or will soon exceed the scalability allowed in conventional networks. Emerging applications such as voice over IP VOIP and IP video are putting more stringent requirements e.g. reliability on conventional networks. There is a need for disaggregation of router hardware from router software using open standards based protocols for internetworking.

Various deficiencies of the prior art are addressed by the present invention of feature servers in an exemplary SoftRouter architecture which has many embodiments.

One embodiment is a network architecture including a plurality of forwarding elements FEs at least one control element CE and at least one feature server FS . The FEs forward packets. The CE is in communication with at least a portion of the FEs for controlling and providing routing information to the FEs. The FS implements at least one application and is in communication with the FEs and CE. The CE and FS are logically separate from the FEs.

Another embodiment is a network architecture including a data plane and a control plane. The data plane includes a plurality of forwarding elements FEs for packet forwarding. There is at least one control element CE for configuring controlling and providing routing information to the FEs via a standard protocol. The CE is dynamically bound to the FEs. There is at least one feature server FS for adding network based functionality. The control plane is logically separate from the data plane. The control plane includes the CE and FS.

Yet another embodiment is a network architecture including at least one control element CE and at least one feature server FS . The CE controls and provides routing information to a plurality of forwarding elements FEs . The FEs forward packets. The FS implements at least one application and is in communication with the FEs and CE. The CE and FS are logically separate from the FEs.

A further embodiment is a network architecture including a plurality of forwarding elements FEs and at least one feature server FS . The FEs forward packets. Each FE is controlled by and receives routing information from at least one control element CE . The FS implements at least one application and is in communication with the FEs and CE. The CE and FS are logically separate from the FEs.

The invention will be primarily described within the general context of an embodiment of an exemplary SoftRouter architecture however those skilled in the art and informed by the teachings herein will realize that the disaggregation concept may be used to generate various other embodiments of network architectures and that the invention is applicable to local area networks LANs metropolitan area networks MANs wide area networks WANs and other networks many open systems interconnection OSI layers gateway protocols serial line protocols protocol stack routing and bridging protocols many other protocols traffic management optical edge core routing wireless cable data centers fault management configuration management accounting management performance management security management other network management enterprise government military applications and many other different kinds of networking characteristics and applications.

IP is becoming the universal protocol for transport datagrams. Most applications ride on top of IP and IP can be implemented over many diverse link layer technologies.

Traditionally the main function of the IP layer is packet forwarding. That is when a packet is received at a router the destination address in the IP packet is matched against a local forwarding table this yields the output port to which the IP packet should be delivered. The entries in this local forwarding table are maintained by running some form of routing protocols. In the exemplary SoftRouter architecture the routing protocols need not be run locally at the router rather they can be run remotely on CEs and the changes in the entries can be communicated using some form of standardized protocols. This separation of forwarding and control allows the FEs to stay simple while most of the intelligence and complexity is moved to the CEs.

As IP matures and grows more and more features are being added to the IP layer. Some examples include multicast security IPSec monitoring accounting mobile IP and VPN. Each of these feature additions typically requires additions to both the forwarding and control elements. For example IP multicast requires an additional multicast forwarding table on the forwarding path and the use of new multicast routing protocols such as protocol independent multicast PIM for control.

In the exemplary SoftRouter architecture additions to the IP layer mean addition of functions to a router as both forwarding and control are implemented in the same box. The feature server FS follows the basic disaggregation idea as discussed with respect to the exemplary SoftRouter architecture with one difference being that instead of disaggregating basic control the FS is concerned with disaggregating the control as associated with the more advanced value added features. The separation here is logical. That is there is a well defined interface between the different entities FE CE and FS.

This interface can be implemented in many ways. For example if an implementation integrates the FE and FS in the same physical platform the interface can be implemented via a local inter process communication or even a function call if they are physically on the same processor . Or if an implementation physically disaggregates the FS in a remote physical box from the FE then the interface can be implemented via a communication protocol.

In the exemplary SoftRouter architecture disaggregation of router hardware from router software using open standards based protocols for internetworking has many benefits. The disaggregation concept decouples suppliers for each component which lowers barriers to entry for hardware vendors and encourages independent software vendors ISVs to invest in developing carrier class routing software to supply new hardware market entrants. This disaggregation concept allows each component to focus on its own innovation curve. Hardware manufacturers can focus on the highest speeds per density at the lowest costs decreasing capital expenditures and software manufacturers can focus on new applications and manageability increasing revenue while decreasing operating expenses.

An exemplary embodiment of an exemplary SoftRouter architecture is an approach to disaggregating the complex IP functions demanded by emerging applications. SoftRouter centralizes and allows sharing of complexity. SoftRouter enables scalable introduction of new functions without unduly encumbering IP forwarding functions.

By contrast shows a high level abstraction of this exemplary SoftRouter architecture that disaggregates the control and transport planes in separate hardware that communicate using standard protocols. The SoftRouter architecture has a control element and features server component and a packet forwarding element component that communicate using a standards based protocol .

A FS facilitates adding optional network based functionality to an embodiment of the SoftRouter architecture in ways that scale better than the traditional router architectures. A FS may have an application programming interface API allowing network based functionality to be created by others. Some examples of network based functionality include QoS support scaling BGP route reflectors network based VPN support scaling mobile IP support introducing IPv6 into existing and future networks end to end network security and network monitoring metering . Network based functionality adds value to embodiments. Some allow service providers to charge fees for providing an optional service such as QoS and security. The FS hosts one or more applications of network based functionality and the applications may be activated at a particular time. Because the FS is centralized in the exemplary SoftRouter architecture the FS is able to provide an application for a number of users clients enterprises and the like. For example a FS may host a particular service that enterprise A uses but enterprise B does not use. A FS may host a particular service that many enterprises use but it only needs to be installed once at the FS and not for each enterprise. Unlike the traditional router architecture the FS is not in each of the forwarding elements but is in a control plane in the exemplary SoftRouter architecture.

There are many benefits to customers including lower costs new revenue opportunities better scalability added reliability and increased security. Lower costs come from commoditized standards based hardware with a lower capital expense and dedicated control plane servers implying fewer management points and a lower operational expense. There are new revenue opportunities because network based applications to support new services that are more easily added using open application programming interfaces APIs and incremental deployment is made simpler through centralized management. There is better scalability because centralized control plane servers are easier to scale using well established server scaling techniques. There is added reliability because forwarding elements are more robust due to reduced software and other reliability enhancing mechanisms e.g. failover and overload control that are easier to implement in the server based control plane. There is increased security because the centralized control plane servers are easier to secure using perimeter defense systems e.g. firewalls.

The FSs are not necessarily the same. Each FS may be implementing different applications. The operation of a FS may include interaction with one or more of FEs CEs and other FSs .

A FS may interact with a FE . In one scenario the FE collects information from the forwarding path and sends the information to the FS for processing. Examples of such information include protocol packets that are received the FE or local information e.g. packet count gathered by the FE . Based on the result of its processing a FS can also send a command to a FE to affect its action. For example in a security application the FS installs a packet filter on the FE so that packets matching the packet filer criteria are dropped.

A FS may interact with a CE . For example a FS that is performing traffic engineering for a domain needs to have information about the routing topology of the network. In the exemplary SoftRouter architecture the routing topology is maintained by CEs . In the reverse direction if a FS decides to change certain routes based on traffic engineering considerations the FS notifies a CE of the route changes which in turn propagates the route changes down to the FEs .

A FS may interact with another FS in the same domain or in a different domain. Depending on the applications multiple FSs in the same domain may need to work together. The relationship between the FSs varies depending on the application. For some applications the FSs may work as peers in a completely distributed fashion and for some other applications the FSs may work in a master slave relationship where a particular FS acts as the master for the whole group. An application where a peer relationship exists between FSs is a security monitoring. Each FS controls a number of FEs that have firewall capability and all FSs cooperate to implement the control for the aggregate distributed firewall. Specifically any traffic deemed undesirable is blocked in firewalls and the control is propagated through the distributed set of FSs . An application where a master slave relationship exists between FSs is traffic engineering. A number of FSs serve to collect the current traffic usage information but there is only a single path computation element the master FS that decides which changes to make.

Inter domain FSs interactions also vary depending on the application but typically the FS interaction is more of the peer to peer nature. One use of inter domain FS interaction is to implement a value added protocol that has been agreed on by a confederation of service providers domains . In this way a new feature is deployed incrementally first among only a small set of providers. New providers join in by simply deploying the needed feature on its FS . An example of this is specialized routing for selected applications. For example if a confederation of service providers agrees to specialized routing performed for VOIP traffic for voice quality reasons then the service providers deploy the new VOIP traffic routing protocol on their respective FSs . The FSs then cooperate among themselves to compute the best route for VOIP traffic.

Another exemplary embodiment of the SoftRouter architecture includes FEs for switching a SoftRouter having CEs for layer control and FSs and applications for VPN and other application support. This exemplary SoftRouter architecture has many applications including IP routing and data over optical such as voice over IP VOIP and IP video.

In the enterprise network there is enterprise data access for a number of computers via a router at digital signal level 1 DS0 digital signal level 1 DS1 digital signal level 3 DS3 . There is enterprise voice for a number of telephones via a private branch exchange PBX switchboard at DS0 DS1. The router and PBX switchboard are connected to the SONET SDH metro network .

In the enterprise network there is another Ethernet switch route and router connecting more computers and telephones with VOIP device . The router and VOIP device are also connected to the SONET SDH metro network .

In the SONET SDH metro network there is time division multiplexing TDM of voice from the enterprise network over a network of FEs which are connected to a SoftRouter having CEs and or FSs . The SONET SDH metro network is connected to POP IP services .

In the POP IP services there is a network of core routers . The POP IP services are connected to the SONET WDM core network .

In the SONET WDM core network there is high order circuit switching synchronous transport signal level 1 STS 1 to a core optical network .

Some embodiments of this data over optical application include Ethernet interfaces and switching and provisioned multiprotocol label switching MPLS for pseudo wire emulation PWE .

There are many benefits of this data over optical application of the exemplary SoftRouter architecture including lower management cost more robust control plane and higher element reliability. This is because the control plane software is located in POPs not distributed info individual optical boxes. This application allows incremental deployment of data capability. Control servers can be incrementally deployed as data capability is incrementally added.

An embodiment of the exemplary SoftRouter architecture uses SoftRouter protocol and other protocols among the different SoftRouter elements. If the SoftRouter protocol becomes standardized vendors can produce commoditized FEs or open their existing boxes to support the SoftRouter protocol. ISVs can produce software for incorporation into CEs and FSs . An ecosystem of FEs CEs and FSs can be created to allow service providers to mix and match network elements.

FSs can provide many different network based functions and services to next generation networks. For example enhancing QoS support scaling BGP route reflectors network based VPN support scaling mobile IP support introducing IPv6 into existing and future networks and enhancing end to end network security.

The exemplary SoftRouter architecture shown in has many benefits for QoS and traffic engineering TE . TE needs accurate link state monitoring. TE and QoS routing computations are more computationally intensive than the shortest path computations of OSPF. The computational needs for QoS and TE are easier to meet with a server based implementation. The server based implementation is within the framework of a distributed IP routing model but more efficient QoS routing is enabled due to scalable processing power. QoS guarantees will be needed for VOIP. Disaggregated architecture within a QoS and TE server is able to meet this need.

When TE is being performed the CE computes basic routes e.g. shortest path based on hop count for FEs the FS gathers information about FEs e.g. receiving information about the current topology of the network s from the CEs and determines traffic conditions at each link and then the FS re computes QoS routes for select traffic based on actual traffic conditions and passes the QoS routing information to the FEs . Typically not all traffic requires QoS so the FS usually computes QoS routes only for select traffic QoS sensitive traffic such as VOIP calls where voice samples need to be sent within a very short period of time. Given the routing information each FE determines which traffic needs a QoS route from the FS and which traffic needs a basic route from the CE .

Route reflectors are used to handle scalability problems due to a large number of BGP sessions. The server based implementation shown in has benefits of attack resilience higher processing capacities easier handling of higher loads caused by BGP MPLS VPNs and is an extension of route reflector architecture. The FS can also be used as a BGP service assurance platform providing connectivity assurance privacy assurance and overload detection and control.

The concept of FSs allows the VPN support to be hosted on a FS as opposed to VPN support being in each traditional router . Using FSs in the exemplary SoftRouter architecture scales better because the FS is centralized allowing it to manage resources better. Centralizing logic such as VPN support in only a few places also reduces complexity and saves time installing maintaining etc. the logic.

There are two approaches to scalability of mobile IP in the prior art one for routers and another for servers. Routers in the prior art support home agents where signaling it limited to about 100 bindings second i.e. supporting less than about 1 updates per hour per user. Servers in the prior art have mobile IP implementation in cluster processors but scaling the number of home agents is an issue because IPSec processing is CPU intensive.

By contrast the disaggregated exemplary SoftRouter architecture allows server based signaling while retaining hardware based transport scalability. Transport is handled by FEs with hardware support for IPSec that can support about a million home agents. Signaling capacity can be scaled using multiple blade servers thus enabling about 60 updates hour mobile user or more.

Transport organizations can support Ipv6 in a SoftRouter network by adding the IPv6 control server . The IPv6 control server need only be introduced when an organization chooses to move to IPv6. The disaggregation of the exemplary SoftRouter architecture lends itself to incremental transitioning to IPv6. There is a low cost initial outlay for IPv6 future proofing that is required and transitioning resources are added on a pay as you go basis.

The exemplary SoftRouter architecture including a FS enables a three stage deployment for IPv6 in one example. Stage one is future proofing FEs . Basic IPv6 functionality is included in FEs which is initially disabled. This IPv6 functionality includes standard IPv6 packet routing IPv6 in IPv4 or IPv6 in MPLS tunneling support to set a default route to the tunneled IPv6 control server deployed in a later stage and IPv6 flow label to MPLS mapping. There is a low cost to implement these functions.

Stage two is providing cut through IPv6 services only. Global IPv6 services cut through the IPv4 core network. An IPv6 control server is added to provide address management proxy auto configuration or dynamic host configuration protocol version six DHCPv6 tunnel configuration of FEs MPLS path set up for end user QoS specified connections and domain naming system DNS DHCPv6 forwarding.

Stage three is full dual IPv6 IPv4 services. IPv6 transition elements e.g. network address translation protocol translation NAT PT 6to4Relay and required extensions to IPv6 are added. The IPv6 control server supports all forms of IPv6 and IPv4 inter working. There is support for IPv6 only to IPv4 only communications and dynamic routing and load balancing to gateway elements and routing protocol peering e.g. OSPFv3 BGP4 .

Upgrading service is easier to perform using an FS e.g. IPv6 control server in an embodiment of the exemplary SoftRouter architecture than in the traditional router architecture. An FE can be upgraded first without implementing the control. This cannot be done as well in the traditional router architecture where everything has to be upgraded at the same time. Later on the control can be turned on. The control may even be turned on individually for different FEs .

Another application facilitated by FSs is network monitoring e.g. tracing packets and storing filters. Network monitoring is like a metering function where FEs collect and forward information to the FS .

The processor cooperates with conventional support circuitry such as power supplies clock circuits cache memory and the like as well as circuits that assist in executing the software routines stored in the memory . As such it is contemplated that some of the steps discussed herein as software methods may be implemented within hardware for example as circuitry that cooperates with the processor to perform various method steps. The computer also contains input output I O circuitry that forms an interface between the various functional elements communicating with the computer .

Although the computer is depicted as a general purpose computer that is programmed to perform various functions in accordance with the present invention the invention can be implemented in hardware as for example an application specific integrated circuit ASIC or field programmable gate array FPGA . As such the process steps described herein are intended to be broadly interpreted as being equivalently performed by software hardware or a combination thereof.

The present invention may be implemented as a computer program product wherein computer instructions when processed by a computer adapt the operation of the computer such that the methods and or techniques of the present invention are invoked or otherwise provided. Instructions for invoking the inventive methods may be stored in fixed or removable media transmitted via a data stream in a broadcast media or other signal bearing medium and or stored within a working memory within a computing device operating according to the instructions.

The present invention has many advantages. SoftRouter FSs remove complexity from routers allow functions to be implemented on a standard off the shelf server platform facilitate easy introduction of value added functions and scale well.

FSs remove complexity from routers by extracting the complex logic for implemented value added network based functions from individual routers. As a result the complexity of each individual router is significantly decreased. This in turn improves reliability manageability and security of the entire network.

FSs allows functions to be implemented on a standard off the shelf server platform. This decreases the capital expenditure capex cost for the control plane. With complexity removed from the forwarding plane capex cost for each forwarding element is substantially lower than that of a traditional router. Disaggregation also opens up the market place for increased competition new players may provide the different components and this increased competition will drive down costs.

FSs facilitate easy introduction of value added functions. Deployment and management effort is mostly focused on the FS and not all the individual FEs . Also with an open API available on the FS new independent software vendors may produce a diverse set of new third party applications for hosting on a FS . This has the potential of significantly accelerating innovations.

FSs scale well. FSs scale much easier as needed than a traditional embedded implementation of new network functions in a router. Standard server techniques can be applied. This ease of scaling also allows incremental deployment. As demand for the value added service increases more feature server capacity e.g. adding processing power to an existing FS or adding new FSs can be added on an as needed basis.

While the foregoing is directed to various embodiments of the present invention other and further embodiments of the invention may be devised without departing from the basic scope thereof. As such the appropriate scope of the invention is to be determined according to the claims which follow.

