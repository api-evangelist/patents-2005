---

title: Ultra wide bandwidth spread-spectrum communications system
abstract: An ultra wide bandwidth, high speed, spread spectrum communications system uses short wavelets of electromagnetic energy to transmit information through objects such as walls or earth. The communication system uses baseband codes formed from time shifted and inverted wavelets to encode data on a RF signal. The combination of short duration wavelets and encoding techniques are used to spread the signal energy over an ultra wide frequency band such that the energy is not concentrated in any particular narrow band and is not detected by conventional narrow band receivers so it does not interfere with those communication systems. The use of pulse codes composed of time shifted and inverted wavelets gives the system according to the present invention a spatial resolution on the order of 1 foot which is sufficient to minimize the negative effects of multipath interference and permit time domain rake processing.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07408973&OS=07408973&RS=07408973
owner: Freescale Semiconductor, Inc.
number: 07408973
owner_city: Austin
owner_country: US
publication_date: 20050624
---
This application is a continuation of U.S. patent application No. 10 295 888 filed Sep. 30 2002 now U.S. Pat No. 6 931 078 which is a continuation of U.S. patent application No. 09 209 460 filed Dec. 11 1998 now U.S. Pat. No. 6 700 939 which was converted from U.S. provisional application Ser. No. 60 069 594 filed Dec. 12 1997 both of which are hereby incorporated by reference in their entirety.

The Government of the United States of America as represented by the Secretary of the Army as certain non exclusive license rights to the Invention as set forth in rights determination ARL No. 998 679 16.

Copyright 1998 XTREMESPECTRUM Inc. A portion of the disclosure of this patent document contains material which is subject to copyright protection. The copyright owner has no objection to reproduction by anyone of the patent document or the patent disclosure as it appears in the U.S. Patent and Trademark Office patent file or records but otherwise reserves all copyright rights whatsoever.

The present invention pertains to a radio communications system particularly to a wireless digital communications system and more particularly to an ultra wide bandwidth UWB spread spectrum wireless digital communications system.

There are numerous radio communications techniques for digital data. Most recently wireless digital communications have been applied to mobile telephone systems pagers remote data collection and wireless networking of computers as well as other applications. One of many books on the subject is Wireless Digital Communications Modulation Spread Spectrum Applications by Kamilo Feher. This book and others deal with conventional modulation of a carrier with for example phase or frequency shift keying i.e. FSK MSK GMSK BPSK DBPSK QPSK O QPSK FQPSK 4 DEQPSK . The American and Japanese cellular standard for example uses 4 DEQPSK. These systems have used either time division multiple access TDMA or code division multiple access CDMA in order to share the aggregate bandwidth between multiple users. They use either FHSS frequency hop spread spectrum or the CDMA codes to spread the spectrum. There remains a need however for higher data rates to be accommodated with simultaneous ability to communicate through barriers such as buildings walls or even through soil or through tunnels. The spectrum that is capable of penetrating walls and soil i.e. frequencies below about 3 GHz however is in use. Therefore there is a need to have a communication system that can coexist in that part of the spectrum where penetration occurs. Current spread spectrum and narrowband systems cannot coexist with other narrow bandwidth users of the same spectrum due to mutual interference.

Too much interference is impinged on the other users who themselves cause too much interference to the communication system. Typically high speed links operate on microwave carriers that are easily blocked by terrain and intervening objects. Prior techniques are based on modulating a carrier frequency. Such a framework assumes that all components e.g. the antenna have a reasonably flat frequency response over the bandwidth used and therefore do not affect the waveform. The present invention does not. They also assume that there are several to many cycles of the carrier between transitions e.g. zero crossings in the modulating waveform. Again the present invention does not. It is this fact allows the present invention to simultaneously operate at low frequencies yet resolve multipath and maintain high data rates. This combination has substantial benefits be low frequencies both penetrate lossy media and minimize reflections off objects because they become smaller relative to the wavelength. But conventional systems typically have less than 10 bandwidth and therefore have poor resolution at low frequencies. Furthermore in contrast to current techniques the present invention is optimized to not only be robust to multipath but to take advantage of it.

Other UWB systems have been based on producing and receiving short one to two cycle impulses at a relatively low duty cycle. Examples include deRosa U.S. Pat. No. 2 671 896 Robbins U.S. Pat. No. 3 662 316 Morey U.S. Pat. No. 3 806 795 Ross and Mara U.S. Pat. No. 5 337 054 and Fullerton and Kowie U.S. Pat. No. 5 677 927 . Impulses on the order of Ins are emitted at a 1 to 10 MHz rate giving rise to a 100 1 to 1000 1 duty cycle. Due to this poor duty cycle it is difficult to impossible to generate significant average power efficiently or in an integrated circuit because the peak voltages are higher than breakdown voltage of state of the art low voltage CMOS and Bipolar processes. The waveform used in the present invention is instead an essentially continuous wave. The prior art systems also use pseudo random time intervals between unchanging essentially identical pulses for the purpose of spreading the spectrum conveying information are used in each of these systems. By contrast the present invention while allowing the pulse position to be randomized communicates information by changing the pulse shape. Yet another difference is interference. The present invention does not require pulse position modulation to make the output power spectrum smooth. Instead the spectrum is smoothed by the modulation of the pulse shape.

It is an object of the present invention to construct an ultra wide bandwidth UWB high speed digital communications system that directly produces short spatially compact electromagnetic wavelets or impulses or energy packets . The wave shape of these wavelets is tailored to propagate in free space and communicate information for example through use of inverted or non inverted copies. It is an object of the present invention to communicate information by sending sequences of these impulses where the spectrum is constrained by both the selection of the sequence coding and the shape of the wavelet. It is also an object of the present invention to construct an UWB high speed digital communications system that penetrates through obstructing objects e.g. walls or media e.g. earth . It is also an object of the present invention to construct an UWB high speed digital communications system that not only tolerates significant multipath but can take advantage of it. It is also an objective of the present invention to operate in the presence of interference from other users of the same spectrum yet with little interference to those other users. It is also an object of the present invention to provide the above objectives in a device that can be largely constructed with a large scale semiconductor integrated circuit LSI .

The foregoing and other objects and advantages of the invention will appear from the following description. In the description reference is made to the accompanying drawings which form a part hereof and in which there is shown by way of illustration and not of limitation a preferred embodiment. Such description does not represent the full extent of the invention but rather the invention may be employed in different arrangements according to the breadth of the invention.

The present communication system is a departure from conventional narrower band transmission systems in that it uses baseband transmission of codes built from time shifted and inverted replicas of short RF pulses rather than a modulated carrier. It is innovative compared to other pulsed waveform systems because it exploits phase as well as time position to create the transmit waveform. This feature allow s the system to smoothly vary the peak to average power ratios of both the spectrum and the time domain waveforms and to generate larger collections of codes.

Typical pulse durations are on the order of 100 to 1000 picoseconds with bandwidths of roughly 1 GHz to 8 GHz respectively. The combination of short duration pulses and the coding techniques used spread the signal energy over such a broad frequency band that little energy appears in any narrowband user s band. The result is that the UWB transmitted signal is below the detection threshold of conventional narrowband receivers.

The system makes it practical to transmit information at very high data rates through walls tunnels buildings and other obstructions using signals with high enough spatial resolution to resolve the obstructions that lead to multipath fading in conventional systems.

Multipath occurs when time delayed and attenuated copies of the transmitted waveform arrive at the receiver simultaneously. In urban environments this is due in large part to reflection and transmission of architectural features e.g. walls floors ceilings and windows.

When the range resolution of the receiver is large compared to the multipath differences constructive and destructive interference occurs which reduces system performance. This is multipath fading. If on the other hand multipath components are resolved by the receiver then no interference occurs and the multipath components can be used to improve system performance.

The range resolution of the receiver is roughly inverse to the bandwidth of the transmit signal. So 10 MHz systems have range resolution of

likewise a 100 MHz system has 3 meter 10 foot resolution and a 1 GHz system has resolution on the order of 0.3 meters 1 foot . Since architectural features walls floors etc. are separated by distances that are on the order of 10 feet systems that resolve them well require resolution that is order of 1 foot.

The pulse codes built by the present system are composed of biphase modulated and time shifted replicas of an underlying short wavelet pulse. The receiver compresses the transmitted pulse code using a matched filter correlation processing . The width of the compressed pulse that results is nominally that of a single pulse. This gives the prototype system spatial resolution that is on the order of one foot sufficient to avoid the negative effects of multipath and to allow time domain rake processing.

The present ultrawideband UWB short pulse SP communication system uses baseband transmission of codes built from time shifted and inverted replicas of short RF pulses. No carrier is used. Typical pulse durations are on the order of 100 to 1000 picoseconds and typical bandwidths are greater than 1 GHz. Below is a short review of time and frequency domain issues related to the UWB communication system. Top level views of the transmitter and receiver are given in and .

A waveform with good bandwidth and derivative properties is the Gaussian monocycle which is formulated by taking the first derivative of a Gaussian. It has the form of a ramp with a Gaussian envelope 1 

The pulse s duration is a function of the constant k which controls the rate of decay of the Gaussian envelope. illustrates the case where the constant k has been selected to generate a pulse duration of roughly 1.5 nanoseconds. Equations 3 to 5 relate the pulse duration to bandwidth.

Circuits for generating these signals include avalanche transistors step recovery diodes SRD in comb filter circuits and high speed logic and transistors. The present system currently uses a pulse forming network of high speed discrete logic together with signal conditioning.

An important property of UWB signals is the relationship between pulse duration and bandwidth. In general the narrower a pulse is made in time the broader the frequency band over which its energy is spread. Thus if energy per Hertz is fixed wider bandwidth pulses transmit more energy than narrower ones. From this perspective shorter in time is always better.

Other criterion effecting the selection of pulse duration include the propagation properties of the band that results. In general the lower frequencies HF 3 30 MHz VHF 30 300 MHz and UHF 300 1000 MHz have been shown to have superior materials building and foliage penetration relative to higher frequency bands. A good compromise for in building operation is to span the VHF and UHF bands. This represents a trade off of energy spreading against the propagation model and engineering feasibility.

To tie pulse duration to bandwidth consider the Gaussian monocycle of 1 . Its frequency domain representation is also Gaussian and is given by

The spectrum of a 1 GHz Gaussian monocycle that spans the VHF and UHF bands is shown in . The time duration and bandwidth are both controlled by parameter k. The operating frequency is best described by the peak of the power spectrum which is

The bandwidth is determined by the upper and lower frequencies to the 6 dB down power levels 0.3191057 1.9216229 4 

If square root over k 2.5 10 then 560 MHz the bandwidth is 1 GHz and the pulse duration is 1.5 nanoseconds. Typical of UWB signals the power is spread over a band greater than 100 of the operating frequency.

The transceivers of the present invention use pulse codes for integration gain channelization whitening and notch filtering. The pulse coded transmit signal is formed from shifted time hopped and inverted biphase copies of the underlying ultrawideband short pulse.

The time shifts and phase inversions are implemented with a combination of analog and digital circuitry fixed and programmable delays phase inverters hybrid tees splitters and combiners GaAs switches and digital circuits to generate control.

A template for a biphase time hopped code h t can be written as a sum of weighted and shifted impulses as

where Tis the relative position of chip n Nis the length of the code and the coefficients of the code are h 1 1 for biphase antipodal operation. The frequency domain representation of the code h t is

a collection of shifted and inverted weighted 1 replicas of the underlying pulse. The frequency domain representation of the pulse code shown in equation 8 is 9 

If the data are treated as a set of equispaced impulses they have the time and frequency domain representations

Temporarily restricting the system to only biphase modulation of the pulse code in equation 8 the transmit signal is

If the data are assumed white or whitened by preprocessing then the spectrum of the transmit waveform is that of the coded pulse of equation 8 . Proper selection of the delays and weights of the pulse code preserve the pulse s spectrum and bandwidth leading to a transmit waveform that is essentially that of the short pulse in equation 1 . That is nominally white across the operational bandwidth.

UWB transceivers face many of the same problems that narrower band systems do transceiver clocks are not synchronized transceiver codes are not synchronized and clocks are either not exactly at the same frequency or drift apart as a function of time temperature and relative position. The problem of synchronizing the transceiver clocks amounts to finding the unknown time delay that corresponds to the maximum of the correlation. illustrates that the correlation peak is exceedingly narrow. This narrowness gives the UWB communications system the ability to operate in the midst of multipath because the multipath can be resolved.

While we generally do not form the entire correlation function on a single sequence we can form single terms of it and then slide the position or lag of that single term from sequence to sequence. This technique is known as a sliding correlator. We use the sliding correlator for clock acquisition clock tracking and data detection. We also use the sliding correlator to scan for the location of the highest signal. This location changes dynamically due to objects moving in the environment or to motion between the transmitter and receiver as in mobile applications. A sliding correlator forms inner products signal multiplication mixing followed by integration of the received signal and the local code at different relative time delays.

A simple method of clock acquisition determining the unknown delay is to increment the time delay through a code length while looking for the inner product with the largest absolute value. In spread systems this is often called turning the code wheel. Once the delay is selected the sign and magnitude of the inner product are used for the bit detection statistic.

Clock tracking is implemented with a delay locked loop DLL . Because the correlation is symmetric the receiver can use the difference between a leading and lagging inner product to track the transmit clock. When the receiver is synchronized the difference goes to zero. Otherwise the difference is positive or negative depending on whether the timing is leading or lagging.

From the perspective of UWB systems narrowband interference dominates the noise in urban environments. Because the UWB SP signal is short in time and long in frequency it is highly distinguishable from conventional narrowband signals which are long in time and short in frequency . illustrates the power spectral density at an Alexandria Va. laboratory. The differences between these signal types are exploited to develop RFI extraction radio frequency interference algorithms to improve UWB transmissions. The authors have already developed and demonstrated RFI extraction algorithms that achieve up to 20 dB SNR improvement. illustrate the results of the developed RFI extraction algorithm on collected data.

In the detailed descriptions we describe the operation of the UWB short pulse transmitter and receiver. Both cases begin with expressions for the key waveforms generated and then relate their elements to the circuits.

A block diagram of the transmitter is shown in . Its goal is to generate the waveform of equation 11 which was

In this formulation the transmit waveform is defined as the convolution of the data stream d t with the code h t and the underlying pulse s t .

The transmitter receives data from data input . Mathematically the binary data d t are represented by a stream of equispaced impulses one per data bit indexed by k. is an example for the data d 1 0 1 1 0 1 0 as a stream of positive and negative going impulses one per data bit where the mapping 0 1 1 1 has been applied

There are two special conditions on the data. The first is that the data must be pre whitened or scrambled. This means that it has been processed such that its spectrum is nominally flat. The reason for requiring this is that by the convolution theorem the spectrum of the transmit signal 13 is the product of the spectrums of the pulse S the code H and the data D . That is . 14 

Since the code and the pulse are both generated by the transmitter such that H and S are nominally flat over the bandwidth of the system the spectrum of the output will go as the spectrum of the data. That is if the spectrum of the data is white over some interval then the output will be white over that interval. Consider that if the data were constant say all ones then d t would be a train of unit impulses Tperiodic resulting in line spectra at frequency bins spaced by 1 T all the transmit energy would be concentrated at multiples of and the outcome would be interference with any narrowband user at those frequencies. Referring to block applies this data scrambling to the data. It also can apply forward error correction coding FEC such as combinations of interleaving Reed Solomon block codes and convolutional codes. Many books are available on the topic of FEC.

The second condition is that the data must be differentially encoded. The reason for this constraint is that the transmit waveform is arbitrarily inverted by the environment. The result is that the receiver cannot tell if a non inverted wavelet or an inverted wavelet was transmitted but it can tell if two are alike or opposite. Differential encoding allows the receiver to recover the data in that manner. It is applied in block . By employing differential encoding of the data prior to transmission we can use phase information as well as pulse position to create pulse codes.

In this system the data are transmitted by biphase modulation of codes rather than modulation of a carrier. Block generates a cyclical stream of pseudo random bits representing the digital code. Each time the cycle repeats synch signal triggers differential encoder so that alignment of the data modulation on can occur. Exclusive or gate modulates the digital code on to produce the modulated code sequence on . gives an alternative block diagram of a circuit capable of performing the modulation. These circuits produce the data modulated code independent of the pulse waveform. That is

which says that for each bit d of the data stream a pulse code h t is generated and the entire code is then multiplied by d. The effect is to either invert or not invert the code h t depending on whether dwas a 1 or 1 respectively. Much of the code generation and modulation is processed digitally. In these circuits modulo 2 addition exclusive nor replaces traditional multiplication and 1 1 are mapped to 1 0. illustrates a data stream.

The coefficients hof the digital code are binary sequences of 1 s and 0 s occurring at times Trelative to the start of the code. A sample 7 length code is shown in . In this case the coefficients are equispaced say Tseconds apart thus T nT. illustrates the data modulated code that results from applying equation 15 to the data and code of .

Referring to the block diagram in and equation 15 the coefficients of the code are stored in memory and addressed by counter . The counter generates the code index n and counts from 0 to N 1 the length of the code. The counter is incremented once for each coefficient of the code at intervals of Tseconds. Following each increment of counter the corresponding coefficient is emitted from the memory to line .

In equation 15 one code word is applied to each data bit. These are synchronized by parallel to serial register and word counter . When counter completes the count for a single code word it asserts line which signals register to output one bit. When line is asserted it also signals word counter to advanced the count of data bits shifted out. This counter is programmed to count to N the width in bits of a data word whitened and differentially encoded . When the counter has been advanced Ntimes it asserts line which signals register to load another data word. It is also possible to compute the code coefficients on the fly for example with a linear feedback shift registers.

Referring to the coefficients of the code and the bits of the data are presented to exclusive or XOR gate which produces y t the code modulated data that is presented to the pulse forming network on line . Switch responds to the modulated code to selectively output a positive non inverted or negative inverted wavelet onto . Positive wavelet generator and negative wavelet generator produce a wavelet in response to an xmit clock signal . The shape of the wavelet is selected by a wavelet shape selector signal.

Circuits for generating short pulses include avalanche transistors step recovery diodes SRD in comb filter circuits and high speed discrete logic and transistors. The present system generates short pulses using circuits built from discrete logic gates and passive delay lines. shows a simplified diagram of a differential ECL implementation that generates a wavelet approximating the first derivative of a Gaussian. shows a timing diagram for . is a block level diagram of a wavelet generator with selectable wave shape. shows a timing diagram for with the switches selected to produce the second derivative of a Gaussian. Switch applies the data modulated code on to select the polarity of the transmitted wavelet. Switches and are driven to select the zero first or second derivative of a Gaussian. In the block diagram of signal is delayed by different line lengths into ports A and B of AND gate . The timing diagrams shown in show idealized waveforms for clarity. The actual rise and fall times of the devices however produce the filtered output waveforms shown. Typically the transmitter and receiver wavelet functions are not identical. Instead the shape of the wavelet used in the receiver is typically the derivative or Hilbert transform of the shape used in the transmitter.

As shown in the wavelet generator includes a clock an amplifier an inverter a line a line an AND gate an amplifier an inverter a line a line an amplifier an amplifier an inverter an inverter a summer a summer and a switch .

As shown in the signal is output from the clock the signal is output from the line the signal is output from the line the signal is output from the AND gate the signal is output from the amplifier the signal is output from the amplifier the signal is output from the inverter the signal is output from the inverter the signal is output from the summer the signal is output from the summer and the signal is output from the switch . The signal controls the switch .

As shown in the wavelet generator includes a clock an amplifier an inverter a line an AND gate an amplifier an inverter an amplifier an inverter a line a line a switch a switch a switch an amplifier an amplifier an amplifier an amplifier an inverter an inverter an inverter an inverter a summer a summer and a switch .

As shown in the signal is output from the clock the signal is output from the line the signal is output from a line L X the signal is output from the AND gate the signal is output from the amplifier the signal is output from the amplifier the signal is output from the amplifier the signal is output from the amplifier the signal is output from the inverter the signal is output from the inverter the signal is output from the inverter the signal is output from the inverter the signal is output from the summer the signal is output from the summer and the signal is output from the switch . The signal controls the switch .

Unique to the present invention is the ability to concatenate codes and allow implementations of the two codes in different technology. Referring to analog code is implemented extremely wide bandwidth microwave components which do not have the limitations of semiconductor technologies. Therefore the present invention can generate codes composed of both digital and analog parts. The digital h t and analog h t codes are given by

The system can be operated with either digital only or analog only codes. The purpose of the analog code is to generate waveforms whose pulses occur faster than can be processed digitally. A replica of the analog code replaces each pulse of the digitally generated code on a fine time scale. Good codes for the analog section have low autocorrelation sidelobes like Barker codes. The reason for this is that the sidelobe structure of the concatenated code will contain all combinations of the main and side lobes of the component codes.

where is the propagation velocity in the media and delays of multiples of Twere required. In general the delays are not restricted to be common multiples. All the pulses in time slots that are not inverted are summed together in power combiner to generate a first sum and all pulses in time slots that are to be inverted are summed together in power combiner to generate a second sum . The pulses to be inverted are subtracted from the non inverted set by hybrid and the difference is output on signal .

Referring to prior to final amplification and transmission the signal may be bandpass filtered by in to suppress energy in frequency bands out of the operational band of the receiver. The output signal can also be notched filtered by to remove energy from other narrowband signals as appropriate. Another strategy to create notches in the output spectrum is to design the codes h t such that the undesirable frequencies are attenuated in the pulse code p t s t h t . Amplifier drives antenna to broadcast the sequence of wavelets.

The receiver implements a sliding correlator delay locked loop specialized to short pulse waveforms as illustrated in the block level diagrams of and . The difference between the two is where the analog code is inserted. In the analog code affects the wavelet sequence going into the lo port of the mixer multiplier correlators. In the analog code is used as a compressive matched filter. Whereas the analog code in the transmitter spreads a single pulse to a sequence of pulses the receive analog code does the reverse and compresses the sequence of pulses back into a single pulse.

The receiver has two main operating modes 1 acquisition and 2 tracking and detection. Below is a description of the sliding correlator DLL implemented in the present system. The appendix contains detailed schematics of the acquisition tracking and detection circuits.

What might be referred to as the local oscillator is in this case the code of receive wavelets on line . Unique to the UWB high speed communications system this signal is different from the transmit waveform to account for the transmission effects of the antennas. It is generated similarly to the transmit system except the data line is driven to a logic low state. To improve noise discrimination bandpass and notch filtering consistent with any applied by the transmitter can also be applied to signal . The effect is to improve the match of the filter.

Similar to the received signal the local code on is split into three copies by however here the line lengths and path delays are kept identical to the mixers and . The reason for this is to allow the lead lag and ontime inner products formed by the mixers and gated integrators to all operate with the same control signals.

The acquisition process amounts to finding the time delay that maximizes the inner product of the ontime signal and the local code. Received signal is delayed through the ontime delay and input to the RF port of mixer while the local code is applied to the LO port of the mixer. The resulting product is the on time IF signal input to gated integrator . Integrate control signal to the integrator is synchronized by controller such that the integration begins when the local code arrives at the integrator input. When the local code ends controller issues an encode command to analog to digital converter on control line . This completes the formation of the inner product whose value is now present on digital lines . The dump signal to integrator is activated by controller clearing the integrated value and preparing the integrator for the next inner product. The gated integrators may be constructed using a ping pong technique to allow continuous time gated integration. is a block diagram showing an implementation of a continuous time integrator.

The digitized value of the on time inner product is input to controller on lines . At the beginning of the acquisition process the controller stores this value. The controller then issues an advance command to phase delay circuit and increments its count of the number of advances that have been applied. It also stores the number of advances that correspond to the inner product just collected.

The effect of delay circuit is to slide in time the local code relative to the received signal. and give block level diagrams of circuits capable of sliding the clock. The circuit of operates by increasing or decreasing the frequency of the reference oscillator a short time in order to slide the phase of the clock. operates by directly programming a delay term. Both change the start time of the codes generated by circuits implementing .

Controller continues to advance the phase and collect inner products and their associated advance counts for the on time term. Each inner product formed is compared against the last stored. If it is greater it replaces it and its advance count is noted. When the total amount of time the local code has been slid equals the duration of a single code we say the code wheel has been turned. After some number of turns of the code wheel the acquisition process is halted. The unknown phase between the transmitter and receiver oscillators and codes is taken to be the delay of the maximum on time inner product found. At this point the system switches to a tracking and detection mode.

Lead and lag inner products similar to the ontime term are formed by delays and and mixers and respectively. Blocks and complete the integration of these terms. These are synchronized with the local code by controller in the same manner as the ontime term. After the inner products have been formed circuits and take their absolute value. The difference of these terms is formed by summer and is digitized by analog to digital convert on encode command from the controller. The timing of the encode command is such that the difference of the lead and lag inner products has had sufficient time to propagate through to the A D.

The lead and lag terms are formed at symmetric time delays before and after the ontime term. Because the correlation function is also symmetric these values will be equal when the local code is synchronized with the received signal. If the controller detects a non zero value it will advance or retard the phase in order to zero the error. As a means of improving the signal to noise ratio of the error term many of these may be summed together before making an advance or retard decision.

Detection is performed by a window comparison on the ontime inner product. Values greater than zero map to a one those less than zero map to a zero. An erasure zone may be added as well. The detected data is differentially decoded whitening decoded and forward error corrected.

Referring to a search channel shown blocks through is used to continually scan for multipath signals which may be stronger than the one or several being used. In the event that a stronger correlation peak is found by then the main channel or an auxiliary rake channel can be moved to track the larger peak via phase delay or . This operation allows the system to operate in dynamic multipath conditions.

A first rake channel is used to track the second strongest signal so that the next strongest correlation can be added to the main channel signal. This summation is the first term in a time domain RAKE filter that takes advantage of multipath to improve the BER performance. Although show only one rake channel it is the intent that several rake channels would operate simultaneously.

