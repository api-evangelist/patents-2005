---

title: Power supply and communications controller
abstract: A power supply extracts electrical power from the electro-magnetic field surrounding a high voltage power conductor and conditions the derived input power to provide a stable power source for instrumentation and communications equipment. The communications controller is a local network router that routes serial data traffic to selected communication devices such as an instrumentation processor, a power supply processor, or a maintenance port controller. The router forwards the data to other communications equipment and forwards data from the communicating equipment to an external network providing substantially simultaneous communications between the external network and the instrumentation processor, power supply processor and maintenance port controller.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08497781&OS=08497781&RS=08497781
owner: Underground Systems, Inc.
number: 08497781
owner_city: Armonk
owner_country: US
publication_date: 20051021
---
This application claims the benefit of priority of provisional application Ser. No. 60 621 098 filed Oct. 22 2004.

This invention relates to a communication system. In particular the communication system can communicate data associated with power transmission lines to remote systems.

Power line instruments can be mounted on a power line conductor to measure and analyze the values of particular parameters of overhead power line conductors. The performance of the power line may be determined from the values of the parameters. A communication system transmits the values measured by the power line instruments to local ground receiving stations dedicated to those instruments. The data from the various ground stations can be further transmitted to central control stations for analysis of the values of the parameters.

The values of parameters measured by the power line instruments can provide a measure of the performance of the power line conductor. The parameters associated with each conductor can describe the operational state of the power conductor and include sensing the voltage current phase angle temperature sag and the other parameters of the associated conductor. The measured quantities are communicated to one or more ground based processors. Power for the power line instruments can be derived from the electro magnetic field associated with the power line conductor. When power is conducted through the power line conductor a magnetic field sets up around the conductor. The magnetic field can be used to induce a current and voltage in a power supply. The induced current and voltage can be used for powering the power line instruments including the communication system.

In one aspect a power supply controller for an instrument platform associated with a power line conductor includes an extracting means for extracting and outputting power from an electro magnetic field generated by the power line conductor. A shunt coupled to the extracting means manages the electrical output power of the extracting means. A portion of the outputted power is stored in an energy storage means that provides a direct current DC . Power conditioning circuitry coupled to the shunt and the energy storage means converts the output power from the extracting means and the DC input from the energy storage means to DC potentials required by circuitry of the power supply controller and the instrument platform. A communications controller is coupled to the power conditioning circuitry to transmit and receive data messages within the instrument platform and with remotely located processors and remotely located instrument platforms.

The disclosure can be implemented to realize one or more of the following advantages. The electrical instrument platform can be mounted on an energized power conductor and capable of simultaneously measuring and monitoring electrical thermal and mechanical parameters of the conductor while communicating those values to other similar instruments and also to ground based processors located locally or remotely beyond immediate radio transmission distance. The device has the capability to process and analyze data generated from its own instruments as well as data received from other such apparatus. The apparatus derives its power from the electro magnetic field due to current flowing through the power conductor the disclosure further relates a technique for operating the apparatus using stored energy batteries when there is inadequate or no current flow through the conductor.

One or more implementations include a means for transmitting data to remote systems. The communications may be real time using wireless radio transceivers and wireless cellular data technology. Both mechanisms are included in the disclosure and both mechanisms can be used simultaneously. When fitted with a cell phone transceiver the device can be used without local ground based equipment. A router system is embodied in the apparatus that manages the data message traffic.

The details of one or more embodiments of the invention are set forth in the accompanying drawings and the description below. Other features and advantages of the invention will become apparent from the description the drawings and the claims.

Thus in a power line monitoring system using power supply controllers and communication controls of the present invention each instrument platform can be powered from a power line conductor. Each instrument platform in the system can transmit its own data parameters to another instrument platform or a ground based processor. Also each instrument platform in the system can receive data from another instrument platform and transmit that data to a third instrument platform. Hence only one of a plurality of instrument platforms in the system need be in communication with a ground based processor and no external power need be provided to the instrument platforms.

The communications control adapter is an electrical and mechanical intermediary between the power supply controller and a communications device . Communication device may be one or more wireless communication options disposed on the communication expansion adapter . The communication device includes a 900 MHz Frequency Hopping Spread Spectrum Radio 2.4 GHz Frequency Hopping Spread Spectrum radio and GSM GPRS Phone Module. The communications control adapter can provide communication of data from the main controller and power supply controller to external processors not shown through the communication device . The external processors can be other instrument platforms ground based processors or central control processors that monitor the power line conductor.

Power supply controller can communicate with the main controller through a network . A microcontroller not shown in the power supply controller can run a software program to affect the operation of the power supply controller. Power from power supply controller is provided to the main controller and on to the instrument platform on a line . The power supply controller can include a field update port to receive test and manufacturing updates and software program updates from external devices.

The function of the power supply controller includes 1 preliminary power conditioning for the main controller power supply for itself and communications control adapter 2 communications routing to from the main controller 3 communications control of wireless devices and 4 control of charging a rechargeable battery .

Current transformer can be disposed around the power line conductor. A magnetic field produced by current flowing in the power line conductor can induce a voltage in the current transformer that may be modified by shunt transformer and provided to the power supply controller . The instrument platform can be powered by coupling with the electro magnetic field generated when current flows in the power line conductor. The instrument platform is attached directly on the power conductor and measures current and voltage from the electrical and magnetic field surrounding the conductor. The electrical instrument platform includes the rechargeable battery for powering the instrument platform when the current flow and resultant electro magnetic field in the power line conductor is below a first threshold value. When the current flow is above the first predetermined threshold value the instrument platform can be powered by electromagnetic induction from the power line conductor. When the current flow is above a second threshold value excess current may be channeled to charge the battery . When a zero current condition persists in the conductor beyond a predetermined time limit battery control circuitry and or a software program can reduce the frequency of data transmission from the communications control adapter to the external processors thus conserving battery power. When battery voltage drops below a predetermined level all battery powered transmission may be stopped until the batteries are recharged.

The interconnection of the power supply controller is now described in greater detail. The interconnections within the power supply controller include 

A detailed description of the communications expansion interface is provided below under The Power Supply Communications Expansion Interface. 

The Battery Switch interface enables a power down of the instrument platform when line power is not traversing through the power line conductor at a level sufficient to sustain operation of the instrument platform. This functionality can enable the internal battery to maintain a charge when the system is not being used.

The test and manufacturing I O enables a user to factory program the microcontroller and update factory calibration information stored in a memory of the power supply controller. In addition when installed in a unit some of the signals may be route to a port the field update port that can enable the system to be configured in the field.

When used as a field update port FUP the test and manufacturing interface can be wired using a harness with a reduced number of signals. These signals can be externally available to allow for testing and updates of the firmware software program without requiring the power donut assembly to be disassembled.

The power conditioner can convert alternating current AC input power from the shunt control and the direct current DC input from the battery to the DC potentials required within the power supply controller .

The battery charge control requires approximately 10V that may be derived from the Vprim signal from the current transformer . Power to the battery charge control may be adjustable under software program control to four different current limit settings and regulated to 10V by a battery charger current limiter and regulator circuitry in the battery charge control .

External SRAM which may be organized at 256 kbit 16 can be provided for debug and development as well as external software code data storage. Data may only be written as words on even addresses. Code and data constants which may be stored in the internal flash memory can reside in External SRAM .

Two serial EEPROM devices may be provided on I2C bus and can be organized as 512 8 bits. A Manufacturing MFG EEPROM can be write able at the factory by assertion of a write enable signal EEWREN available at the test and manufacturing connector . The MFG EEPROM can reside at address A 0 A 1 A 0 and store information not expected to change in the field. The data can be used by the power supply controller to set thresholds for the minimum power requirements for radio transmission baud rate configuration and other parameters.

The battery charge control can be used to charge and monitor the status of the energy storage device . In an implementation the energy storage device is an integrated Lithium Ion battery pack 2 Cells . Power to the charger can be supplied from the Vprim signal and can be current limited and voltage regulated. The microcontroller can cause the battery charge control to provide different charging rates under program control. The battery charge control can monitor the battery voltage and the battery temperature to regulate the charging of the battery. Charging status signals can be provided by the battery charge control to the microcontroller .

The current transformer provides power to the main controller . The current transformer is wound with a secondary and shunt winding. Transformer shunt control can cause the shunt winding to be shorted and attenuate the power output of the secondary winding. The transformer shunt control thus can limit the maximum voltage output from the secondary winding that may exist under light load conditions or when high current is present on the power conduction line. The microcontroller can monitor the transformer secondary voltage and in response control the shorting of the shunt winding by controlling the transformer shunt control winding. In an implementation an optically isolated triac driving a higher power triac can be used to short the shunt winding.

A test and manufacturing port enables access for the user to factory program the microcontroller internal flash memory and external MFG EEPROM . Boot logic circuitry coupled to the port can enable a user to put the microcontroller into Boot Loader mode when a boot enable BOOTEN signal is asserted. A default microcontroller boot mode asynchronous port SCI2 can be connected to the test and manufacturing port to enable RS232 level serial boot loading. Some of the signals to from test and manufacturing port can be routed to an external field update port . This may enable operation and field updates of the main controller and microcontroller without disassembly.

A temperature sensor can provide the microcontroller with a signal associated with the internal temperature of the power supply controller.

Communication power protection cam be provided by a current limiting circuit not shown to isolate the communications load from the power supply controller. In an implementation the current limit of the current limiting circuit can be set to approximately 1.0 A to allow for the worst case continuous load supplied to the communications expansion adapter by the power supply controller.

The 900 MHz radio electrical interconnect is an asynchronous serial interface with logic level signals. Signals may be passed from the power supply controller to the 900 MHz radio through 0 resistors to enable electrical isolation during test and development. The 900 MHz radio interface requires substantially no electrical signal transformation from the power supply controller.

The 2.4 GHz radio electrical interconnect is an asynchronous serial interface with logic level signals. The interface also can include signals that allow for additional control. The signals may be passed from the power supply controller to the 2.4 GHz radio through 0 resistors to enable electrical isolation during test and development. The 2.4 GHz radio interface requires substantially no electrical signal transformation from the power supply controller.

In an implementation the 2.4 GHz radio can be mechanically affixed to the communications expansion adapter.

The GSM GPRS Cell Phone Module can include an asynchronous interface with TTL levels for data control packets a master serial peripheral interface SPI port for debug information an inter integrated circuit I2C port for EEPROM configuration and a SIM card interface for GSM identification. The GSM GPRS Cell Phone module can be mechanically affixed to the communications expansion adapter .

The GSM GPRS Cell Phone module also can be coupled to a SIM card interface which can enable the module to retrieve GSM system configuration information. Communications expansion adapter can incorporate a SIM connector assembly.

A Debug RS232 transceiver port can be used during development to interconnect a host computer to the communications expansion adapter. The debug RS232 port may be used to 

The communications expansion adapter power supply can be designed to supply power to the installed communications device . Input to the communications expansion adapter power supply may be supplied from the protected Vin . The power supply may be configured at time of manufacture for the installed communications device .

Power supply controller operation is controlled by a microcontroller under the control of firmware. The firmware can include two independent executable applications 

The main controller application can be derived from the common code modules and an application layer. The power supply firmware can implement protocol handling functionality compatible with that of the main controller application. The power supply can also support routing of the messages based on the device address information supplied with each command including 

The power supply firmware can monitor the input power and power conditioning electronics. Status information about the power supply will be periodically transmitted to the main controller. The shunt winding of the power transformer can be controlled by the power supply firmware. The shunt winding may be enabled when the input voltage has exceeded a predetermined threshold.

The firmware can monitor status information from the battery charging system to determine available battery power. In an implementation battery charging at four different charging rates can also be selected programmatically. This call enable the host system to control the charging activity.

The power supply controller through the communication expansion adapter support can support different types of radios. The power supply can determine the type of radio connected to the radio interface on power up by querying the information in MFG EEPROM on the communication expansion adapter. Once the radio type is known the power supply can correctly handle power up sequences and monitoring of the communication expansion adapter. When a GSM GPRS Cell Phone is detected the power supply can handle the additional sequences needed to configure and dial the phone.

The power supply firmware can act as the host to the main controller firmware. The power supply controller may inspect the routing information in any command received by the radio interface or the field update port FUP interface. The firmware can determine when the command is for the power supply or the main controller. When a received command is for the power supply controller the power supply firmware can act on the command directly. When a received command is for the main controller the power supply can pass the command on for processing. The response to the command may pass through the power supply to the radio interface and back to the ground based host system. The power supply can initiate its own commands to the main controller in order to pass information about the power supply controller to the main controller and also to receive status information from the main controller. The power supply controller may determine the power supply controller address and the address of the main controller from information stored in the power supply MFG EEPROM. The information provides the routing table for the power supply controller these two device addresses can be set to any 16 bit value. A convention can be used where the power supply controller address is the same as the main controller address plus an offset for example main controller address of 0x0100 power supply address of 0x8100 . This may simplify tracking of the device address information over many power donut systems.

The power supply firmware can exchange information with the main controller. When the main controller reports an alert such as a power line conductor measurement from the instrument platform the power supply can attempt to establish a link with the ground based host system. When a GSM phone is configured on the radio interface then the power supply firmware can attempt to dial a primary phone number to report the alert. Multiple retries may be attempted when the host phone modem does not answer. When the power supply firmware detects a busy signal at the primary phone number then a connection on a backup phone number may be established. After the power supply establishes a link with the phone a wake up message may be sent to the host system which will identify the power donut to the host. The host application will then poll for the alert information and take appropriate action s .

When the power supply controller receives a command from the radio interface to start the user mode loader the power supply may first start the user mode loader on the main controller. When the power supply has confirmed that the user mode loader has started successfully on the main controller the user mode loader can be initiated on the power supply. This protocol also may apply to routing information to allow a ground based host to reprogram either the power supply or main controller.

In the factory at time of manufacture the first code to be loaded can be the serial loader. The serial loader is instantiated using the boot loader mode protocol available on the H8S through the test and MFG connector. Once the serial loader has been instantiated a host computer serial port RS232 can be used to communicate with the unit via the external communications protocol available on the asynchronous radio port. This approach will allow field updates to be made without disassembly of the power donut. The serial loader may be used to load the flash memory and EEPROM memory on the unit. The serial loader can reside in Block of the microcontroller flash memory and may be write protected at the factory. When the serial loader needs to be updated the power donut will have to be opened and reprogrammed using the test and MFG connector.

The serial loader resident in the main controller can reload application code on the main controller in addition to reloading code on the power supply controller module. Therefore routing identification module ID will be used to indicate which controller main or power supply the host wishes to communicate to.

The power supply controller application firmware functions can be derived from code modules that are commonly developed for use on the main controller. The common set of functions may be reused in the power supply firmware. The power supply application can be modularized into layers including 

An API can be used to abstract the main application firmware from underlying code modules. This API acts as delineation between the lower level layers of firmware and the target specific application firmware. The power supply controller application may make calls to API layer functions. In an implementation no direct calls to the underlying toolkit and primitive modules are performed. API functions can return a 16 bit error code after making the call. An example of the API functions are listed in Table 2.

The built in self test can verify the operation of hardware elements of the power supply controller. These tests can be run by the application on startup to verify the hardware before attempting to initiate normal operation. An example of the tests performed by the BIST is listed in Table 3.

The toolkit modules can abstract further details of the hardware environment and perform additional supporting functions. An example of the modules is listed in Table 4.

Hardware I O are low level primitive functions to handle specific hardware elements of the microcontroller kernel and other supporting hardware. An example of the low level code modules is listed in Table 5.

An example of a basic format of a communication protocol is shown in Table 6. The format is similar for both commands and responses. In an implementation the character is used as a start of frame marker. This is followed by comma separated command or response information. An 8 bit checksum is calculated and appended after the command information. The character is used to indicate end of frame.

The invention has been described in terms of particular embodiments. Other embodiments are within the scope of the claims.

