---

title: Method and apparatus for performing fast power control in a mobile communication system
abstract: A method and apparatus for controlling transmission power levels in a mobile communication system. The method provides for a closed-loop power control method. A mobile station provides information on the quality of the signal received from the base station, and the base station responds by adjusting the power allocated to that user in a shared base station signal. The transmission power is adjusted initially by a large increment and then ramped down at an increasingly decreasing rate. The mobile station also provides information to the base station as to its relative velocity and the base station adjusts its transmission power in accordance with this velocity information.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07831272&OS=07831272&RS=07831272
owner: QUALCOMM Incorporated
number: 07831272
owner_city: San Diego
owner_country: US
publication_date: 20050401
---
The present Application for Patent is a Continuation of patent application Ser. No. 09 825 511 entitled Method and Apparatus for Performing Fast Power Control in a Mobile Communication System filed Apr. 3 2001 now U.S. Pat. No. 6 876 867 which is a continuation application of application Ser. No. 09 454 926 filed Dec. 3 1999 now U.S. Pat. No. 6 317 587 which is a continuation application of Ser. No. 08 958 882 filed Oct. 27 1997 now U.S. Pat. No. 6 035 209 which is a file wrapper continuation application of Ser. No. 08 414 633 filed Mar. 31 1995 now abandoned all assigned to the assignee hereof and hereby expressly incorporated by reference herein.

The present invention relates to communication systems. More particularly the present invention relates to a novel and improved method and apparatus for controlling transmission power in a mobile communication system.

The use of code division multiple access CDMA modulation techniques is one of several techniques for facilitating communications in which a large number of system users are present. Other multiple access communication system techniques such as time division multiple access TDMA and frequency division multiple access FDMA are known in the art. However the spread spectrum modulation technique of CDMA has significant advantages over these modulation techniques for multiple access communication systems. The use of CDMA techniques in a multiple access communication system is disclosed in U.S. Pat. No. 4 901 307 entitled SPREAD SPECTRUM MULTIPLE ACCESS COMMUNICATION SYSTEM USING SATELLITE OR TERRESTRIAL REPEATERS assigned to the assignee of the present invention of which the disclosure thereof is incorporated by reference herein. The use of CDMA techniques in a multiple access communication system is further disclosed in U.S. Pat. No. 5 103 459 entitled SYSTEM AND METHOD FOR GENERATING SIGNAL WAVEFORMS IN A CDMA CELLULAR TELEPHONE SYSTEM assigned to the assignee of the present invention of which the disclosure thereof is incorporated by reference herein.

CDMA by its inherent nature of being a wideband signal offers a form of frequency diversity by spreading the signal energy over a wide bandwidth. Therefore frequency selective fading affects only a small part of the CDMA signal bandwidth. Space or path diversity is obtained by providing multiple signal paths through simultaneous links from a mobile user through two or more cell sites. Furthermore path diversity may be obtained by exploiting the multipath environment through spread spectrum processing by allowing a signal arriving with different propagation delays to be received and processed separately. Examples of path diversity are illustrated in U.S. Pat. No. 5 101 501 entitled METHOD AND SYSTEM FOR PROVIDING A SOFT HANDOFF IN COMMUNICATIONS IN A CDMA CELLULAR TELEPHONE SYSTEM and U.S. Pat. No. 5 109 390 entitled DIVERSITY RECEIVER IN A CDMA CELLULAR TELEPHONE SYSTEM both assigned to the assignee of the present invention and incorporated by reference herein.

A method for transmission of speech in digital communication systems that offers particular advantages in increasing capacity while maintaining high quality of perceived speech is by the use of variable rate speech encoding. The method and apparatus of a particularly useful variable rate speech encoder is described in detail in copending U.S. Pat. No. 5 414 796 which is a continuation application of U.S. patent application Ser. No. 07 713 661 filed Jun. 11 1991 entitled VARIABLE RATE VOCODER assigned to the assignee of the present invention of which the disclosure thereof is incorporated by reference herein.

The use of a variable rate speech encoder provides for data frames of maximum speech data capacity when said speech encoding is providing speech data at a maximum rate. When a variable rate speech coder is providing speech data at a less that maximum rate there is excess capacity in the transmission frames. A method for transmitting additional data in transmission frames of a fixed predetermined size wherein the source of the data for the data frames is providing the data at a variable rate is described in detail in copending U.S. Pat. No. 5 504 773 which is a continuation application of U.S. patent application Ser. No. 07 822 164 filed Jan. 16 1992 entitled METHOD AND APPARATUS FOR THE FORMATTING OF DATA FOR TRANSMISSION assigned to the assignee of the present invention of which the disclosure thereof is incorporated by reference herein. In the above mentioned patent application a method and apparatus is disclosed for combining data of differing types from different sources in a data frame for transmission.

In frames containing less data than a predetermined capacity power consumption may be lessened by transmission gating a transmission amplifier such that only parts of the frame containing data are transmitted. Furthermore message collisions in a communication system may be reduced if the data is placed into frames in accordance with a predetermined pseudorandom process. A method and apparatus for gating the transmission and for positioning the data in the frames is disclosed in U.S. Pat. No. 5 659 569 which is a continuation application of U.S. patent application Ser. No. 07 846 312 filed Mar. 5 1992 entitled DATA BURST RANDOMIZER assigned to the assignee of the present invention of which the disclosure thereof is incorporated by reference herein.

A useful method of power control of a mobile in a communication system is to monitor the power of the received signal from the mobile station at a base station. The base station in response to the monitored power level transmits power control bits to the mobile station at regular intervals. A method and apparatus for controlling transmission power in this fashion is disclosed in U.S. Pat. No. 5 056 109 entitled METHOD AND APPARATUS FOR CONTROLLING TRANSMISSION POWER IN A CDMA CELLULAR TELEPHONE SYSTEM assigned to the assignee of the present invention of which the disclosure thereof is incorporated by reference herein.

In a communication system that provides data using a QPSK modulation format very useful information can be obtained by taking the cross product of the I and Q components of the QPSK signal. By knowing the relative phases of the two components one can determine roughly the velocity of the mobile station in relation to the base station. A description of a circuit for determining the cross product of the I and Q components in a QPSK modulation communication system is disclosed in U.S. Pat. No. 5 506 865 entitled PILOT CARRIER DOT PRODUCT CIRCUIT assigned to the assignee of the present invention the disclosure of which is incorporated by reference herein.

In an alternative continuous transmission strategy if the data rate is less than the predetermined maximum the data is repeated within the frame such that the data occupies the full capacity of the data frame. If such a strategy is employed power consumption and interference to other users may be reduced during periods of data transmission at less than the predetermined maximum by reducing the power at which the frame is transmitted. This reduced transmission power is compensated by the redundancy in the data stream and can offer benefits in range for a fixed maximum transmission power.

A problem that is encountered in controlling transmission power in the continuous transmission strategy is that the receiver does not know the transmission rate a priori and so does not know the power level that should be received. The present invention provides a method and apparatus for controlling transmission power in a continuous transmission communication system.

The present invention is a novel and improved method and apparatus for closed loop transmission power control in a communication system. It is an object of the present invention to provide timely power control that is necessary to provide robust communication link quality under fading conditions.

Further it should be noted that power control techniques are presented in the exemplary embodiment in a spread spectrum communication system however the methods presented are equally applicable for other communication systems. Also the exemplary embodiment used for the control of transmission power in transmissions from a base station to a remote or mobile station may be applied to the control of transmission power in transmissions from a remote or mobile station to a base station.

In the exemplary embodiment a base station transmits packets of data to a mobile station. The mobile station receives demodulates and decodes the received packet. If the mobile station determines that the received packet cannot be reliably decoded it sets the normally 0 quality response power control bit to 1 indicating the situation to the base station. In response the base station increases the transmission power of the signal to the mobile station.

In the exemplary embodiment of the present invention when the base station increase its transmission power it does so with a relatively large step in transmission power which is assumed to be more than adequate under most fading conditions. The base station then decreases the transmission power level at an exponentially decreasing rate as long as the quality response power control bits remain at 0 . In an alternative embodiment the base station responds to a request from the mobile station for additional signal power by increasing the signal power incrementally.

In an improved embodiment of this power control system the base station will determine whether the error reported by the mobile station was of a random nature in which case it will immediately begin ramping down the transmission power or whether the error was an error resulting from a genuine fading condition. The base station distinguishes errors of a random nature from those of a prolonged nature by examining the patterns of power control bits sent by the mobile station. If the pattern of power control request signals and sends a 1 bit quality power control response in the packets it transmits back to the base station and indicates that there is a new fading condition present in the propagation path then the base station will refrain from decreasing the transmission power.

One of the identified sources of sudden changes in the propagation path of a mobile station is a change in velocity relative to the position of the base station. That is if the velocity towards the mobile station or away from the mobile station is changing. In the present invention the mobile station determines that the velocity relative to the base station is changing and if necessary sets the power control bits to request additional power from the base station to accommodate the change in velocity.

In a first exemplary embodiment the mobile station is equipped with a motion sensor which may operate off of information from the speedometer or tachometer in the case of an automobile based mobile station. The mobile station then generates the power control signal in accordance with the signal from the motion sensor.

In a second exemplary embodiment the mobile station may sense a shift in the received signal from the base station in order to sense motion. In the exemplary embodiment the mobile station determines the changes in relative velocity by measuring the Doppler shift in the received pilot signal.

In a third exemplary embodiment the base station determines the presence of motion by sensing changes in the incoming signal and adjusts transmission power in accordance with these changes.

Referring to the present invention is illustrated in an exemplary implementation in a mobile communication system for controlling the power of transmissions between base station and mobile station . Information may be provided to and from a public switched telephone network PSTN to system controller and switch or may be provided to and from controller and switch by another base station if the call is a mobile station to mobile station communication. System controller and switch in turn provides data to and receives data from base station . Base station transmits data to and receives data from mobile station .

In the exemplary embodiment the signals transmitted between base station and mobile station are spread spectrum communication signals the generation of the waveforms of which are described in detail in the above mentioned U.S. Pat. No. 4 901 307 and U.S. Pat. No. 5 103 459. The transmission link for communication of messages between mobile station and base station is referred to as the reverse link and the transmission link for communication of messages between base station and mobile station is referred to as the forward link. In the exemplary embodiment the present invention is used to control the transmission power of base station . However the methods of power control of the present invention are equally applicable to controlling the transmission power of mobile station .

Referring to base station and mobile station are illustrated in block diagram form showing the apparatus for providing control of the transmission power of base station of the present invention. If a communication link degrades then the link quality can be improved by increasing the transmission power of the transmitting device. In the exemplary embodiment of controlling transmission power of base station some of the methods for determining that the transmission power of base station should be increased include 

Conversely some of the methods for determining that the transmission power of base station should be decreased include 

When base station detects a need to modify the transmission power of the forward link control processor sends a signal specifying a modified transmission power to transmitter TMTR . The modified power signal may simply indicate a need to increase or decrease the transmission power or it may indicate an amount to change the signal power or it may be an absolute signal power level. In response to the modified power level signal transmitter provides all transmission at the modified transmission power level.

It should be noted that data source may source modem facsimile or speech data. Data source may be a variable rate source that varies its transmission rate on a frame to frame basis throughout the transmission or may be able to vary rates only upon command. In the exemplary embodiment data source is a variable rate vocoder. The design and implementation of a variable rate speech vocoder are described in detail in the aforementioned application Ser. No. 08 004 484. The output from data source is encoded by encoder and input to traffic modulator for modulation and input to transmitter . Also input to transmitter is a synchronous pilot signal for transmission.

A need for modification of the transmission power may be indicated by any one of the conditions enumerated above or by any combination of those conditions. If the method of power control is based upon a position related effect such as range or mobile station location then an external signal LOCATION is provided to control processor of base station indicative of the location condition. The range condition can be detected by base station . In an alternative embodiment the range condition can be detected by mobile station and transmitted to base station . In response to the detected range condition control processor in base station generates a control signal for modifying transmission power of transmitter .

In a closed loop power control implementation power control signals are provided from mobile station to base station . Mobile station may determine the power control signal in accordance with received power or alternatively in accordance with the detection of frame errors. The present invention is equally applicable to any link quality factors.

If the link quality factor used is received power then the signal from base station received at mobile station by antenna and provided to receiver RCVR which provides an indication of the received power to control processor . If the link quality factor used is the detection of frame errors then receiver downconverts and amplifies the signal providing the received signal to traffic demodulator . If the traffic signal is accompanied by a pilot signal in order to provide for coherent demodulation then the received signal is also provided to pilot demodulator which demodulates the signal in accordance with a pilot demodulation format and provides a timing signal to traffic demodulator . Traffic demodulator demodulates the received signal in accordance with a traffic demodulator format. In the exemplary embodiment traffic demodulator and pilot demodulator are CDMA spread spectrum demodulators the design of which is described in the aforementioned U.S. Pat. Nos. 4 901 307 and 5 103 459. Traffic demodulator provides the demodulated signal to decoder . In a first exemplary embodiment decoder performs error detection decoding to determine if errors have occurred. Error detection correction decoders such as the Viterbi trellis decoder are well known in the art. In an alternative embodiment decoder decodes the demodulated signal and then re encodes the decoded signal. Decoder then compares the re encoded signal with the demodulated signal to obtain an estimate of the channel symbol error rate. Decoder provides a signal indicating an estimated channel symbol error rate to control processor .

Control processor compares the received power or estimated channel symbol error rate referred to generically as the link quality factor against a threshold or set of thresholds which may be static or varying. Control processor then provides the power control information to either encoder or power control encoder P.C. ENC. . If the power control information is to be encoded into the data frame then the power control data is provided to encoder . This method requires that an entire frame of data be processed before transmitting the power control data then encoded traffic data containing power control data are provided to transmitter TMTR through modulator . In an alternative embodiment the power control data may simply overwrite portions of the data frame or may be placed in predetermined vacant positions in the transmission frame. If the power control data overwrites traffic data then this may be corrected by forward error correction techniques at base station .

In implementations that process a full frame of data before providing the power control data the delay waiting for a full frame to be processed is undesirable in fast fade conditions. The alternative is to provide the power control data directly to modulator where it may be punctured into the outgoing data stream. If the power control data is transmitted without error correction coding then control processor outputs the power control data directly to modulator . If error correction coding is desired for the power control data control processor outputs the power control data to power control encoder which encodes power control data without regard to the outgoing traffic data. Power control encoder provides the encoded power control signal to modulator which combines the encoded power control signal with the outgoing traffic data provided from data source through encoder to modulator . Transmitter upconverts and amplifies the signal and provides it to antenna for transmission to base station .

The transmitted signal is received at antenna of base station and provided to data receiver RCVR where it is downconverted and amplified. Receiver provides the received signal to demodulator which demodulates the received signal. In the exemplary embodiment demodulator is a CDMA spread spectrum demodulator which is described in detail in the aforementioned U.S. Pat. Nos. 4 901 307 and 5 103 459. If the power control data is encoded within a frame of traffic data then the traffic and power control data is provided to decoder . Decoder decodes the signal and separates the power control signal from the traffic data.

If on the other hand the power control data is not encoded with a full frame of data but rather punctured into the transmission stream of data then demodulator demodulates the signal and extracts the power control data from the incoming data stream. If the power control signal is not encoded then demodulator provides the power control data directly to control processor . If the power control signal is encoded then demodulator provides the encoded power control data to power control decoder P.C. DEC. . Power control decoder decodes the power control data and provides the decoded power control data to control processor . The power control signal is provided to control processor which in accordance with the power control signal provides a control signal to transmitter indicative of a modified transmission power level.

One of the inherent problems with closed loop power control systems is a relatively slow response time relative to an open loop power control system. For example in a closed loop power control system when base station transmits a frame at an insufficient transmission energy to mobile station mobile station receives and decodes the frame determines whether the frame is in error prepares a power control message indicating the frame error then transmits the power control message to base station which decodes the frame extracts the power control message and adjusts the transmission power of transmitter . This results in a four frame time log before correction is apparent at mobile station . Thus if the propagation path has deteriorated four consecutive frames would be transmitted at the same insufficient frame energy before a frame is transmitted at the adjusted frame energy. In this delay period the fading condition may have substantially improved or deteriorated.

The following are methods by which to improve the responsiveness of a closed power control system. In a first exemplary embodiment of the present invention the base station assumes the worse case. That is that the propagation path has deteriorated during the four frame delay period. In response the base station increases the transmission energy to that user by a relatively significant amount E so that the adjustment will be more than adequate to assure the power adjusted frame will be properly received even if the propagation path has deteriorated in the interim. In one implementation the relatively significant amount E is at least one decibel. In the exemplary embodiment of a spread spectrum communication system this increase in power to mobile station causes less power to be available for other users who share the forward link. So the base station transmitter quickly reduces the transmission energy for that user following the initial increase. In the exemplary embodiment the base station increases the energy by a fixed amount E holds that value for a delay period to verify that the increase in transmission energy has been effective and then decreases the transmission energy in accordance with a predetermined piecewise linear function as illustrated in .

Base station performs the adjustment of the transmission energy with knowledge that after the transmission energy has been increased there will be a delay before the received power control information will reflect the change in the forward link transmission power. If the propagation channel suddenly worsens base station will receive a series of consecutive power control requests and there will be a delay before the power adjustment requests are responsive to the change in forward link transmission energy. During this delay period base station should not continue to increase the transmission energy for each receives power adjustment request. This is the reason that the power level is held constant for a predetermined delay period as illustrated in the period following point B of .

It should also be noted that errors in a mobile communication system come in two types. Those that are random and those that are the result of a change in the propagation path. In the exemplary embodiment when base station receives a power adjustment request it increases the transmission power by E as described previously. Then it ignores the power adjustment requests and retains the same increased power level for the delay period. In an alternative embodiment base station adjusts the power in accordance with each power control message. However smaller changes would typically be used. This minimizes the impact of random errors.

One of the main influences that results in changes in the characteristics of the propagation path between mobile station and base station is motion by mobile station towards or away from base station . Mobile station may provide base station with information indicating that the mobile station velocity is changing or it may actually provide its velocity relative to base station . If the mobile station is simply providing an indication that its velocity is changing it may provide that information as a power adjustment request signal in anticipation of a change in the quality of the propagation path.

In a first embodiment mobile station may sense the change in velocity by providing a sensor to operate in accordance with a signal from the automobile tachometer or speedometer not shown . In an alternative embodiment mobile station determines either a change in the mobile base station relative velocity or absolute velocity by changes in the received signal from base station . Mobile station may detect a change in velocity or measure the absolute relative velocity by measuring the Doppler effect on the incoming signal from base station . In an alternative embodiment base station may also detect a change in the mobile base station relative change in velocity or measure the absolute relative velocity by measuring the Doppler effect on the incoming signal from mobile station .

The traffic signal provided by base station may be accompanied by a pilot signal in order to provide for coherent demodulation of the received traffic signal. Use of a pilot signal is described in U.S. Pat. Nos. 4 901 307 and 5 103 459 and mobile station can alternatively sense changes in the relative velocity the Doppler shift of the pilot signal.

In a preferred embodiment when base station knows the velocity of mobile station and will vary the value of the incremental change in transmission energy E will vary in accordance with this velocity. The determination of the value of E may be performed algorithmically or by a lookup table in control processor .

If base station transmits a pilot signal along with the traffic signal the pilot signal can be thought of as a traffic signal that carries a predetermined bit stream known by mobile station . Mobile station demodulates the pilot channel in pilot demodulator in order to get timing information to enable mobile station to perform coherent demodulation of the traffic channel. Because the pilot channel and the traffic channel are provided through similar if not identical propagation paths there is a strong correlation between the strength of the received pilot signal and the strength of the received traffic signal. By basing the generation of the power control signal on the pilot channel instead of the traffic channel the delay between receiving the signal transmitted from base station and generation of the power control signal may be reduced.

Referring to pilot modulator provides a pilot signal to transmitter and transmitter of base station provides the pilot signal along with the traffic signal to antenna for broadcast to mobile station . The transmitted signal is received at antenna and provided to receiver . Receiver downconverts and amplifies the pilot signal and provides the received pilot signal to pilot demodulator generates a quality estimate of the demodulated pilot signal and provides it to control processor . Control processor generates a power control signal in accordance with the quality estimate of the demodulated pilot signal and the operation proceeds as described previously.

The previous description of the preferred embodiments is provided to enable any person skilled in the art to make or use the present invention. The various modifications to these embodiments will be readily apparent to those skilled in the art and the generic principles defined herein may be applied to other embodiments without the use of the inventive faculty. Thus the present invention is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.

