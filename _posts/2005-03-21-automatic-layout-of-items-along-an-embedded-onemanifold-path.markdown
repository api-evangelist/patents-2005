---

title: Automatic layout of items along an embedded one-manifold path
abstract: The coordinates for laying out visual items in two-, three-, or n-dimensional space along an embedded one-manifold or path are calculated and coordinates are generated for placement of the items in a container. A one-manifold may be continuous, discontinuous, be contained entirely within a container or extent beyond a container. The one-manifold may be defined by a set of parameters defining a function, formula or set of points. The container may be a two-dimensional, three-dimensional, or n-dimensional container. Such a mechanism may be employed by a graphics application and may determine the location or positioning of an object or item. The object or item may be one of a set of objects or items. In response to receiving a set of parameters defining a one-manifold, the one-manifold may be embedded within a container. In response to receiving a set of parameters describing aspects of the object or item to be placed within the container, a set of x and y or x, y and z co-ordinates may be generated, which may be sent to a standard graphics interface for display.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07710423&OS=07710423&RS=07710423
owner: Microsoft Corproation
number: 07710423
owner_city: Redmond
owner_country: US
publication_date: 20050321
---
The invention relates to graphics applications and in particular to laying out items in two dimensional space three dimensional space and n dimensional space along a one manifold path embedded within a container.

In graphics applications a user needs to be able to see and lay out visual items in a deterministic fashion very often as an ordered list of items. In some graphics applications two dimensional items are automatically laid out based on a layout policy. Typically items are placed sequentially within a two dimensional usually rectangular container in a left to right right to left top to bottom or bottom to right pattern. Typical layout policies include flow layout in which objects usually rectangular are placed in a rectangular window from left to right dock panels in which objects are laid out vertically and grid layout in which objects are laid out in tabular fashion the grid consisting of cells that are arranged in rows and columns.

When placing objects in three or higher dimensional containers there are fewer preconceptions about how objects should be laid out and there are also fewer constraints. There is a need in the art to provide a more flexible way to lay out visual items not only in two dimensional space but also in three or higher dimensional space.

A mechanism is provided for laying out visual items in two three or n dimensional space along an embedded one manifold or path. A one manifold may be continuous discontinuous be contained entirely within a container or may extend beyond a container. The one manifold may be defined by a set of parameters defining a function formula or set of points. The container may be a two dimensional three dimensional or n dimensional container.

Such a mechanism may be employed by a graphics application and may determine the location or positioning of an object or item. The object or item may be one of a set of objects or items. In response to receiving a set of parameters defining a one manifold the one manifold may be embedded within a container. In response to receiving a set of parameters describing aspects of the object or item to be placed within the container a set of x and y or x y and z etc. co ordinates may be generated which may be sent to a standard graphics interface for display.

The simplest way to arrange items within a container or upon a canvas is to specify the position and orientation of each item. Such a fixed layout scheme is not very useful however when changes occur. For example to insert a new item upon an existing canvas using such a scheme a programmer must specify the placement of the new item. If there is insufficient visual space for that item in the desired location the programmer must re arrange the original items to make room for the new one.

Similarly if the shape or size of the canvas changes all the items may no longer be able to be displayed. If all the items must continue to remain visible code that rearranges the placement of the items must be provided. If the container does not have enough room to display all the items the layout may show only some of the items. A scroll bar may enable a user to choose which of the items are visible.

Although not required the invention can be implemented via an application programming interface API for use by a developer and or included within the network browsing software which will be described in the general context of computer executable instructions such as program modules being executed by one or more computers such as client workstations servers or other devices. Generally program modules include routines programs objects components data structures and the like that perform particular tasks or implement particular abstract data types. Typically the functionality of the program modules may be combined or distributed as desired in various embodiments. Moreover those skilled in the art will appreciate that the invention may be practiced with other computer system configurations. Other well known computing systems environments and or configurations that may be suitable for use with the invention include but are not limited to personal computers PCs automated teller machines server computers hand held or laptop devices multi processor systems microprocessor based systems programmable consumer electronics network PCs minicomputers mainframe computers and the like. The invention may also be practiced in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network or other data transmission medium. In a distributed computing environment program modules may be located in both local and remote computer storage media including memory storage devices.

With reference to an exemplary system for implementing the invention includes a general purpose computing device in the form of a computer . Components of computer may include but are not limited to a processing unit a system memory and a system bus that couples various system components including the system memory to the processing unit . The system bus may be any of several types of bus structures including a memory bus or memory controller a peripheral bus and a local bus using any of a variety of bus architectures. By way of example and not limitation such architectures include Industry Standard Architecture ISA bus Micro Channel Architecture MCA bus Enhanced ISA EISA bus Video Electronics Standards Association VESA local bus and Peripheral Component Interconnect PCI bus also known as Mezzanine bus .

Computer typically includes a variety of computer readable media. Computer readable media can be any available media that can be accessed by computer and includes both volatile and nonvolatile media removable and non removable media. By way of example and not limitation computer readable media may comprise computer storage media and communication media. Computer storage media includes both volatile and nonvolatile removable and non removable media implemented in any method or technology for storage of information such as computer readable instructions data structures program modules or other data. Computer storage media includes but is not limited to RAM ROM EEPROM flash memory or other memory technology CDROM digital versatile disks DVD or other optical disk storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium which can be used to store the desired information and which can be accessed by computer . Communication media typically embodies computer readable instructions data structures program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term modulated data signal means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example and not limitation communication media includes wired media such as a wired network or direct wired connection and wireless media such as acoustic RF infrared and other wireless media. Combinations of any of the above should also be included within the scope of computer readable media.

The system memory includes computer storage media in the form of volatile and or nonvolatile memory such as read only memory ROM and random access memory RAM . A basic input output system BIOS containing the basic routines that help to transfer information between elements within computer such as during start up is typically stored in ROM . RAM typically contains data and or program modules that are immediately accessible to and or presently being operated on by processing unit . By way of example and not limitation illustrates operating system application programs other program modules and program data .

The computer may also include other removable non removable volatile nonvolatile computer storage media. By way of example only illustrates a hard disk drive that reads from or writes to non removable nonvolatile magnetic media a magnetic disk drive that reads from or writes to a removable nonvolatile magnetic disk and an optical disk drive that reads from or writes to a removable nonvolatile optical disk such as a CD ROM or other optical media. Other removable non removable volatile nonvolatile computer storage media that can be used in the exemplary operating environment include but are not limited to magnetic tape cassettes flash memory cards digital versatile disks digital video tape solid state RAM solid state ROM and the like. The hard disk drive is typically connected to the system bus through a non removable memory interface such as interface and magnetic disk drive and optical disk drive are typically connected to the system bus by a removable memory interface such as interface .

The drives and their associated computer storage media discussed above and illustrated in provide storage of computer readable instructions data structures program modules and other data for the computer . In for example hard disk drive is illustrated as storing operating system application programs other program modules and program data . Note that these components can either be the same as or different from operating system application programs other program modules and program data . Operating system application programs other program modules and program data are given different numbers here to illustrate that at a minimum they are different copies. A user may enter commands and information into the computer through input devices such as a keyboard and pointing device commonly referred to as a mouse trackball or touch pad. Other input devices not shown may include a microphone joystick game pad satellite dish scanner or the like. These and other input devices are often connected to the processing unit through a user input interface that is coupled to the system bus but may be connected by other interface and bus structures such as a parallel port game port or a universal serial bus USB .

A monitor or other type of display device is also connected to the system bus via an interface such as a video interface . A graphics interface such as Northbridge may also be connected to the system bus . Northbridge is a chipset that communicates with the CPU or host processing unit and assumes responsibility for accelerated graphics port AGP communications. One or more graphics processing units GPUs may communicate with graphics interface . In this regard GPUs generally include on chip memory storage such as register storage and GPUs communicate with a video memory . GPUs however are but one example of a coprocessor and thus a variety of coprocessing devices may be included in computer . A monitor or other type of display device is also connected to the system bus via an interface such as a video interface which may in turn communicate with video memory . In addition to monitor computers may also include other peripheral output devices such as speakers and printer which may be connected through an output peripheral interface .

The computer may operate in a networked environment using logical connections to one or more remote computers such as a remote computer . The remote computer may be a personal computer a server a router a network PC a peer device or other common network node and typically includes many or all of the elements described above relative to the computer although only a memory storage device has been illustrated in . The logical connections depicted in include a local area network LAN and a wide area network WAN but may also include other networks. Such networking environments are commonplace in offices enterprise wide computer networks intranets and the Internet.

When used in a LAN networking environment the computer is connected to the LAN through a network interface or adapter . When used in a WAN networking environment the computer typically includes a modem or other means for establishing communications over the WAN such as the Internet. The modem which may be internal or external may be connected to the system bus via the user input interface or other appropriate mechanism. In a networked environment program modules depicted relative to the computer or portions thereof may be stored in the remote memory storage device. By way of example and not limitation illustrates remote application programs as residing on memory device . It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers may be used.

One of ordinary skill in the art can appreciate that a computer or other client device can be deployed as part of a computer network. In this regard the present invention pertains to any computer system having any number of memory or storage units and any number of applications and processes occurring across any number of storage units or volumes. The present invention may apply to an environment with server computers and client computers deployed in a network environment having remote or local storage. The present invention may also apply to a standalone computing device having programming language functionality interpretation and execution capabilities.

When placing items within a two dimensional three dimensional or n dimensional container in some embodiments of the invention a first object first last object last paradigm is employed. In accordance with some embodiments of the invention a first object first last object last paradigm may place objects along any path e.g. along any one manifold or one dimensional path or line embedded within the space hence providing such a path enables a general means for mapping the objects using the first object first last object last paradigm into the space. The one manifold or path may be open that is may begin and end at different points within the space or closed begin and end at the same point within the space continuous or discontinuous curved straight or segmented piece wise smooth . The one manifold may be polynomial based or non polynomial based and can be of any length. The one manifold may extend beyond the container in which it is embedded or may be confined within it embedding container. illustrate four such paths paths and respectively of an infinitely large number of possible paths within a two dimensional space and respectively .

It will be appreciated that an infinitely large number of possible closed and open paths within a three dimensional space are also possible. illustrates one such possible closed circular one manifold embedded into a three dimensional space with items etc. uniformly distributed along the one manifold . In some embodiments of the invention the one manifold e.g. etc. may be specified as a set of points connected by straight lines or as reference points for some higher order interpolation function or curve definition function. Items may be placed along the one manifold uniformly randomly according to some function or equation or based on an item s extent and any additional space that should surround that item to allocate space along the one manifold or by any other function algorithm or scheme. For example a layout algorithm could place items using the width of each item plus a minimum amount of surrounding space specified either as a fixed value as a percentage or as some fixed function of the extent of the item and or of the extent of the item s neighbor.

The scale or orientation of the item s may also be specified. For example an item may be perpendicular to the one manifold skewed rotated oriented so that the top of the item is parallel to the top of the container see items etc. . Alternatively a center line of an item may be oriented tangent to the path see center line of item along path or according to any function algorithm or scheme.

In three dimensional space items may be laid flat with the top edge of the item oriented to the left as illustrated in . Similarly items may be oriented perpendicularly to the one manifold with the top edge up as illustrated in or items may be oriented to the viewer with the top edge of the item up as illustrated in

Thus in some embodiments of the invention the orientation of the item may be specified in relation to some point axis or plane or may be oriented as some function of the item itself its neighbors and or the item s neighborhood. Examples of such item orientation specification could include items facing the viewer facing a point in three dimensional space tangent or normal to a path and so on. An item can also be oriented according to various rules that may incorporate parameters apart from those specified by the manifold itself. For example items on the manifold may exhibit inertial characteristics that depend on speed of movement Items could be modeled as objects with mass which hang on the manifold as on a rail depending on the speed of item movement they may then orient themselves away from the center of curvature. Other possibilities include enforcing orthogonality of an axis of the item with the tangent of the one manifold while the object remains facing a particular point in space.

By specifying a one manifold so that portions of the one manifold fall outside the visible portion of its container the items on the portion of the manifold outside that container would not be visible as illustrated in . Items and are visible while items and along one manifold are not visible because they fall outside container . A similar one manifold extending outside the container is illustrated in

In some embodiments of the invention only a subset of the items is displayed. This may be necessary when there are more items than can be desirably displayed in the available space. In some embodiments of the invention the displayed subset of items is representative of the complete set of items. The first item in the subset may be defined as the first item on the one manifold.

In some embodiments of the invention all of the items in the set may be visible by scrolling along the one manifold. In some embodiments of the invention a position along the one manifold is mapped to a position along a linear scroll bar. Hence scrolling across the one manifold is translated to movement along the straightened path see and . In some embodiments of the invention the distance along the one manifold is mapped to the corresponding distance along the straightened path see and . Alternatively the position of point along an axis such as but not limited to the x axis may be mapped to the straightened path see and . Other mappings may use a point s abscissa as the value along the straightened path or provide some other one to one mapping. Any point on the 2D display may be mapped to a single point on the one manifold in such a way that for any given point x y mapped to a point s on the manifold where s is drawn from a continuous parameterization of the manifold there are finite non zero values and such that a if x y is within distance from x y the mapped point s corresponding to x y is necessarily such that s s 

An exemplary method for placing an object in a container along an embedded one manifold is illustrated in . At parameters associated with or defining the one manifold may be received. The one manifold or path may be open that is may begin and end at different points within the space or closed begin and end at the same point within the space continuous or discontinuous curved straight or segmented piece wise linear . The one manifold may be polynomial based or non polynomial based and can be of any length. The one manifold may extend beyond the container in which it is embedded or may be confined within it embedding container.

At parameters associated with the object to be placed along the embedded one manifold are received. Parameters associated with the scale or orientation of the item s may be specified. For example an item may be perpendicular to the one manifold skewed rotated oriented so that the top of the item is parallel to the top of the container. Alternatively a center line of an item may be oriented tangent to the path or according to any function algorithm or scheme.

In three dimensional space items may be laid flat with the top edge of the item oriented to the left oriented perpendicularly to the one manifold with the top edge up or may be oriented to the viewer with the top edge of the item up or in any other designated orientation.

Thus in some embodiments of the invention the orientation of the item may be specified in relation to some point axis or plane or may be oriented as some function of the item itself its neighbors and or the item s neighborhood. Examples of such item orientation specification could include items facing the viewer facing a point in three dimensional space tangent or normal to a path and so on.

By specifying a one manifold so that portions of the one manifold fall outside the visible portion of its container the items on the portion of the manifold outside that container would not be visible In some embodiments of the invention only a subset of the items is displayed. This may be necessary when there are more items than can be desirably displayed in the available space. In some embodiments of the invention the displayed subset of items is representative of the complete set of items. The first item in the subset may be defined as the first item on the one manifold.

At the placement of the object or objects are calculated. In some embodiments of the invention x and y coordinates for a two dimensional container or x y and z coordinates for a three dimensional container are calculated. At the coordinates and possibly the object s are passed to a standard display module for display.

The various techniques described herein may be implemented in connection with hardware or software or where appropriate with a combination of both. Thus the methods and apparatus of the present invention or certain aspects or portions thereof may take the form of program code i.e. instructions embodied in tangible media such as floppy diskettes CD ROMs hard drives or any other machine readable storage medium wherein when the program code is loaded into and executed by a machine such as a computer the machine becomes an apparatus for practicing the invention. In the case of program code execution on programmable computers the computing device will generally include a processor a storage medium readable by the processor including volatile and non volatile memory and or storage elements at least one input device and at least one output device. One or more programs that may utilize the creation and or implementation of domain specific programming models aspects of the present invention e.g. through the use of a data processing API or the like are preferably implemented in a high level procedural or object oriented programming language to communicate with a computer system. However the program s can be implemented in assembly or machine language if desired. In any case the language may be a compiled or interpreted language and combined with hardware implementations.

While the present invention has been described in connection with the preferred embodiments of the various figures it is to be understood that other similar embodiments may be used or modifications and additions may be made to the described embodiments for performing the same function of the present invention without deviating therefrom. Therefore the present invention should not be limited to any single embodiment but rather should be construed in breadth and scope in accordance with the appended claims.

