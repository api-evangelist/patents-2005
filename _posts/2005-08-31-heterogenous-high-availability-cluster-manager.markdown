---

title: Heterogenous high availability cluster manager
abstract: A heterogeneous high availability cluster manager implements a method involving a reception of a first cluster management command in a first cluster management protocol, a conversion of the first cluster management command to a second cluster management command in a second cluster management protocol, and a sending of the second cluster management command to a first node in a heterogeneous cluster management group. To facilitate the conversion of the first cluster management command to the second cluster management command, the second cluster management protocol is registered with the manager whereby the first cluster management command is mapped to the second management command.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08484213&OS=08484213&RS=08484213
owner: International Business Machines Corporation
number: 08484213
owner_city: Armonk
owner_country: US
publication_date: 20050831
---
The present invention generally relates to enterprise datacenters employing a heterogeneous server environment. The present invention specifically relates to high availability techniques implemented by the enterprise datacenters to protect services and data within the heterogeneous server environment.

Enterprise datacenters are located at different sites physically or logically. As such managers of a cluster are employed to protect services and data on the server nodes within that cluster across the different sites. In particular managers of a cluster will cooperatively detect a problem with one of the server nodes within that cluster whereby resources e.g. storage devices associated with the problem server node are transferred in accordance with one or more cluster management commands from the administrator to one of the remaining operating servers nodes within that cluster . Furthermore managers of a cluster will cooperatively facilitate one of the servers nodes within that cluster going offline for manual maintenance purposes whereby resources associated with the offline server node are transferred in accordance with one or more cluster manager commands from the administrator to one of the remaining operating server nodes within that cluster .

A drawback to exclusively implementing homogeneous high availability clusters in this heterogeneous server environment is in the case of a problem with one of the enterprise datacenters e.g. a natural disaster or a need to perform a manual maintenance one of the enterprise datacenters the administrator of the illustrated heterogeneous server environment has to manually manage each individual server node on the subject datacenter via its associated application programming interface module . This manual management of each individual server node on the subject datacenter can be difficult and time intensive as each application programming interface module implements a different cluster management protocol for failover and high availability cluster administration.

For example assuming datacenter is active datacenter is inactive and for maintenance reasons the administrator has to perform a failover switch from datacenter to datacenter then the administrator must execute discrete cluster management commands in accordance with a distinct cluster management protocol for server node and server node within cluster discrete cluster management commands in accordance with a distinct cluster management protocol for server node and server node within cluster. discrete cluster management commands in accordance with a distinct cluster management protocol for server node and server node within cluster and discrete cluster management commands in accordance with a distinct cluster management protocol for server node and server node within cluster . Further assuming an equal duration T for each set of commands and a sequential execution of each set of commands the duration for the administrator to complete the failover switch from datacenter to datacenter is equal to 4 T. Clearly this process can involve a significant degree of complexity and consumes a significant amount of time.

A challenge therefore for the computer industry is to facilitate a reduction in the complexity and time duration of a high availability failover implementation within the heterogeneous server environment.

The present invention provides a new and unique heterogeneous high availability cluster manager that overcomes the aforementioned drawbacks.

One form of the present invention is a computer program product comprising a computer usable medium tangibly embodying at least one program of instructions executable by a computer to perform operations for receiving a first cluster management command in a first cluster management protocol converting the first cluster management command to a second cluster management command in the second cluster management protocol and sending the second cluster management command to a node in a heterogeneous cluster management group.

A second form of the present invention is server employing a processor and a memory storing instructions operable with the processor the instructions being executed for receiving a first cluster management command in a first cluster management protocol converting the first cluster management command to a second cluster management command in the second cluster management protocol and sending the second cluster management command to a node in a heterogeneous cluster management group.

A third form of the present invention is a method for receiving a first cluster management command in a first cluster management protocol converting the first cluster management command to a second cluster management command in the second cluster management protocol and sending the second cluster management command to a node in a heterogeneous cluster management group.

The forgoing forms and other forms objects and aspects as well as features and advantages of the present invention will become further apparent from the following detailed description of the various illustrated embodiments of the present invention read in conjunction with the accompanying drawings. The detailed description and drawings are merely illustrative of the present invention rather than limiting the scope of the present invention being defined by the appended claims and equivalents thereof.

Each homogenous high availability cluster incorporates one or more highly available information technology IT applications not shown installed on server nodes for purposes of providing a particular service and or data such as for example a database application and a web server application.

Each homogenous high availability cluster further incorporates homogeneous high availability cluster managers HOCM with each cluster manager being installed on an associated server node and including an application programming interface module APIM for receiving cluster management commands in accordance with a particular cluster management protocol. Cluster managers of a cluster provide a discrete set of cluster management commands in accordance with a distinct cluster management protocol for the server nodes of the particular cluster . Specifically cluster managers of cluster provide a discrete set of cluster management commands in accordance with a distinct cluster management protocol for server nodes Z within cluster cluster managers of cluster provide a discrete set of cluster management commands in accordance with a distinct cluster management protocol for server nodes Z within cluster and so on and so on as applicable.

To manage cluster Y into one or more heterogeneous cluster management groups in accordance with the present invention each cluster managing server node has a heterogeneous cluster manager HECM of the present invention installed thereon. Each HECM serves as an abstraction layer that provides a centralized common interface to the different cluster command protocols provided by the different cluster managers . Thus as will be appreciated by those having ordinary skill in the art HECMs eliminate a need to transmit separate cluster management commands to the application programming interface modules of the different cluster managers .

In practice a structural configuration of a HECM of the present invention is dependent upon the commercial implementation of the HECM . For example HECM can be structurally configured as separate and distinct hardware installed on an associated server node as software installed in a computer usable storage medium such as the memory of an associated server node or as any combination thereof. The present invention therefore does not impose any limitations or any restrictions to the structural configuration of a HECM of the present invention. Thus the following description of one embodiment of a HECM of the present invention as illustrated in does not limit or restrict the scope of the possible structural configurations of a HECM of the present invention.

To facilitate an understanding of the illustrated embodiment of a HECM of the present invention will now be described herein in the context of a heterogeneous server environment illustrated in that employs three 3 datacenters and two 2 heterogeneous cluster management groups . Each heterogeneous cluster management group includes two different homogeneous high availability clusters with each cluster employing three 3 server nodes and three 3 homogeneous high availability cluster managers HOCM equally distributed across enterprise datacenters . Specifically heterogeneous cluster management group has different server nodes and located at datacenter different server nodes and located at datacenter and different server nodes and located at datacenter . Similarly heterogeneous cluster management group has different server nodes and located at datacenter different server nodes and located at datacenter and different server nodes and located at datacenter .

Referring to the illustrated embodiment of manager includes a registration module a command execution module and an application programming interface module . Registration module implements a registration method of the present invention as represented by a flowchart illustrated in and command execution module implements a command execution method of the present invention as represented by a flowchart illustrated in . To this end as will be appreciated by those having ordinary skill in the art registration module maintains a cluster management protocol registry and a heterogeneous cluster management group registry and command execution module maintains a heterogeneous cluster management command set for facilitating the HECM in servicing as a centralized common interface to the different cluster management protocols implemented by the server nodes of cluster groups and for purposes of executing cluster management commands generated by an administrative API call source e.g. an administration workstation located at one of the datacenters shown in .

Specifically command set is based on a common core functionality required for HECM in providing a high availability services for heterogeneous cluster groups . In one embodiment the common core functionality includes cluster group functions highly available resources functions and server node functions. The cluster group functions consists of a cluster group creation a cluster group deletion a cluster group modification a cluster group start a cluster group stop a cluster group attribute policy definition and a cluster group attribute policy modification. The highly available resources functions consist of a highly available resources creation a highly available resources deletion and a highly available resources modification. The server node functions consist of an activating server node a deactivating server node and a switching server nodes. Registry is established and maintained based on the common core functions of the command set .

Referring to a stage S of flowchart encompasses registration module registering each cluster management protocol in registry . In the context of registration would include registrations of a distinctive cluster management protocol of server nodes e.g. a protocol for IBM High Availability Cluster Microprocessing a distinctive cluster management protocol of nodes e.g. a protocol for Microsoft Cluster Servers a distinctive cluster management protocol of nodes e.g. a protocol for Veritas Cluster Servers and a distinctive cluster management protocol of nodes e.g. a protocol for Hewlett Packard MCSG .

For example as shown in registration module can map a heterogeneous cluster management command HECMC from command set to the same homogeneous cluster management command HOCMC from managers with each HOCMC being in accordance with a different cluster management protocol. In particular HOCMCs can be highly available failover commands with HOCMC HOCMC having and command implementations and HOCMC additionally having and command implementations. As such registration module factors in the different structures of the cluster group move commands by setting default values for the and command implementations e.g. 0 and Yes respectively of HOCMC to facilitate a simultaneous call execution of HOCMC with one or more of the other HOCMCs by command execution module in dependence upon the heterogeneous cluster management grouping of the underlying server nodes .

Referring again to in one embodiment registration module can maintain registry with a Extensible Markup Language XML file of any type of structure and format that is presented via a graphical user interface GUI to source . For example registration module can maintain registry with a XML file shown . XML file is structured and formatted based on a mapping of a heterogeneous cluster management command set to an homogeneous cluster management command set for a Microsoft MSCS vendor product provided by source via the GUI a mapping of heterogeneous cluster management command set to a homogeneous cluster management command set for a Veritas VCS vendor product by source via the GUI and other mappings not shown.

Referring again to a stage S of flowchart encompasses registration module registering each heterogeneous cluster management group in the heterogeneous server environment into registry . In the context of registry would include registrations of heterogeneous cluster management groups and .

A stage S of flowchart encompasses registration module adding server nodes to each heterogeneous cluster management group . For example in the context of server nodes and would be added to heterogeneous cluster management group and server nodes and would be added to heterogeneous cluster management group as exemplary shown in . The following are exemplary add node commands ANCand ANCas shown in 

A stage S of flowchart encompasses registration module defining node dependencies attributes and policies to factor in the different operational nature of the various server nodes added to a particular heterogeneous cluster management group. For example in the context of server nodes of heterogeneous cluster management group can be Web servers and server nodes of heterogeneous cluster management group can be database servers whereby the a data reliance by the Web servers on the database servers requires a database server to made online prior a Web server that will be relying on the database server. The following is an exemplary dependency 

Upon completion of flowchart registry will contain a mapping of each heterogeneous cluster management group to its respective server nodes as exemplary shown in .

An operation of command execution module based on registry registry and command set will now be described herein. Referring to a stage S of flowchart encompasses command execution module receiving a heterogeneous cluster management command from source via API communication module . A stage S of flowchart encompasses command execution module converting the heterogeneous cluster management command into homogeneous cluster management commands based on the registration mapping performed by registration module . A stage S of flowchart encompasses command execution module executing calls directed to the homogeneous cluster management commands to the appropriate server nodes of heterogeneous cluster management groups .

For example in the context of assuming datacenter is active datacenter is inactive and for maintenance reasons the administrator has to perform a failover switch from datacenter to datacenter command execution module would receive a heterogeneous cluster management command HECMC in the form of a failover switch on behalf of datacenters and as shown in convert the HECMC command into the HOCMCs commands mapped to the HECMC as shown in and execute calls directed to HOCMCs commands to respective managers within the heterogeneous cluster management groups as shown in .

Referring to the inventive principles of the present invention were explained in the context of the heterogeneous server environment illustrated in derived from the heterogeneous server pool illustrated in . In practice those having ordinary skill in the art will appreciate how to apply the aforementioned inventive principles of the present invention to any heterogeneous server environment derived from the heterogeneous server pool illustrated in .

Still referring to those having ordinary skills in the art will appreciate numerous advantages of the present invention including but not limited to addressing the drawbacks of the background art previously described herein. In particular the advantages of the present invention become more significant as the heterogeneous server environments become more and more complex based on an increase in the number of datacenters an increase in a number of different cluster management protocols and or an increase in the complexity of the dependencies attributes and policies of the server nodes within a heterogeneous cluster management group.

Referring to in a practical embodiment modules and of manager are embodied as software modules written in a conventional language and installed within a memory of a server node whereby the processor s of the server node can execute modules and to perform various operations of the present invention as described in connection with the illustrations of .

Referring to an alternative embodiment of a heterogeneous high availability server pool of the present invention consists of an X number of heterogeneous cluster management server nodes where X 1 and a Y number of homogenous high availability cluster where Y 1 with each homogenous high availability cluster consisting of a Z number of homogeneous high availability server nodes where Z 2. In this embodiment node s can be designed to individually manage homogenous high availability clusters . The advantage for this embodiment is in establishing a standard cluster management set that is applicable to each homogenous high availability cluster as well as each heterogeneous cluster management group derived from clusters e.g. heterogeneous cluster management group shown in .

While the embodiments of the present invention disclosed herein are presently considered to be preferred embodiments various changes and modifications can be made without departing from the spirit and scope of the present invention. The scope of the invention is indicated in the appended claims and all changes that come within the meaning and range of equivalents are intended to be embraced therein.

