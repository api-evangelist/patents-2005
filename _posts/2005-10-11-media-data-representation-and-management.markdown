---

title: Media data representation and management
abstract: Managing media objects on a computing device executing a media player application for rendering one or more of the media objects. The media objects have metadata associated therewith. A media object is defined to represent the media object, which includes a plurality of properties where at least one of the properties of the media object is representative of media content of the media object and where at least another one of the properties of the media object is representative of metadata associated with the media object. The media object is dynamically exposed to the media player application for performing one or more operations on the properties. The properties of the media object are alternatively exposed without exposing the media object represented thereby. Alternatively, a set of rules for each of the properties is defined, and one or more operations are dynamically exposed as a function of the defined set of rules.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07636509&OS=07636509&RS=07636509
owner: Microsoft Corporation
number: 07636509
owner_city: Redmond
owner_country: US
publication_date: 20051011
---
This application is a continuation in part of U.S. patent application Ser. No. 11 197 068 filed Aug. 4 2005 entitled MANAGEMENT OF MEDIA SOURCES IN MEMORY CONSTRAINED DEVICES assigned to or under obligation of assignment to the same entity as this application which is incorporated by reference.

Digital media contents are omnipresent nowadays from the music files played in a portable media device such as a favorite album played on a MP3 player to a series of digital video clips such as TV programming or a digital photo album displayed on one s computer such as someone s vacation photos . In each of these examples the information associated with these media e.g. the name of the album time of the vacation or the like is just as important as the media itself. Users are interested in more than just the content of a particular piece of digital media. In many situations the users want to know how media content relates to them e.g. the name of a favorite album to what does media content refer e.g. TV programming how the media content relates to other content of the same type e.g. winter ski trip photos versus summer beach trip photos or how media content may be associated in other organized or arbitrary ways. The abundance of digital media contents coupled with the cataloging of the information associated with them makes searching representing and or managing digital media contents a challenge.

Typically media contents and information are linearly organized. While they may be represented in many different ways simple text strings are often frequently used. For example suppose a user wishes to retrieve from a data store a list of albums that is currently available to the user. Current implementations typically would retrieve a list of names of albums in text strings. No other related information is provided to the user. If the user next wishes to retrieve the content e.g. a title of a song from one of the albums another query is performed to retrieve the new information e.g. the titles from the previous retrieved results.

While such basic and logical scheme functions well in representing media contents it fails to account for the wealth of information that should be included. From the example above if there are two albums by two different artists with the identical name such as Greatest Hits current implementations would report two instances of the text strings Greatest Hits leaving the user short of knowing which Greatest Hits albums belong to which artist. In some embodiments only one instance of the string Greatest Hits may be returned making even the count of elements incorrect. Users are also interested in understanding how groups of objects relate. If presented with the a list of text strings that represent a file system location for a number of digital photos most users would be forced to examine each photo to determine relevancy or value thereof. However if users receive the same list of text strings with the knowledge that they are photos from their last vacation they are immediately able to better judge relevancy and to determine the value of the photos.

In addition digital portable media devices have expanded the reach of digital media content and have provided the convenience of playback of digital media files. Portable media devices such as MP3 players cellular phones smart phones personal digital assistants PDA and the like play digital audio and or video files and display digital graphics or images. These portable media devices typically have a memory storage area to store the media files or media objects. In managing the stored media objects the portable media devices customarily build a database structure such as a media library in the fixed or local memory storage area available on the device. This storage may be in a solid state or magnetic fixed disk format.

Currently some portable media devices reserve an amount of memory storage area for the media library to organize the media objects in addition to storing the media objects. For example the portable media devices may store a set of tables or an index table listing the media objects by information such as content genre content artist content duration content title content collection album or the like relating to the media objects.

However in existing portable media devices where the memory storage area has a limited capacity reserving and maintaining the media library in the memory storage area hinders the amount of media objects that can be stored in the same memory storage area. Some portable media devices are configured to accept portable or removable memory sources such as flash memory cards e.g. Universal Serial Bus USB memory sticks xD card or the like to store additional media objects. These portable media devices however fail to provide a full and rich media library management capability to manage media objects stored in one or more storage sources.

A simplistic approach to providing a richer media management experience involves trying to pre budget an amount of space in the fixed or local memory storage on the device to hold information about the media objects available on each of the removable storage devices inserted in the device. Since removable storage continue to increase in storage limits any attempt to pre budget enough space on the memory storage area of the portable media device to store the maximum possible number of entries will result in placing a maximum size limit on the removable storage that can be used in the device. In addition users typically want more space so this artificial limit may make the device unappealing to the users as the size of compatible removable storage grows larger than the maximum size the portable media device supports. With users having multiple cards or removable memory sources a fixed amount of reserved memory or an expected limit of memory on the portable media device is impracticable to accommodate a large database in the portable media device.

Embodiments of the invention overcome the shortfalls for prior systems by hierarchically e.g. in a tree data structure representing and managing media objects and contents as a collection of media objects and contents. Such representation conveniently associates relevant data and metadata to each media object or content to facilitate managing and rendering of the media objects and contents. In one aspect of the invention an application programming interface API is used to represent and manage media objects and contents so that a media player application e.g. a media player can communicate with a media provider e.g. a data store a media library an online music store or the like to discover group and manipulate media objects.

By finding retrieving and storing metadata of media objects via communications with a media provider alternative embodiments of the invention efficiently represent media objects to the user of the portable media device with a full and rich user experience with a complex view of a collection of available digital media objects. In addition embodiments of the invention in response to a query from a user provide a query result identifying locations either local or external of media objects that are available to the user. In particular embodiments of the invention represent for example the removable storage sources remote media repositories remote subscription sources and remote media broadcasting sources to the host application of a portable media device. Finally embodiments of the invention enable users to select content from one of these collections or to select one or more collections and render the content of the files.

In addition embodiments of the invention support storing a media library or media database content on removable read write media instead of storing it on the local memory storage area of a portable media device. In particular embodiments of the invention permit maintaining a database that includes information relating to the media objects in the most informative manner for the user. Embodiments of the invention enable portable media devices with a limited local storage to support removable storages for maintaining a media library that efficiently aggregates and manages media objects stored in the local storage the removable storage sources and or other content repositories through some form of network connection. Embodiments of the invention also provide for intelligent background updating of the media database or media library to make sure that the portable media device stays in sync with the contents of the removable storage.

This summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This summary is not intended to identify key features or essential features of the claimed subject matter nor is it intended to be used as an aid in determining the scope of the claimed subject matter.

Appendix A illustrates exemplary programming codes to be used in header files according to an embodiment of the invention.

Referring first to a block diagram illustrating an API embodiment for representing and managing media objects or items according to an embodiment of the invention. In one example the API establishes and facilitates communications between a media provider and a media user . For example the media provider may be a data store a data warehouse a memory storage area a media content broadcasting or a streaming source or other source where media item or media object hereinafter media object may be directly or indirectly provided to the media user .

In one example the media object may include a digital media file or digital object representing an audio recording a motion picture or video clip a photograph a web page a streaming audio video file a live audio video stream or a collection of audio recordings a set of motion pictures or video clips photographs television programming streaming audio video files and or live audio video streams. In another embodiment media object includes metadata and information associated with the media object or a collection of media objects . In another example a collection of media objects includes media objects based on one or more following criteria sharing one or more common features or properties based on metadata associated with media object or defined by other user defined criteria. For example user defined criteria may include favorite workout music July 4th summer vacation photo collections or the like. The properties may be based on common features of a piece of metadata e.g. tracks from the same album movies by a particular director tracks by a particular artist that were number one on the charts for more than 5 weeks or other arbitrary groupings e.g. songs ordered together by a user for a particular purpose for example my workout music .

In an alternative embodiment media object includes media objects for representing a reference to an associated media object during runtime. The metadata associated with media object includes information in the form of text images or references to other pieces of digital media. The amount of information in the metadata may be very limited such as the source location for media object or it may be extensive such as lyrics for a song biographical information about a particular actor or director in a feature film a graphical representation links to other material or the like.

The media user receives media object from media provider via API . For example media user may use a media player application to interact with media object . The media player application may be an audio or video media player a set of computer executable instructions hosting the rendering or playback of an audio or video media object . Alternatively media player application may be designed for the purpose of managing media objects and associated collections. In one embodiment API includes a collection discovery component for identifying media objects from a plurality of sources a media collection component for organizing the identified media objects in a hierarchical structure and a collection rendering component for rendering the organized media objects according to the requirements of media player application each of which is discussed in further detail in and A to H. In an alternative embodiment API is used and or embedded in a system as illustrated in .

For example the memory area includes RAM ROM EEPROM flash memory or other memory technology CD ROM digital versatile disks DVD or other optical disk storage magnetic cassettes magnetic tape magnetic disk storage or other magnetic storage devices or any other medium that may be used to store the desired information such as a media collection and that may be accessed by system . In one embodiment memory area is remote from system such that media user may need a prior or an established agreement or right e.g. a subscription to access media collection stored in memory area . In an alternative embodiment another media collection provider provides media collection e.g. a collection of one or more audio or video streaming sources an on demand media source or the like to system via some form of external communication media. Communication media typically embody computer readable instructions data structures program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and include any information delivery media. Those skilled in the art are familiar with the modulated data signal which has one or more of its characteristics set or changed in such a manner as to encode information in the signal. Wired media such as a wired network or direct wired connection and wireless media such as acoustic RF infrared and other wireless media are examples of communication media. Combinations of any of the above are also included within the scope of computer readable media.

The processor is configured to execute computer executable instructions routines application programs software computer executable instructions codes or program modules. Generally program modules include but are not limited to routines programs objects components and data structures that perform particular tasks or implement particular abstract data types. Aspects of the invention may also be practiced in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network. In a distributed computing environment program modules may be located in both local and remote computer storage media including memory storage devices.

In another embodiment the processor is generally programmed by means of instructions stored at different times in the various computer readable storage media of the system . Programs and operating systems are typically distributed for example on floppy disks or CD ROMs. From there they are installed or loaded into the secondary memory of a computing device. At execution they are loaded at least partially into the computer s primary electronic memory. Aspects of the invention described herein includes these and other various types of computer readable storage media when such media contain instructions or programs for implementing the steps described below in conjunction with a microprocessor or other data processor.

The system processes media collection which may be a collection of one or more audio files video clips motion picture files or a series of graphic images e.g. a slide show or any combination stored on a computer readable medium. In an alternative embodiment the media collection may be a collection of zero or more live media streams transmitted from a broadcasting source in a distributed system via the common communication network. In an alternative embodiment media collection may include no media item. For example as media objects are organized as media collections when media user conducts a query for Beatles Greatest Hits on memory area if there is no result a media collection containing no media object is represented in the structure to be discussed in detail in . In other words media collection represents a collection of zero media items.

The processor executes media player application for rendering media collection . For example the media player application may be audio playback software or video rendering software for playback of motion picture.

In another embodiment where API is used in memory constrained devices e.g. portable devices illustrates a system for managing media information on a computing device according to an embodiment of the invention. For example the computing device includes a processor not shown configured for executing computer executable instructions routines codes or the like. In one embodiment the processor such as the processing unit in is included in the computing device for executing applications application programs or software applications such as a host application . The computing device may be a fixed purpose digital media player such as an MP3 player a more general purpose portable media player a cellular phone a PDA a smart phone or other digital media device that is capable of playback or management of digital media objects. In particular the host application provides a number of operations such as playback of the media objects pause playing the media objects fast forward or rewind the playing of the media objects or other operations that may be processed to playback media objects.

Still referring to computing device includes a plurality of media sources storing media objects. In one embodiment computing device includes a local storage media source and one or more external storage media sources . For example computing device includes the local storage media source for storing basic codes or data that are needed to be processed for operating computing device . Such basic codes or data include personalization settings such as name of media user an execution environment of computing device such as date time or the like or other initialization codes. The local storage media source may also store media objects and information relating to a user preference of using computing device . By representing media objects stored in local storage media source or external storage media source according to embodiments of the invention each of the media objects with associated properties in e.g. metadata computed data or the like is exposed to API for use by media user .

Unlike existing portable media devices which purposefully reserve a portion of the local storage media source to store media library or an organizational database to organize or manage media objects stored in the local storage media source computing device overcomes the shortcomings of known art by identifying the one or more external storage media sources through collection discovery component and by representing those sources as a media library collections according to media collection component . As such the need to reserve storage in local storage media source is removed thus expanding the usability of local storage media source and each external media source may independently represent its media collections and objects through the media library collection.

In this embodiment collection discovery component incorporated in computing device identifies one or more media collections and objects stored in at least local storage media source and external storage media sources . In one embodiment collection discovery component establishes a data connection either through a wired or wireless means between computing device and external storage media sources . For example as shown in external storage media source may be a flash memory card USB memory drive or another removable storage device or memory constrained device that may be inserted into or coupled with computing device via collection discovery component . As another example collection discovery component may establish a wired or wireless connection between computing device and external storage media source which may be a hard drive or a memory area of another computing device such as system in . In yet another example collection discovery component may further establish a wired or wireless connection between computing device and external storage media source which may be a storage or a memory area having media objects available in a network such as an intranet an internet or the like that makes media objects available to media user through subscription based access.

In an alternative embodiment a set of basic primitives is defined for external storage media sources and are operational across the sources represented to enable host application to gain easy access to the different media objects and collections stored in external storage media sources via collection discovery component .

Once collection discovery component is made aware of the different media sources available collection discovery component exposes the different media sources to host application using collection management component . By representing the different media sources in a consistent and collection oriented manner host application is able to generically access and manage the local media source and any external media sources regardless of the specific technology or protocols necessary to communicate with each source.

The computing device also includes a display for displaying a user interface generated for displaying the information related to media objects as a result of collection discovery component and media collection component on computing device . In one embodiment playback of digital media objects involves reproducing both the content of the media objects as well as the media information associated with the content of the media objects. While host application is configured to playback the contents of the media objects computing device includes a media manager for managing the sources of media information retrieved by collection discovery component that are exposed using media collection component for viewing the properties metadata or other information associated with the content of the media objects collections and sources. In one embodiment media manager is capable of managing media objects and collections in various media formats in each of the different media sources such as local external removable or remote. In an alternative embodiment media manager responds to notifications from collection discovery component and media collection component and notifies host application or media user of changes of media objects and collections in local storage media source or external storage media sources .

As illustrated in computing device provides a display and a set of operational controls such as a power switch a play button a stop button a fast forward button a rewind button and a pause button . The computing device may also provide an audio output plug for headphones. In one embodiment the computing device may also provide an output to non wired peripherals such as Bluetooth headphones or the like. After a data connection is established between computing device and external storage media sources and and an online subscription collection discovery component recognizes or becomes aware of each of the media sources. In an alternative embodiment collection discovery component may include a set of routines or codes to recognize external storage media sources and and the online subscription .

In yet another embodiment collection discovery component may provide a configurable component to dynamically determine a set of routines or code through a component registry XML file or other technology to recognize external storage media sources and . In an embodiment collection discovery component includes a media source enumerator component to notify collection discovery component when new sources become available or existing sources become unavailable i.e. when they are removed . In an alternative embodiment collection discovery component may be extended to provide notification of new media sources based on some triggering event. For example collection discovery component may notify media user when media user is located close to another user who is broadcasting an electronic offer to share media object contents.

Still referring to once collection discovery component recognizes or identifies the media sources e.g. external storage media sources and and online subscription media manager initially retrieves the name of the media sources and notifies host application that a new source is available. As illustrated in display of computing device displays a list of media sources available to the media user . For example display shows a number of media sources such as WORKOUT DRIVE HOME DRIVE WORK CAR CD SUBSCRIPTION and HOME PC . In addition display illustrates a status of connection between computing device and external storage media sources such as CONNECTED or UNCONNECTED .

In one embodiment collection discovery component may retrieve metadata relating to media information stored in media sources by performing a bind operation between host application of computing device and a media source. For example the bind operation involves initializing a temporary memory structure with some amount of data from the information stored in the media source. This information may be stored on the media source such as a simple delimited text file an XML file or a binary format specific to a particular database implementation or some other proprietary binary data storage mechanism. In another embodiment the information used to initialize the temporary in memory structure may require a conversion of the bind operation or bind requests into a more formal network standard which transfers the requests remotely to another computing device located somewhere on a intranet internet or other network. Next the bind operation is completed when the initialized structure provides a binding between the collection discovery component and the media metadata available on the media source. Following the bind operation the media source typically enters a servicing mode or a stand by mode. In an alternative embodiment collection discovery component may perform a bind operation on a media source that also supports some form of indexing or fast retrieval structure or implementation.

For example after retrieving metadata from media sources collection discovery component is in a standby mode or a pure management mode where collection discovery component is to notify host application of changes of media objects on the media sources. In an alternative embodiment collection discovery component may enter an aggregation mode by aggregating the retrieved metadata to enable host application to present a single result set containing aggregated results across all available media sources rather than a result set representing media information from a single media source such as shown in . In addition media user may also select one of the identified media sources. For example media user may use fast forward button or rewind button to move up and down a highlighted box on display . In the illustrated example media user selects the external storage media source WORKOUT which may be a removable flash card that has established a wired connection with computing device via collection discovery component .

Referring now to an exemplary display configuration of media manager for displaying media information based on retrieved metadata from media sources such as external storage media sources and . In particular collection discovery component is used to identify one or more media objects and collections stored in the media sources and return this resulting metadata using media collection component . Once collection discovery component identifies the different media objects and collections media manager may request additional metadata from the identified media objects where the metadata is related to media objects stored in the media sources. In an alternative embodiment host application may elect to present the retrieved metadata to media user with some form of notification or simply wait until the user goes to investigate which sources are available.

For example as illustrated a retrieved metadata shows a media object named TRACK 1 with an artist named Joe Singer and with the duration of 4 53 is retrieved from the media source CAR CD . Another retrieved metadata indicates a media object named TRACK 10 with an artist named Paul MacCart . . . and with a duration of 4 37 is retrieved from the media source DRIVE H . . . . Also illustrated shown by the highlight box is a retrieved metadata selected by media user indicating a media object named TRACK 10 with an artist named Jane Artist and with a duration of 3 49 from a media source WORKOUT . By presenting retrieved metadata as illustrated embodiments of the invention advantageously provide a rich aggregated user experience to media user with a complete and full view of media objects stored in media sources both local and external such that media user may easily navigate and locate media objects. In addition such user experience overcomes shortcomings of prior systems or designs by accommodating a plurality of external storage media sources and building an efficient and compact metadata library in each of the plurality of external storage media sources.

In another embodiment regardless of the mode e.g. pure management mode or aggregation mode that collection discovery component operates collection discovery component defines a secondary set of APIs enabling consistent access e.g. query to the objects collections and metadata available in the media sources either local or remote. In an alternative embodiment computing device receives a query from a user for querying the metadata and provides a result in response to the received query from the user. As illustrated a search box is provided to media user for searching media objects managed by collection discovery component . In another embodiment the query language used to communicate between computing device and the plurality of media sources may be as complex as a fully functional query language similar to Structured Query Language SQL or as simple as a way to request different pre defined results based on a couple of variables. In another embodiment a simple query language may be defined to identify a media source having media information and to establish a set of property restrictions as Boolean expressions. By providing this rich and full user experience media user may efficiently operate computing device to manage and organize media objects stored in the plurality of media sources.

In an alternative embodiment collection discovery component of API includes free form query or search to be used across different media sources. For example the semantics for accessing a local database stored in a local storage media source having metadata information may be quite different from those necessary for requesting information from an external storage media source. By focusing the API on the minimal set of functionality needed to efficiently represent media information alternative embodiments of the invention build a platform that can scale across a wide range of metadata sources. As such the minimal set of functionality of the API may be implemented in each media source either local or external to map the media sources to whatever semantics that are appropriate for the particular data source. As such media user may use computing device to conveniently retrieve and query media information stored in the media sources.

In addition the free form search capability of collection discovery component enables media user to retrieve additional media objects and collections in response to the search. For example media user may wish to learn Which movies are currently playing in the theaters Based on this free form search or query collection discovery component identifies relevant information in response to the search quest. For example collection discovery component uses a local or remote search engine to search various sources. Upon finding the relevant result collection discovery component returns the result in the form of a collection using collection management component . In one embodiment the returned result may be in the form of a set of uniform resource identifier URI or uniform resource locator URL that identifies a web site displaying a list of movies that are currently playing the theatres in the media user s region e.g. based on zip code or address either by requesting the region from the user or obtaining it computationally from some location service found locally or remotely. Alternatively collection discovery component may also return a set of URI or URL that leads media user to movie trailers. In yet another embodiment collection discovery component may return information necessary to present a broadcast guide for a particular distribution medium. For example the returned information may be necessary for displaying a TV guide to media user .

In one embodiment where there is only one media source either local or external storing media objects media manager may organize the displayed metadata as an ordered list un ordered list or other format that may be defined by the media source.

In an alternative embodiment collection discovery component may cause the consistency of one or more media sources to be validated in an effort to detect changes to contents in the one or more media sources. For example as discussed above in the standby or pure management mode illustrates a synchronization notification dialog box notifying media user whether to synchronize the aggregated metadata displayed on computing device to reflect the changes in the media source. In this operation the contents of one or more of the media sources may be read by the collection discovery component and the metadata extracted may be used to update the information available from the media source. In another embodiment the collection discovery component may cause a media source to enter a data validation mode in which the collection discovery component performs a heuristic scan of the media source looking for changes to the contents by referring to information such as creation or modification date for a particular media object or collection.

In yet another embodiment the media source may be presented with a transaction log or other organizational structure that lists the changes made to the media represented by this media source. The media source may then parse the transaction log or change list and perform the necessary updates to the metadata information stored on the removable device for the media that has changed. In an alternative embodiment collection discovery component may issue a command via the media source to a remote media storage source to request that the remote source validate the consistency of the metadata against the available media.

In yet another embodiment media manager may also notify media user when one or more external storage media sources is not writable. For example illustrates a dialog box to notify media user that the media source is not a writable re writable storage media source. The media user is next asked to permit temporarily storing content library on computing device . In another embodiment a read only implementation of the invention may be created to handle support query and other functionality of the read only media source e.g. a non rewritable CD ROM without requesting permission from the user.

For example if the user attempts to modify the contents of the metadata on the read only media source or device the user is informed that this is not possible and is prevented from making the changes. In this embodiment the media source is responsible for examining the contents of the removable read only memory and building up the necessary metadata based on parsing the contents of the media. In another embodiment the media source may take advantage of a remote metadata repository e.g. remote network storage media source capable of reporting metadata based on serial number or some other identifying piece of information that can be extracted from the read only storage media.

In a further alternative embodiment when the media library or the organized media structure on one of the external storage media sources exceeds or is close to the storage capacity of the external storage media source the alternative embodiment of the invention dynamically enables the media user to browse through all available storage media sources to find the media object in each of the storage media sources before referencing the media object in the media library on the storage media source.

In yet a further embodiment collection discovery component may dynamically adjust speed of retrieving or aggregating metadata from one or more external media sources to achieve optimal user experience characteristics. In this particular embodiment during retrieval of metadata collection discovery component returns some basic information about a specific set of results without actually returning the full result set. For example if media user is connected to a network based external storage media source over a relatively slow connection e.g. dial up collection discovery component may optimize the network traffic to provide the best possible user experience. In another example for a large set of retrievable metadata collection discovery component may initially return information about the number and type of objects available and only return the name or other details of the media objects upon demand from media user such as when media user presses the play button.

In one embodiment collection discovery component identifies media objects from a source such as online subscription as illustrated in . In one example the online subscription source may be an online music store an online streaming source a broadcasting source or a media source where media content is available through some form of synchronization process. As illustrated media user according to its subscription has access to Track 1 and Track 2 from Artist01 9 021 05 NIGHT NEWS from ABC and OCEANS 12 from WARNER BRO. The media manager enables media user to manage sources to which he currently subscribes via the collection discovery component . In this example media user selects 09 21 05 NIGHT NEWS which will be represented in the form of a collection according to the structure described below.

Other display configurations or formats apart from those illustrated in may be implemented without departing from the scope of the invention. In addition other media information fields such as artist album series and or title may be organized appropriately without departing from the scope of the invention. In addition media manager or collection rendering component may perform one or more of the following operations enabling media transport manipulating the state of one or more output devices obtaining state information pertaining to rendering and sending event notifications of different states during rendering.

In one embodiment each of the properties is represented as a variant type allowing only a single read and write method for all properties . Alternative embodiments may specify a particular property processing method. In a further embodiment each of the properties may have specialized rules or parameters associated therewith. For example some properties may be read only and some may only be available under certain conditions etc.

In an alternative embodiment multiple properties may be retrieved or written in a single operation. In addition when there is a change to the properties embodiments of the invention enable clients to respond to the changes e.g. by identifying metadata changes or changes in the parameters or values in the properties through a notification.

For example suppose media user downloads a media collection such as a video playlist from an online news organization that includes an 15 second or 30 second commercial advertisement and the actual news story. While prior APIs would easily make the properties e.g. name title album genre pricing or the like of the individual video files available to a digital media player application embodiments of the invention expose additional or alternative properties from the playlist to the digital media player application or directly to the user by dynamically evaluating the set of rules . In this playlist file example the API evaluates a rule that governs online downloadable files by retrieving the playlist via the uniform resource identifier URI or the uniform resource locator URL and storing the properties in the playlist . Typically properties that appear in the playlist include items such as a human readable title for the item an alternate assignation of authorship e.g. the news agency instead of the reporter or other properties based on business requirements. Under this embodiment the properties defined by the playlist may overrule other properties associated with the collection. For example the title assigned by the news organization is displayed instead of the original property authored by the reporter.

In another embodiment the set of rules governs whether entire media objects are hidden or not exposed to the media player application . For example the existence of a playlist may indicate that a URL to a remote playlist was used as the source for the playlist. Based on the set of rules all of the contents of the playlist may be hidden from the user in such a manner that only the title of the playlist appears. In this example when the playlist is resolved e.g. downloaded from the remote location it is parsed locally to gain access to the media objects associated therewith. Instead of making the media objects in the playlist available as a node in a collection structure to be discussed in the media objects or the collection of media objects represented by this remote playlist is attached to the media object as part of a web collection as shown in . To users of API it appears as if the media object that is sourced from the remote playlist is a single object with the properties of the remote playlist itself. In one embodiment access to the items in the web collection is restricted from view by users of API . Alternative embodiments may make the contents of the remote playlist fully available to users of API .

Still referring to in another example media user may wish to view a movie trailer streaming file on the Internet. In addition the movie trailer file may also be treated as a media collection or a collection of media objects which includes the content of the movie trailer a 30 second or 15 second commercial to be rendered before and or after rendering the movie trailer content or the like. As represented by embodiments of the invention the movie trailer playlist file would include the set of source information for each media object the commercial and the trailer such as one ore more locations where the media object may be streamed from in the form of one or more URIs or URLs. According to rules of evaluation during playback the first URL specified in the source collection for a particular media object would be selected and an attempt would be made to playback the content from this remote location.

If the content was unavailable at the specified remote location the next URL in the list would be attempted. This process would repeat until either the media contents are located at the remote location or the list of possible locations is exhausted. If a valid source location fails to be located playback continues with the next media object in the collection. As such this exemplary implementation of a source collection enables remote playlists or remote media objects collections to indicate more than one potential source for a piece of content so that when the media object or collection is downloaded to the media user s computing device media objects in the collection may be loaded based on a server s availability or if appropriate load balancing of the servers network connection determined by the remote location. In one embodiment such sequencing or load arrangements in the source collection may be hidden and not exposed or represented to media user . Alternative embodiments may expose the different URLs available in source collection to media user . In another embodiment the source collection may apply to local objects as well as remote objects.

Unlike such traditional approach implementations of embodiments of the invention diverge from traditional approaches by representing media collections as media objects. The collection structure represents the media collection including a list of the objects itself. The media collection is capable of reporting to clients the number of objects in the collection as well as providing access to the individual elements in the collection without the need to provide additional resources e.g. memory access processing or the like . As such the collection structure includes a root node representing an album media collection. The album media collection in term includes one or more children nodes which represent Track 1 Track 2 and Track 3. Each of which as a media object includes properties which also include metadata of each of the tracks the set of rules the web collection the source collection and the inheritance collection as described above in . Unlike the traditional linear approach the album collection includes properties which may include metadata of the album collection the set of rules the web collection and the source collection.

Similarly illustrates another collection structure representing a media collection representing media objects belong to an artist such as The Beatles. The collection structure includes a number of child nodes representing one or more albums in media collection . Each of the child nodes also includes nodes representing one or more tracks belong to the respective album. As noted above each representation of the tracks albums and artist includes properties which also include metadata of each of the tracks the set of rules the web collection and the source collection. The associated metadata for each of the tracks is available from the media objects while metadata about the album itself is available from the media collection. In a further example a media collection of all albums by a particular artist is represented by simply creating a new media collection adding this particular album to the new collection along with collections representing each of the other albums by this artist.

In one embodiment the hierarchical structure and the exposed properties of media objects of API are augmented to enable properties to be retrieved from media objects during rendering in a linear fashion as opposed to a hierarchical fashion. illustrates an exemplary implementation using a playlist in a collection structure . While it is natural to express all tracks by a particular artist in using the collection structure described above when media user actually attempts to play this playlist media user is more interested in the list of tracks than the list of albums or the name of the artist. Suppose media user wishes to playback the playlist which includes tracks 1 to 14. As illustrated in Track 1 Track 2 and Track 3 belong to album . In this example the root of the collection structure is enabled to report its children as the leaf nodes of the collection structure rather than its immediate children. In this implementation there is also no requirement that all of the leaf nodes are at a particular depth in the collection structure as shown in .

While the collection structure shows the hierarchical structure the designs and implementations of media objects illustrated in enable the collection structure to optimize property retrieval from individual nodes in the hierarchy. As such in returning properties for objects included in playlist embodiments of the invention does not need to instantiate the Track 1 object before making properties available from the object. In addition an object for a genre is not required to be instantiated in order to retrieve properties from objects which are not its children. In another example this implementation improves time spent in accessing object properties when they are being retrieved from a data store like a database rather from in memory objects e.g. memory cache . In a memory constrained device implementation e.g. system this implementation avoids having to create the individual media objects until they are actually needed for some operation that cannot be performed in prior systems via the access functions. The end result of this optimized implementation is that it is possible to create high performance user interfaces without requiring that all objects being represented are actually instantiated in a memory cache.

Therefore regardless of how extensive or arbitrary a media collection may be each media object is organized and represented with extensible properties and metadata such that random or arbitrary groups of media objects would not create additional processing or resource burden on the system.

Referring to a block diagram illustrating an implementation of collection rendering component for rendering media objects according to an embodiment of the invention. The collection rendering component interfaces with media collection component and receives the organized media objects so that the contents of the media objects are rendered. In one embodiment collection rendering component includes two parts an object or stream player not shown and collection players .

In one example an object player is responsible for playing a specific stream of media. In this example an object player renders a media file that is in a MP3 format. The object player provides control methods to enable media playback operations playing pausing seeking etc. manipulates the state of output devices or receives state information about playback. The object player may also send events to registered listeners to provide notifications of different states during playback. In another embodiment the object player may be adapted to accommodate another format or media platform so that media files or objects in any platform or format may be rendered.

Still referring to the collection players render all of the media objects in the collection in some order. In one embodiment collection players include standard playback modes such as a simple linear playback from the first to the nth object or shuffled playback. In another example collection players like the object player have methods for controlling the playback state manipulating the state of output devices receiving state information about playback or sending events about states of collection players as well as forwarding some of the events from the individual object player.

In an alternative embodiment each of collection players is also an instance of an object player. This enables playback of complex collections to be handled by stacking collection player and . For example in playback or rendering of a set of complex web playlists an initial collection player is created or instantiated to play a root collection containing one media object i.e. a web playlist . When the web playlist is resolved web collection is attached to the media object representing the web playlist . To begin playing the web collection a child collection player is created or instantiated to play web collection . As this child collection player renders media files in web collection i.e. Track 1 Track 2 Track 3 or the like it may encounter an entry e.g. Track N that has a source collection . To play this source collection another instance of a child collection player is created or instantiated and is asked to play source collection using the rules applicable to source collection . By this cascading and stacking implementation of one or more instances collection rendering components embodiments of the invention efficiently re use codes or processes of the collection players to handle playback across the complex playlist.

In an alternative embodiment in addition to sequencing playback the collection player handles format resolution i.e. discovering the format of a particular piece of content object to player binding e.g. associating an object with an object player capable of playing the format and object player lifetimes e.g. including concepts such as pre roll . For example the collection player manages the life time of web playlist during playback runtime. In this scenario an object for the web playlist is instantiated and resolved to a particular format. Collection player will keep the item valid while all child collection players and render their respective collections. In the case of collection player the collection player also performs additional management of the playback experience to make sure that a seamless presentation is achieved. In one embodiment to obtain such a presentation when multiple tracks are being rendered a method pre rolls the next track in the list so that it is prepared to play the moment the current item is completed. In this embodiment collection player is charged with detecting the correct moment during playback of the current track to initiate pre roll on the next track in the collection.

In another embodiment the media collection component is further configured to define a set of rules for the media object property or the collection property and is further configured to dynamically expose the one or more operations for the media object property or the collection property as a function of the defined set of rules. In yet another embodiment the media collection component is further configured to provide a notification when one or more of the properties of the media object are modified. Alternative embodiments include a collection rendering component capable of rendering the contents of a media collection . In an alternative embodiment the collection rendering component is further configured to parse a playlist locally at the computer to resolve the playlist for rendering the remote media objects by the media player application. Alternative embodiments enable the collection rendering component to send notifications about the rendering state and other aspects of the rendering process.

In a further embodiment the media collection component is further configured to organize the media collection in a hierarchical structure where the media collection includes the one or more media objects and each of the one or more media objects in the collection is defined based on one or more of the following sharing at least one common feature based on metadata associated with the media objects or defined by some other user defined criteria e.g. the pseudorandom group of music that user likes to listen to while working out . In another aspect of the invention the collection rendering component is further configured to dynamically expose the media object property or the collection property without exposing the media object or the collection represented thereby.

In yet another embodiment at least one computer readable medium e.g. computer readable medium has a data structure stored thereon where the data structure comprising a media object representative of a media item said media object including a plurality of properties at least one of said properties of the media object being representative of media content of the media item at least another one of said properties of the media object being representative of metadata associated with the media item said media object being exposed to a media player application for performing one or more operations on the properties.

In one embodiment a set of rules for each of the properties is defined and the one or more operations are exposed for each of the properties as a function of the defined set of rules in . In an alternative embodiment a notification is provided to the media player application when one or more of the properties of the media object are modified. In one embodiment where the media object is collectively organized in a playlist the playlist is parsed locally at system or system to resolve the playlist for rendering the media object by the media player application e.g. media player application . In an alternative embodiment the properties of the media object is dynamically exposing without exposing the media object represented thereby in .

The order of execution or performance of the operations in embodiments of the invention illustrated and described herein is not essential unless otherwise specified. That is the operations may be performed in any order unless otherwise specified and embodiments of the invention may include additional or fewer operations than those disclosed herein. For example it is contemplated that executing or performing a particular operation before contemporaneously with or after another operation is within the scope of aspects of the invention.

Embodiments of the invention may be implemented with computer executable instructions. The computer executable instructions may be organized into one or more computer executable components or modules. Aspects of the invention may be implemented with any number and organization of such components or modules. For example aspects of the invention are not limited to the specific computer executable instructions or the specific components or modules illustrated in the figures and described herein. Other embodiments of the invention may include different computer executable instructions or components having more or less functionality than illustrated and described herein.

When introducing elements of aspects of the invention or the embodiments thereof the articles a an the and said are intended to mean that there are one or more of the elements. The terms comprising including and having are intended to be inclusive and mean that there may be additional elements other than the listed elements.

As various changes could be made in the above constructions products and methods without departing from the scope of aspects of the invention it is intended that all matter contained in the above description and shown in the accompanying drawings shall be interpreted as illustrative and not in a limiting sense.

