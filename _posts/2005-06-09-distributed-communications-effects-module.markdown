---

title: Distributed communications effects module
abstract: A distributed communications effects module (DCEM) method, apparatus, and computer medium are adapted to provide communications effects to a simulated message in a distributed simulation in order to enhance the ability of the distributed simulation to model real-world behavior.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07620537&OS=07620537&RS=07620537
owner: Raytheon Company
number: 07620537
owner_city: Waltham
owner_country: US
publication_date: 20050609
---
This application claims the benefit of U.S. patent application Ser. No. 60 579 466 filed on Jun. 14 2004 under 35 U.S.C. 119 e which application is hereby incorporated herein by reference in its entirety.

This invention relates generally to simulation methods and devices and more particularly to simulation methods and devices adapted to provide communications effects in a distributed simulation.

Hardware in the loop is a known simulation technique that allows either parts of a simulation or the entire simulation to be operated by real operational hardware such as sensors radars etc. Man in the loop is a known simulation technique that allows a user to be in control of one or more systems used in a simulation and the simulation does not run without interaction and control by the user.

In general a simulation need not include a man in the loop simulation or a hardware in the loop simulation. A virtual simulation can operate only within one or more computer platforms without real operational hardware and without human interaction as the simulation operates.

A simulation can be distributed operating across multiple computing platforms or it can be non distributed operating in one computing platform. A distributed simulation can include hardware in the loop and or man in the loops simulations or it can include only computing platforms having little or no human interaction during operation of the simulation.

Man in the loop hardware in the loop simulations and virtual simulations can provide an environment in which to run scenarios having more than one simulation system. For example a simulation of a military joint task force command JTFC can be coupled to a simulation of an airborne warning and control system AWACS providing a simulation of interactions between the JTFC and the AWACS. Either one or both of the simulations can be operated by a human operator man in the loop as if the operator were using a real world system e.g. a real JTFC or AWACS as used in the field.

Man in the loop hardware in the loop and virtual simulations can support training analysis development system integration and test. Man in the loop hardware in the loop and virtual simulations are also useful to validate system designs.

High level architecture HLA is a known software structure for generating a high level computer simulation from a group of lower level computer simulations. The HLA provides a structure having rules by which software developers can generate individual lower level software simulations so that they are reusable and can be used by a variety of higher level simulations.

HLA simulations are composed of lower level simulations called federates which combine into a high level simulation called a federation. A federate can exist with multiple instances in a federation. For example there can be several instances of a simulation of a particular weapons system each a federate to a high level aircraft simulation which can be the federation. Federates can also include system functions such as interfaces to human operators interfaces to real operational hardware and interfaces to general software functions such as data collection data analysis and data display. Federates can join and resign from a federation either statically or dynamically as the higher level simulation executes.

The HLA includes three components HLA rules HLA interface specifications and an HLA object model template OMTs . The HLA rules include both federation rules and federate rules. The federation rules include a requirement for a federation object model FOM in compliance with the OMT and documentation thereof.

The federation rules also establish a run time infrastructure RTI in compliance with the HLA interface specifications. The RTI includes software having an executive portion that runs globally and client portions associated with each federate. The federate rules make use of the RTI and specify data exchange with other members of the federation by way of the RTI. The HLA interface specification identifies how federates interact with the federation and with each other.

As is known a federation can include a hierarchy of object classes object instances associated with the object classes object class attributes associated with the object instances and object attribute values associated with the object class attributes. When running the federation generates the object attribute values i.e. data . For example an object class can be aircraft object instances thereof can be Boeing 747 Boeing 707 etc. an object class attribute can be altitude and an object attribute value can be 1000 feet. 

As is also known a federation can also include a hierarchy of interaction classes interaction class parameters associated with the object classes and interaction parameter values associated with the interaction class parameters. When running the federation generates the interaction parameter values. For example an interaction class can be munitions detonation an interaction class parameter can be radius and an interaction parameter value can be seven meters. 

Referring to a prior art simulation environment includes a simulated tank a simulated aircraft simulated missiles and a simulated ship each of which are federates in an HLA federation. The federates can include internal simulations of communications equipment not shown adapted to allow the federates to communicate through a high level architecture HLA which can include a physical layer.

It will be appreciated that during simulation execution the federates can communicate with each other. For example the simulated ship having a transmitter simulation a source federate can transmit a simulated message to the simulated aircraft a destination federate to direct the simulated aircraft toward a target not shown . The simulated message travels over the physical layer of the HLA .

A communications simulation can apply simulated communications effects to one or more of the simulated messages. To this end a simulated message from a source federate can be received by the communications simulation via the HLA the communications simulation can apply the simulated communications effects to the simulated message and the communications simulation can re transmit the simulated message to a destination federate. With this arrangement the communications simulation acts as an intermediate destination federate and an intermediate source federate able to receive a simulated message and re transmit the simulated message.

Simulated communications effects can include for example a fading loss e.g. for simulated analog radio communications or a packet loss e.g. for simulated digital communications provided by the communications effects simulation .

It should be apparent that the simulation environment having the single communications simulation requires that the simulated message transmission be directed to the communications effects simulation . To this end the federates are altered to provide this direction. Furthermore it should be apparent that a simulated message must traverse the HLA physical layer twice resulting in a physical layer bandwidth reduction.

While the method and apparatus of the present invention are shown and described in conjunction with military simulations simulators and systems it should be understood that the invention applies equally well to any simulation or simulator representing two or more systems that communicate with each other.

In accordance with the present invention a method associated with a simulated source object and with a simulated destination object operable in a computer simulation includes providing a first distributed communications effects module DCEM associated with the simulated source object. The method also includes receiving a simulated message with the first distributed communications effects module. The method still further includes applying simulated communications effects to the simulated message with the first distributed communications effects module and transmitting the simulated message to a second distributed communications effects module DCEM associated with the simulated destination object.

In accordance with another aspect of the present invention apparatus associated with a simulated source object and with a simulated destination object operable in a computer simulation includes a first distributed communications effects module DCEM associated with the simulated source object. The first distributed communications effects module DCEM is adapted to receive a simulated message. The first distributed communications effects module is also adapted to apply simulated communications effects to a simulated message. The first distributed communications effects module is further adapted to transmit the simulated message to a second distributed communications effects module DCEM associated with the simulated destination object.

In accordance with yet another aspect of the present invention computer usable medium having computer readable code thereon associated with a simulated source object and with a simulated destination object operable in a computer simulation includes program code having instructions for providing a first distributed communications effects module DCEM associated with the simulated source object. The computer usable medium further includes instructions for receiving a simulated message with the first distributed communications effects module and instructions for applying simulated communications effects to the simulated message with the first distributed communications effects module. The computer usable medium still further includes instructions for transmitting the simulated message to a second distributed communications effects module DCEM associated with the simulated destination object.

Before describing the distributed communications effects module some introductory concepts and terminology are explained. As used herein the term operational simulation is used to describe a simulation running in an operational simulator which is a simulation system using actual real world operational hardware and software but communicating with other simulation systems over one or more networks rather than over communication links that the systems normally use for communication. The real world operational hardware may have modifications to enable this communication. For example an operational simulation of an airborne warning and control system AWACS runs on actual AWACS hardware used as an operational simulator but does not communicate with other systems over a radio link used by an actual AWACS system. Instead the AWACS operational simulator can communicate or is otherwise modified to communicate for example with a JSF operational simulator over an electronic network for example an Ethernet network or the Internet network.

It should be recognized that an operational simulator can be but one element in a distributed simulation providing a hardware in the loop simulation. Also the operational simulator may require a human operator providing also a man in the loop simulation.

As used herein the term virtual simulation is used to describe a simulation running in a virtual simulator which does not include an operational system using actual real world operational hardware and software. Generally the virtual simulation uses software portions that model operational software behavior and the virtual simulator is a computing platform for example a personal computer.

It should be recognized that a virtual simulator can also be but one element in a distributed simulation. The virtual simulator may require a human operator resulting in a man in the loop simulation.

A simulation environment system can include one or more operational simulators and or one or more virtual simulators. For example the AWACS simulator described above can be an operational simulator using operational hardware and software. The JSF aircraft simulator communicating with the AWACS operational simulator can be a virtual simulator provided for example by a computer and using for example software other than the operational software.

As used herein the term real world refers to systems effects and scenarios associated with systems used in actual operation. For example a real world airborne warning and control system AWACS is an aircraft system having operational hardware and software as opposed to an operational simulation or a virtual simulation of the AWACS.

As used herein the term simulated communication link refers to a simulated communication path having a simulated transmitter at one end a simulated receiver at the other end.

As used herein the term simulated source object can refer to an object instance for example a radio transmitter within a federate for example a ship simulation in an HLA environment. The simulated source object is a source of a simulated message that can traverse one or more simulated communication links. However as further described below the concept of a simulated source object which is the source of a simulated message also applies to a non HLA distributed simulation environment.

As used herein the term simulated destination object can refer to an object instance for example a radio receiver within a federate for example a ship simulation in an HLA environment. The simulated destination object is a destination i.e. a receiver of a simulated message that can traverse one or more simulated communication links. However as further described below the concept of a simulated destination object which is the receiver of a simulated message also applies to a non HLA distributed simulation environment.

As used herein the term simulated object is used to describe either a simulated source object or a simulated destination object. In an HLA simulation a simulated object can be an object instance.

As used herein the term communications effects refers to real world occurrences and environments and simulations thereof which can impact the quality of communications. For example communications effects can include but are not limited to RF fade delay packet dropouts jitter throughput limitations packet losses trees hills atmospheric conditions and range i.e. distance . Simulated communications effects are simulations of the above described communications effects. The simulated communications effects are more fully described below in conjunction with

As used herein the term fidelity is used to describe the ability of a simulation to model real world behavior. Therefore a simulation having high fidelity models real world behavior better than a simulation having low fidelity.

As used herein the term federation execution data is used to include but is not limited to the above described HLA object classes object instances object class attributes object attribute values interaction classes interaction class parameters interaction parameter values and interaction occurrence data sets. It should be recognized that the federation execution data can include a simulated position geographic coordinates altitude etc. of each of the simulated source objects and simulated destination objects.

As used herein the term virtual information is used more generally to describe information associated with any simulation including but not limited to federation execution data associated with an HLA simulation. It should be recognized that the virtual information can include a simulated position geographic coordinates altitude etc. of each of the simulated source objects and simulated destination objects. The virtual information can include at least one of a simulated location of the simulated source objects a simulated location of the simulated destination objects a simulated foliage simulated weather information simulated atmospheric information simulated cosmic information and simulated terrain information.

Referring now to a simulation environment includes a simulated tank a simulated aircraft a simulated ship and simulated missiles each of which are federates simulated objects in an HLA federation. Each simulated object is coupled to a respective distributed communications effects module DCEM . Each DCEM in coupled to an HLA network .

Each one of the simulated objects can include simulated communications equipment also simulated objects for example a radio transmitter and or a radio receiver. Furthermore each one of the simulated objects can include a plurality of simulated communications equipment for example five radio transmitters and or five radio receivers and or five bidirectional digital communication links.

It will be appreciated that during simulation execution the simulated objects can communicate with each other via the respective DCEMs . For example the simulated ship a simulated source object can transmit a simulated message via the DCEMs to the simulated aircraft a simulated destination object to direct the simulated aircraft toward a target not shown . The simulated message travels over the physical layer of the HLA network .

It should be appreciated that the above described transmission is but one simulated communication link that may be involved in transmission of the same simulated message. For example the same simulated message can be transmitted by the simulated ship at the same time to both the simulated aircraft and the simulated tank another simulated destination object forming a parallel simulated communication link. Furthermore any one of the simulated communication links may be formed from a series of simulated communication links. For example the transmission from the simulated ship to the simulated aircraft can pass through a simulated satellite not shown wherein the simulated satellite receives and re transmits the simulated message forming two simulated communications links in series. In this example the satellite becomes an intermediate simulated destination object that receives the simulated message and also becomes an intermediate simulated source object that re transmits the message to the intended simulated destination object.

Each DCEM can apply simulated communications effects to simulated messages which pass through it. For example a simulated message transmitted by the simulated ship a simulated source object is received by the DCEM . The DCEM can apply simulated communications effects to the simulated message and re transmit the simulated message for example to the simulated aircraft a simulated destination object via the DCEM . For another example a simulated message transmitted by the simulated ship and passing through the DCEM is received by the DCEM . The DCEM can apply simulated communications effects to the simulated message and provide the simulated message to the simulated aircraft . From these examples it should be apparent that the simulated communications effects can be applied to the simulated message either at a source end of a communication link at a destination end of a communication link or both.

It will be appreciated that as the simulation executes in the simulation environment the simulated ship and the simulated aircraft can by dynamically moving. It is known that physical positions for example separation of communications equipment in the real world can affect quality of communications. Similarly simulated physical positions of the simulated objects in the simulation environment can influence simulated communications effects. For example a large simulated separation between the simulated ship and the simulated aircraft can be associated with a degradation of a simulated message passing between the simulated ship and the simulated aircraft which can be simulated by the simulated communications effects.

Each one of the DCEMs can request virtual information i.e. HLA federation execution data from the HLA including but not limited to a position e.g. geographic position altitude etc. of one or more of the simulated objects . To this end it will be appreciated that each one of the DCEMs can act as an HLA federate capable of subscribing to joining the HLA federation to receive information about one or more of the simulated objects . Each one of the DCEMs can retain knowledge of simulated locations of one or more of the simulated objects .

The above examples are representative of one communication link a communication link between the simulated ship and the simulated aircraft . As described above more complex communication link arrangements are also possible. For example the simulated ship can send the same simulated message to both the simulated aircraft and the simulated tank on two simulated communication links. It will be appreciated that the two communication links can be representative of the same physical type of communication hardware and or information protocol type or different types of communication hardware and or information protocol types e.g. an analog radio link having an FM protocol and a digital radio link having a network protocol . Each simulated communication hardware type and or simulated information protocol type can be associated with different types of simulated communications effects. It will also be appreciated that as the simulation executes in the simulation environment the simulated ship the simulated aircraft and the simulated tank can by dynamically moving relative to each other. As described above simulated physical positions of the simulated objects can influence simulated communications effects.

The DCEM can apply simulated communications effects to the simulated message from the simulated ship to the simulated aircraft which can be the same as or different than simulated communications effects applied by the DCEM to the simulated message from the simulated ship to the simulated tank . Similarly the DCEM can apply simulated communications effects to the simulated message from the simulated ship to the simulated aircraft which can be the same as or different than simulated communications effects applied by the DCEM to the simulated message from the simulated ship to the simulated tank .

Still other communication link arrangements are also possible. For example the simulated ship can transmit a simulated message to which simulated communications effects are applied by the DCEM . The simulated message can be transmitted for example by a simulated radio transmitter included within the simulated ship . The simulated message can be directed back via the same DCEM to the simulated ship for example to a simulated radio receiver included in the simulated ship . Additional simulated communications effects can be applied by the DCEM upon directing the simulated message back to the simulated ship .

As should be apparent from the discussion above the simulation environment having the plurality of DCEMs in a distributed arrangement can provide a wide variety of simulated communication link network topologies.

The simulated communications effects can be generated by one or more of the DCEMs in a variety of ways which are described more fully in conjunction with below. The simulated communications effects can include at least one of a simulated message completion effect and a simulated message delay effect. The simulated message completion effects can include but are not limited to a fading effect e.g. for simulated analog radio communications and a packet loss e.g. for simulated digital communications an RF propagation a contention and data collisions. The simulated message delay effects can include but are not limited to network access delays relaying propagation re transmission and queuing.

Referring now to a simulation architecture includes a first federate a simulated object coupled to a first distributed communications effects module DCEM . The first DCEM is coupled in an HLA federation to an HLA network i.e. a physical layer. Similarly the federation architecture includes a second federate a simulated object coupled to a second DCEM . The second DCEM is coupled in the HLA federation to the HLA network . The first federate can be within the same computing platform as the first DCEM and the second federate can be within the same computing platform as the second DCEM . However in other embodiments the first federate is within a different computing platform then the first DCEM and the second federate is within a different computing platform than the second DCEM .

Taking the first federate as representative of the second federate and other federates that might exist in the simulation architecture the first federate includes one or more simulated objects coupled though a run time infrastructure RTI to the first DCEM . For example the first federate can represent a ship and a simulated object can represent a radio transmitter aboard the ship.

Taking the first DCEM as representative of the second DCEM and other DCEMs that might be present in the simulation architecture the first DCEM include a run time infrastructure RTI coupled to the first federate . The RTI exists in a software wrapper surrounding the first DCEM . The RTI and the RTI can support for example communication of a simulated message from the simulated object to an application programming interface API in the first DCEM . The API is shown as two boxes for clarity.

The API is coupled to one or more communications effects protocol CEP modules each adapted to provide respective simulated communications effects associated with a respective simulated communication hardware type and or simulated information protocol. For example in operation a CEP module can provide simulated communications effects associated with a simulated digital data transmitter e.g. simulated source object having a simulated Ethernet information protocol. For another example in operation another CEP module can provide simulated communications effects associated with a simulated analog radio transmitter e.g. simulated source object having a simulated FM information protocol. The CEP modules are described more fully below in conjunction with .

The first DCEM can also include a communications effects server CES . In operation the CES can request and receive virtual information from the simulation environment i.e. from the HLA federation. The virtual information can include but is not limited to a simulated position of each of the simulated objects as the HLA federation executes a simulation. The virtual information can be retained by the CES and can be updated from time to time as the simulation executes. The virtual information can be provided to the CEP modules and the simulated communications effects can be generated by the CEP modules in accordance with the simulated communications effects. Generation of the simulated communications effects is described more fully below in conjunction with .

The DCEM can also include a system interconnect SI module . In operation the SI module can receive a simulated message to which communications effects have been applied by a CEP module for example the CEP module and can route the simulated message to another CEP module for example the CEP module which can apply further communications effects. Operation of the SI module is described more fully below in conjunction with .

In operation the simulated message having passed through one or more CEP modules passes again through the API to another RTI to the HLA network and through an RTI to an API associated with the second DCEM .

It will be appreciated that the first DCEM can appear to the first federate as another federate by way of the RTIs . Furthermore the first DCEM combined with the first federate can appear as a federate to the HLA network by way of the RTI . Therefore the software wrapper having the RTIs can make the first DCEM appear to be transparent to the first federate .

With the above arrangement the first DCEM can be inserted between the first federate and the HLA network and can appear transparent i.e. can appear as the first federate to the HLA network but with simulated communications effects applied. Similarly the second DCEM can be inserted between the second federate and the HLA network and can appear transparent i.e. can appear as the second federate to the HLA network but with simulated communications effects applied.

While two federates two associated DCEMs and two associated software wrappers are shown in other embodiments there can be more than two or fewer than two of each of these elements.

While RTIs are shown to couple the first federate to the first DCEM and RTIs are shown to couple the second federate to the second DCEM in other embodiments the first federate is coupled directly to the API without use of RTIs and or the second federate is coupled directly to the API without use of RTIs . This arrangement however requires enhancements to the first federate and or to the second federate from that which would be designed to interface in an HLA environment.

It should be recognized that the above described system and techniques do not apply only to an HLA federation. While and HLA network is shown in other embodiments the network can be any network that supports a distributed simulation environment. Furthermore in other embodiments the first and second federates can be non HLA simulated objects having internal simulated objects similar to simulated objects . In embodiments of other distributed simulation environments other software wrappers similar to the software wrappers can be provided which result in the DCEMs appearing transparent to the other distributed simulation environments.

Referring now to a simulation architecture includes a distributed communications effects module DCEM coupled through a software wrapper to an HLA network and also to one or more simulated objects not shown . The DCEM can be the same as or similar to the first and second DCEMs of and the DCEMs of .

The DCEM includes an API which can be he same as or similar to the APIs of . The API can provide interface software instructions represented by dashed lines . The interface software instructions can be of any form and need not be in any particular programming language.

The DCEM can also include one or more communications effects protocol CEP modules N. The CEP modules can be the same as or similar to the CEP modules of . Each one of the CEP modules N can include a respective transmit effects module N and a respective receive effects module N. Each CEP module is associated with at least one of a respective type of simulated communication hardware and a respective type of simulated information protocol.

The DCEM can also include a system interconnect SI module coupled to one or more of the CEP modules and also coupled to a receiving queue . The SI module can be the same as or similar to the SI modules of .

The DCEM can also include a communications effects server CES . The CES can be the same as or similar to the CESs of .

The software wrapper can include a plurality of run time infrastructures adapted to communicate with the HLA network . The software wrapper can be the same as or similar to the software wrappers of . The five RTIs are associated for example with the RTIs of . However in more RTIs are shown for clarity. While five RTIs are shown other embodiments can have more than five or fewer than five RTIs. In one particular embodiment the five RTIs are combined into one RTI and the five RTIs are functionally representative of the one RTI.

In operation the CES can request virtual information from the HLA network via the API via the RTI and via a signal path . The virtual information can include but is not limited to a simulated position of one or more simulated objects coupled to the HLA network which execute in an operating federation simulation. The CES can receive and retain store the virtual information. The CES can update the virtual information from time to time for example once every second or at some other rate appropriate for the rate of simulated movement of relevant simulated objects.

Further operation of the DCEM is described by way of two examples. In a first example a simulated message is generated by a local simulated source object not shown and is presented on the signal path . For example the local simulated source object can correspond to the simulated object of and the DCEM can correspond to the first DCEM of . The local simulated source object can be within the same computing platform as the DCEM . However in other embodiments the local simulated source object is in a different computing platform than the simulated source object.

The simulated message is received by the RTI in the software wrapper associated with the DCEM . The RTI can be adapted to communicate with the DCEM by way of the API and in particular by way of a software instruction represented by the dashed line . The simulated message is directed to a CEP module for example the CEP module and in particular to the transmit effects module associated with the CEP module

The simulated message generated by the simulated source object on the signal path is associated with a particular type of simulated communication hardware located on a particular simulated platform for example a simulated ship and associated with a particular simulated information protocol type. For example the simulated communication hardware can be a simulated digital transmitter located on the simulated ship and the simulated information protocol type can be simulated Internet protocol. The simulated message is directed by the API to a CEP module here CEP module which corresponds to and is able to provide communications effects in accordance with the simulated communication hardware type and the simulated information protocol type associated with the simulated message presented on the signal path . Therefore if the simulated message were associated with a different simulated hardware type and or a different simulated information protocol type the simulated message would be directed by the API to a different CEP module within the DCEM accordingly.

The CEP module can request virtual information from the CES according to the simulated source object and the simulated platform which generated the simulated message on the signal path according to a simulated destination object to which the simulated message is directed and or according to any intermediate simulated objects which may receive and re transmit the simulated message along one or more simulated communication links between the simulated source object and the simulated destination object.

The virtual information includes position information as described above. The transmit effects module applies simulated communications effects to the simulated message in accordance with the virtual information and also in accordance with the simulated communication hardware type and in accordance with the information protocol type associated with the particular CEP module . To this end the CEP module can include one or more communications effects simulations. The one or more communications effects simulations are described more fully below in conjunction with .

The transmit effects module presents the simulated message to which simulated communications effects have been applied to a routing module . If the first or final simulated destination object is local to the DCEM i.e. within the federate of where the DCEM corresponds to the first DCEM of then the simulated message is directed back to the CEP modules and to a particular receive effects module within a CEP module associated with a simulated receiving communication hardware type and the simulated information protocol type. In one particular embodiment the simulated message is directed to a second instantiation not shown of the CEP module and in particular to a second instantiation of the receive effects module . In yet another embodiment the simulated message is directed to the first instantiation of the receive effects module and this embodiments will be used for further description of this example.

Where the simulated message is directed to the receive effects modules the simulated message can have further simulated communications effects applied by the receive effects module in much the same way as described above for the transmit effects module . However in another embodiment only one of or neither of the transmit effects module and the receive effects module applies simulated communications effects to the simulated message.

The simulated message is then directed to the SI module . If the simulated message has passed through the final simulated communication link between the simulated source object and a simulated destination object then the message is sent on signal path to the receiving queue . The simulated message is sent via the API and via the RTI to a local simulated destination object.

If the simulated message has not yet passed through the last simulated communication link the simulated message can instead be directed by the SI module to a next one of the CEPs and in particular to a next one of the transmit effects modules N within one of the CEP modules . The next CEP module to which the simulated message is directed can be associated with another simulated communication hardware type and or another information protocol type. However the next CEP module to which the simulated message is directed can be associated with the same simulated communication hardware type and or the same information protocol type in which case the simulated message can be either directed to another instantiation or the CEP module or in another embodiment to the transmit effects module within the CEP module

From the above discussion it will be appreciated that any number of communication links can be simulated by feeding the simulated message presented on the signal path back to the CEP modules by way of the SI module and via the routing module .

Still in the first example if the routing module determines that the simulated message is next directed to a remote simulated destination object for example simulated object of then the routing module directs the simulated message on a signal path to the API through the RTI and on another signal path to the HLA network toward the remote simulated destination object.

Now in a second example a simulated message is generated by a remote simulated source object and is received on yet another signal path . For example the remote simulated source object can correspond to the simulated object of and the DCEM can correspond to the first DCEM of .

The simulated message is received by the RTI in the software wrapper associated with the DCEM . The RTI communicates with the DCEM by way of the API and in particular by way of a software instruction represented by the dashed line . The simulated message is directed by the API to a CEP module for example to the CEP module N and in particular to the receive effects module N associated with the CEP module N.

The simulated message generated by the remote simulated source object and received on the signal path is associated with a particular type of simulated communication hardware located on a particular simulated platform for example and aircraft and is associated with a particular simulated information protocol type. For example the simulated communication hardware can be a simulated RF analog transmitter located on a simulated aircraft and the simulated information protocol type can be simulated FM. The simulated message is directed by the API to a CEP module here CEP module N which corresponds to and is able to provide communications effects in accordance with the simulated communication hardware type and the simulated information protocol type associated with the simulated message received on the signal path . As described above if the simulated message were associated with a different simulated hardware type and or a different simulated information protocol type the simulated message would be directed by the API to a different CEP module within the DCEM accordingly.

The CEP module N can request virtual information from the CES according to the simulated source object and simulated platform which generated the simulated message on the signal path according to a simulated destination object to which the simulated message is directed and or according to any intermediate simulated objects which may receive and re transmit the simulated message along one or more simulated communication links between the simulated source object and the simulated destination object. The virtual information includes position information as described above.

The receive effects module N can apply simulated communications effects to the simulated message in accordance with the virtual information and also in accordance with the simulated communication hardware type and in accordance with the information protocol type associated with the particular CEP module N. To this end the CEP module N can include one or more communications effects simulations. The one or more communications effects simulations are described more fully below in conjunction with .

The receive effects module N presents the simulated message to which simulated communications effects have been applied to the SI module . If the simulated message has passed through the final simulated communication link between the simulated source object and the simulated destination object then the message is sent on the signal path to the receiving queue . The simulated message is sent via the API and via the RTI to the local simulated destination object.

As described above if the simulated message has not yet passed through the last simulated communication link the simulated message can instead be directed by the SI module to a next one of the CEP modules and in particular to a next one of the transmit effects modules N within one of the CEP modules . The next CEP module to which the simulated message is directed can be associated with another simulated communication hardware type and another information protocol type. However the next CEP module to which the simulated message is directed can be associated with the same simulated communication hardware type and the same information protocol type in which case the simulated message can be either directed to another instantiation of the CEP module N or in another embodiment to the transmit effects module N within the CEP module N.

From the above discussion it will be appreciated that the transmit effects modules and the receive effects modules are associated in pairs wherein a simulated message received by a receive effects module for example the receive effects module N has an associated local or remote transmit effects module and a simulated message received by a transmit effects module for example the transmit effects module has an associated local or remote receive effects module.

Referring now to a communications effects protocol module can include one or more of a stochastic model an embedded code model and a communications behavior model . Each one of the models can be used to generate the above described simulated communications effects in accordance with HLA federation execution data e.g. virtual information acquired by and retained by the communications effects server CES e.g. .

The stochastic model can provide a mathematical model of a communications environment making use of mathematical distributions to represent the message completion rates and delay of a particular communications system.

The embedded code model can provide for example a software model of code embedded in a piece of real world communication hardware. Also the embedded code model can include all or portions of real embedded code associated with a piece of real world communication hardware.

The communications behavior model can include a high fidelity model of real world behavior including but not limited to network access protocols packet collision detection contention retransmissions error correction RF propagation line of sight processing and antenna characteristics such as gain and pattern. In one particular embodiment the communications behavior model includes all or portions of behavior extracted from an OPNET model. OPNET OPNET Technologies Inc. provides a large comprehensive library of discrete event simulation models for the modeling of communication link physical layers communication hardware communication data types communication protocol types and communication encryption types for both wired and wireless communications and including satellite communications. OPNET provides high fidelity models of a variety of communication environments.

At least one of the stochastic model the embedded code model and the communications behavior model can generate at least one of the simulated message completion effect and the simulated message delay effect described more fully above in conjunction with .

As described for example in conjunction with the CEP module can include a transmit module and a receive module. Furthermore a given CEP module is associated with at least one of a communication hardware type and an information protocol. Therefore the transmit effects module and the receive effects module can make use of the same stochastic model the same embedded code model and or the same communications behavior model .

As described in conjunction with a distributed communications effects module DCEM can have a plurality of communications effects protocol CEP modules. In some embodiments the plurality of CEP modules can have different combinations of stochastic models e.g. embedded code models e.g. and communications behavior models e.g. . For example the CEP module can make use of a stochastic model e.g. and the CEP module N can make use of a communications behavior model e.g. .

In some embodiments one or more of the CEP modules can have more than one model. Where a CEP module has more than one model the model used to generate the communications effects is selected in accordance with a variety of factors for example a processing time a desired fidelity and a desired behavior.

It should be appreciated that shows a flowchart corresponding to the below contemplated technique which would be implemented in the distributed communications effects modules . Rectangular elements typified by element in herein denoted processing blocks represent computer software instructions or groups of instructions. Diamond shaped elements typified by element in herein denoted decision blocks represent computer software instructions or groups of instructions which affect the execution of the computer software instructions represented by the processing blocks.

Alternatively the processing blocks represent steps performed by functionally equivalent circuits such as a digital signal processor circuit or an application specific integrated circuit ASIC . The flow diagrams do not depict the syntax of any particular programming language. Rather the flow diagrams illustrate the functional information one of ordinary skill in the art requires to fabricate circuits or to generate computer software to perform the processing required of the particular apparatus. It should be noted that many routine program elements such as initialization of loops and variables and the use of temporary variables are not shown. It will be appreciated by those of ordinary skill in the art that unless otherwise indicated herein the particular sequence of blocks described is illustrative only and can be varied without departing from the spirit of the invention. Thus unless otherwise stated the blocks described below are unordered meaning that when possible the blocks can be performed in any convenient or desirable order.

Referring now to a process is associated with a distributed communications effects module DCEM for example the DCEMs of or the DCEM of . The process begins at block where a DCEM is provided having a communications effects server CES and one or more communications effects protocol CEP modules as shown for example in .

At block virtual information is requested from an HLA simulation for example the CES of can request the virtual information from the HLA of . As described above the virtual information can include a variety of things including but not limited to simulated locations of simulated objects used in the HLA simulation.

The virtual information is received for example by the CES at block . The CES can retain relevant virtual information for the entire federation for example position information associated with each simulated object. The CES can dynamically update the retained virtual information.

At block a simulated message is received from a local simulated source object or alternatively from a remote simulated source object via another DCEM and at block one or more simulated source objects one or more simulated destination objects and one or more associated communication links are identified from the simulated message. To this end source and destination addresses associated with a network packet can be used to identify the simulated source objects and a simulated destination objects. The identity of the simulated source objects and the simulated destination objects can be used to identify the associated simulated communication links.

It should be understood that not all network packets passing though the DCEM are associated with a simulated message. For example a network data packet passing through the DCEM can be an HLA subscription request generated by a federate. Therefore the DCEM is able at block to identify a simulated message from among other network packets.

At block one of the communication links identified at block is selected and a communication hardware type and a communication protocol type is identified which are associated with the selected communication link. For example for the identified communication link the simulated source object can be a wired digital transmitter having an Ethernet protocol and the simulated destination object can be a wired digital receiver having the Ethernet protocol. For another one of the communication links identified at block for example the simulated source object can be a wired digital transmitter having an Internet protocol and the simulated destination object can be a wired digital receiver having the Internet protocol.

Where the simulated message is received from a local simulated source object at block for example on the signal path of then at block the simulated message is directed to a CEP module having a transmit effects module e.g. that matches the simulated communication hardware type and or the simulated information protocol type identified at block . Conversely where the simulated message is received from a remote simulated source object at block for example on the signal path of then at block the simulated message is directed to a CEP module having a receive effects module e.g. that matches that the simulated communication hardware type and or the simulated information protocol type identified at block .

In either case at block the CEP module to which the simulated message is directed requests virtual information i.e. HLA federation execution data from the CES for example the CES of . The virtual information is received by the CEP module at block .

At block the virtual information is processed by the CEP module to which the simulated message is directed at block to generate simulated communications effects appropriate for the communication hardware type and or information protocol type. Processing of the virtual information is described above in conjunction with . As described more fully above in conjunction with the simulated communications effects can include at least one of a simulated message completion effect and a simulated message delay effect.

At block the simulated communications effects generated at block are applied to the simulated message.

At decision block if the simulated message was directed to a receive effects module at block then the process continues to decision block . At decision block if the simulated communications link selected at block is the last simulated communication link associated with the simulated message then the process continues to block where the simulated message is provided to a local simulated destination object. For example the SI module of is representative of the decision block and signal path of is representative of the above described presenting the simulated message to the local simulated destination object.

At block if the communication link selected at block is not the last communication link from among the communication links identified at block then the process continues to block . At block a next simulated communication link is selected from among the simulated communication links identified at block and at least one of a communication hardware type and a communication protocol associated with a next transmitter is identified. The process continues to block where again the simulated message is directed to a CEP module associated with the at least one of the communication hardware type and the communication protocol i.e. to a CEP module that support the communication hardware type and or information protocol identified at block .

If at block the simulated message was not directed to a receive effects module in a CEP module at block i.e. the simulated message was directed to a transmit effects module for example the transmit effects module of the process continues to block . At block a next at least one of a hardware type and an information protocol type is identified which is associated with a simulated receiver and the process continues to block .

At block if there is a local CEP module which supports the receiver hardware type and or information protocol type identified at block then the process returns to block where again the simulated message is directed to a CEP module associated with at least one of the communication hardware type and the communication protocol i.e. to a CEP module associated with the receiver identified at block . At block if there is no local CEP module which supports the communication hardware type and or information protocol type identified at block then the process continues to block where the simulated message is directed to a remote simulated destination object elsewhere in the federation i.e. to a CEP module in the remote CEP module which support the communication hardware type and or information protocol identified at block .

While and HLA simulation environments have been shown and described in conjunction with figures above it should be understood that the above described distributed communications effects module DCEM and associated techniques apply also to any simulation environment including but not limited to operational simulators in an operational simulation environment virtual simulators in a virtual simulation environment man in the loop simulations hardware in the loop simulations and any combination thereof.

Having described preferred embodiments of the invention it will now become apparent to one of ordinary skill in the art that other embodiments incorporating their concepts may be used. It is felt therefore that these embodiments should not be limited to disclosed embodiments.

